// Generated by Construct, the game and animation creation tool
// Visit: https://www.construct.net

var aa;"use strict";var ba="undefined"!==typeof Float32Array?Float32Array:Array,ca=Math.random,da=Math.PI/180;Math.hypot||(Math.hypot=function(){for(var a=0,b=arguments.length;b--;)a+=arguments[b]*arguments[b];return Math.sqrt(a)});var ea={__proto__:null,EPSILON:1E-6,get k5(){return ba},hba:ca,j5:"zyx",dja:function(a){ba=a},yja:function(a){return a*da},Fd:function(a,b){return Math.abs(a-b)<=1E-6*Math.max(1,Math.abs(a),Math.abs(b))}};
function fa(a,b,c){var d=b[0],e=b[1],f=b[2];b=b[3];var g=c[0],h=c[1],k=c[2];c=c[3];a[0]=d*g+f*h;a[1]=e*g+b*h;a[2]=d*k+f*c;a[3]=e*k+b*c;return a}function ha(a,b,c){a[0]=b[0]-c[0];a[1]=b[1]-c[1];a[2]=b[2]-c[2];a[3]=b[3]-c[3];return a}
var ja=Object.freeze({__proto__:null,create:function(){var a=new ba(4);ba!=Float32Array&&(a[1]=0,a[2]=0);a[0]=1;a[3]=1;return a},clone:function(a){var b=new ba(4);b[0]=a[0];b[1]=a[1];b[2]=a[2];b[3]=a[3];return b},wa:function(a,b){a[0]=b[0];a[1]=b[1];a[2]=b[2];a[3]=b[3];return a},JA:function(a){a[0]=1;a[1]=0;a[2]=0;a[3]=1;return a},Cg:function(a,b,c,d){var e=new ba(4);e[0]=a;e[1]=b;e[2]=c;e[3]=d;return e},set:function(a,b,c,d,e){a[0]=b;a[1]=c;a[2]=d;a[3]=e;return a},oV:function(a,b){if(a===b){var c=
b[1];a[1]=b[2];a[2]=c}else a[0]=b[0],a[1]=b[2],a[2]=b[1],a[3]=b[3];return a},hw:function(a,b){var c=b[0],d=b[1],e=b[2];b=b[3];var f=c*b-e*d;if(!f)return null;f=1/f;a[0]=b*f;a[1]=-d*f;a[2]=-e*f;a[3]=c*f;return a},iU:function(a,b){var c=b[0];a[0]=b[3];a[1]=-b[1];a[2]=-b[2];a[3]=c;return a},UM:function(a){return a[0]*a[3]-a[2]*a[1]},multiply:fa,rotate:function(a,b,c){var d=b[0],e=b[1],f=b[2];b=b[3];var g=Math.sin(c);c=Math.cos(c);a[0]=d*c+f*g;a[1]=e*c+b*g;a[2]=d*-g+f*c;a[3]=e*-g+b*c;return a},scale:function(a,
b,c){var d=b[1],e=b[2],f=b[3],g=c[0];c=c[1];a[0]=b[0]*g;a[1]=d*g;a[2]=e*c;a[3]=f*c;return a},cG:function(a,b){var c=Math.sin(b);b=Math.cos(b);a[0]=b;a[1]=c;a[2]=-c;a[3]=b;return a},aN:function(a,b){a[0]=b[0];a[1]=0;a[2]=0;a[3]=b[1];return a},Vj:function(a){return"mat2("+a[0]+", "+a[1]+", "+a[2]+", "+a[3]+")"},$M:function(a){return Math.hypot(a[0],a[1],a[2],a[3])},U9:function(a,b,c,d){a[2]=d[2]/d[0];c[0]=d[0];c[1]=d[1];c[3]=d[3]-a[2]*c[1];return[a,b,c]},add:function(a,b,c){a[0]=b[0]+c[0];a[1]=b[1]+
c[1];a[2]=b[2]+c[2];a[3]=b[3]+c[3];return a},Do:ha,Vi:function(a,b){return a[0]===b[0]&&a[1]===b[1]&&a[2]===b[2]&&a[3]===b[3]},Fd:function(a,b){var c=a[0],d=a[1],e=a[2];a=a[3];var f=b[0],g=b[1],h=b[2];b=b[3];return Math.abs(c-f)<=1E-6*Math.max(1,Math.abs(c),Math.abs(f))&&Math.abs(d-g)<=1E-6*Math.max(1,Math.abs(d),Math.abs(g))&&Math.abs(e-h)<=1E-6*Math.max(1,Math.abs(e),Math.abs(h))&&Math.abs(a-b)<=1E-6*Math.max(1,Math.abs(a),Math.abs(b))},sN:function(a,b,c){a[0]=b[0]*c;a[1]=b[1]*c;a[2]=b[2]*c;a[3]=
b[3]*c;return a},tN:function(a,b,c,d){a[0]=b[0]+c[0]*d;a[1]=b[1]+c[1]*d;a[2]=b[2]+c[2]*d;a[3]=b[3]+c[3]*d;return a},Bo:fa,sub:ha});function ka(a,b,c){var d=b[0],e=b[1],f=b[2],g=b[3],h=b[4];b=b[5];var k=c[0],l=c[1],m=c[2],n=c[3],p=c[4];c=c[5];a[0]=d*k+f*l;a[1]=e*k+g*l;a[2]=d*m+f*n;a[3]=e*m+g*n;a[4]=d*p+f*c+h;a[5]=e*p+g*c+b;return a}function la(a,b,c){a[0]=b[0]-c[0];a[1]=b[1]-c[1];a[2]=b[2]-c[2];a[3]=b[3]-c[3];a[4]=b[4]-c[4];a[5]=b[5]-c[5];return a}
var ma=Object.freeze({__proto__:null,create:function(){var a=new ba(6);ba!=Float32Array&&(a[1]=0,a[2]=0,a[4]=0,a[5]=0);a[0]=1;a[3]=1;return a},clone:function(a){var b=new ba(6);b[0]=a[0];b[1]=a[1];b[2]=a[2];b[3]=a[3];b[4]=a[4];b[5]=a[5];return b},wa:function(a,b){a[0]=b[0];a[1]=b[1];a[2]=b[2];a[3]=b[3];a[4]=b[4];a[5]=b[5];return a},JA:function(a){a[0]=1;a[1]=0;a[2]=0;a[3]=1;a[4]=0;a[5]=0;return a},Cg:function(a,b,c,d,e,f){var g=new ba(6);g[0]=a;g[1]=b;g[2]=c;g[3]=d;g[4]=e;g[5]=f;return g},set:function(a,
b,c,d,e,f,g){a[0]=b;a[1]=c;a[2]=d;a[3]=e;a[4]=f;a[5]=g;return a},hw:function(a,b){var c=b[0],d=b[1],e=b[2],f=b[3],g=b[4];b=b[5];var h=c*f-d*e;if(!h)return null;h=1/h;a[0]=f*h;a[1]=-d*h;a[2]=-e*h;a[3]=c*h;a[4]=(e*b-f*g)*h;a[5]=(d*g-c*b)*h;return a},UM:function(a){return a[0]*a[3]-a[1]*a[2]},multiply:ka,rotate:function(a,b,c){var d=b[0],e=b[1],f=b[2],g=b[3],h=b[4];b=b[5];var k=Math.sin(c);c=Math.cos(c);a[0]=d*c+f*k;a[1]=e*c+g*k;a[2]=d*-k+f*c;a[3]=e*-k+g*c;a[4]=h;a[5]=b;return a},scale:function(a,b,
c){var d=b[1],e=b[2],f=b[3],g=b[4],h=b[5],k=c[0];c=c[1];a[0]=b[0]*k;a[1]=d*k;a[2]=e*c;a[3]=f*c;a[4]=g;a[5]=h;return a},translate:function(a,b,c){var d=b[0],e=b[1],f=b[2],g=b[3],h=b[4];b=b[5];var k=c[0];c=c[1];a[0]=d;a[1]=e;a[2]=f;a[3]=g;a[4]=d*k+f*c+h;a[5]=e*k+g*c+b;return a},cG:function(a,b){var c=Math.sin(b);b=Math.cos(b);a[0]=b;a[1]=c;a[2]=-c;a[3]=b;a[4]=0;a[5]=0;return a},aN:function(a,b){a[0]=b[0];a[1]=0;a[2]=0;a[3]=b[1];a[4]=0;a[5]=0;return a},bN:function(a,b){a[0]=1;a[1]=0;a[2]=0;a[3]=1;a[4]=
b[0];a[5]=b[1];return a},Vj:function(a){return"mat2d("+a[0]+", "+a[1]+", "+a[2]+", "+a[3]+", "+a[4]+", "+a[5]+")"},$M:function(a){return Math.hypot(a[0],a[1],a[2],a[3],a[4],a[5],1)},add:function(a,b,c){a[0]=b[0]+c[0];a[1]=b[1]+c[1];a[2]=b[2]+c[2];a[3]=b[3]+c[3];a[4]=b[4]+c[4];a[5]=b[5]+c[5];return a},Do:la,sN:function(a,b,c){a[0]=b[0]*c;a[1]=b[1]*c;a[2]=b[2]*c;a[3]=b[3]*c;a[4]=b[4]*c;a[5]=b[5]*c;return a},tN:function(a,b,c,d){a[0]=b[0]+c[0]*d;a[1]=b[1]+c[1]*d;a[2]=b[2]+c[2]*d;a[3]=b[3]+c[3]*d;a[4]=
b[4]+c[4]*d;a[5]=b[5]+c[5]*d;return a},Vi:function(a,b){return a[0]===b[0]&&a[1]===b[1]&&a[2]===b[2]&&a[3]===b[3]&&a[4]===b[4]&&a[5]===b[5]},Fd:function(a,b){var c=a[0],d=a[1],e=a[2],f=a[3],g=a[4];a=a[5];var h=b[0],k=b[1],l=b[2],m=b[3],n=b[4];b=b[5];return Math.abs(c-h)<=1E-6*Math.max(1,Math.abs(c),Math.abs(h))&&Math.abs(d-k)<=1E-6*Math.max(1,Math.abs(d),Math.abs(k))&&Math.abs(e-l)<=1E-6*Math.max(1,Math.abs(e),Math.abs(l))&&Math.abs(f-m)<=1E-6*Math.max(1,Math.abs(f),Math.abs(m))&&Math.abs(g-n)<=1E-6*
Math.max(1,Math.abs(g),Math.abs(n))&&Math.abs(a-b)<=1E-6*Math.max(1,Math.abs(a),Math.abs(b))},Bo:ka,sub:la});function na(){var a=new ba(9);ba!=Float32Array&&(a[1]=0,a[2]=0,a[3]=0,a[5]=0,a[6]=0,a[7]=0);a[0]=1;a[4]=1;a[8]=1;return a}
function oa(a,b,c){var d=b[0],e=b[1],f=b[2],g=b[3],h=b[4],k=b[5],l=b[6],m=b[7];b=b[8];var n=c[0],p=c[1],q=c[2],u=c[3],r=c[4],t=c[5],v=c[6],w=c[7];c=c[8];a[0]=n*d+p*g+q*l;a[1]=n*e+p*h+q*m;a[2]=n*f+p*k+q*b;a[3]=u*d+r*g+t*l;a[4]=u*e+r*h+t*m;a[5]=u*f+r*k+t*b;a[6]=v*d+w*g+c*l;a[7]=v*e+w*h+c*m;a[8]=v*f+w*k+c*b;return a}function pa(a,b,c){a[0]=b[0]-c[0];a[1]=b[1]-c[1];a[2]=b[2]-c[2];a[3]=b[3]-c[3];a[4]=b[4]-c[4];a[5]=b[5]-c[5];a[6]=b[6]-c[6];a[7]=b[7]-c[7];a[8]=b[8]-c[8];return a}
var qa=Object.freeze({__proto__:null,create:na,M3:function(a,b){a[0]=b[0];a[1]=b[1];a[2]=b[2];a[3]=b[4];a[4]=b[5];a[5]=b[6];a[6]=b[8];a[7]=b[9];a[8]=b[10];return a},clone:function(a){var b=new ba(9);b[0]=a[0];b[1]=a[1];b[2]=a[2];b[3]=a[3];b[4]=a[4];b[5]=a[5];b[6]=a[6];b[7]=a[7];b[8]=a[8];return b},wa:function(a,b){a[0]=b[0];a[1]=b[1];a[2]=b[2];a[3]=b[3];a[4]=b[4];a[5]=b[5];a[6]=b[6];a[7]=b[7];a[8]=b[8];return a},Cg:function(a,b,c,d,e,f,g,h,k){var l=new ba(9);l[0]=a;l[1]=b;l[2]=c;l[3]=d;l[4]=e;l[5]=
f;l[6]=g;l[7]=h;l[8]=k;return l},set:function(a,b,c,d,e,f,g,h,k,l){a[0]=b;a[1]=c;a[2]=d;a[3]=e;a[4]=f;a[5]=g;a[6]=h;a[7]=k;a[8]=l;return a},JA:function(a){a[0]=1;a[1]=0;a[2]=0;a[3]=0;a[4]=1;a[5]=0;a[6]=0;a[7]=0;a[8]=1;return a},oV:function(a,b){if(a===b){var c=b[1],d=b[2],e=b[5];a[1]=b[3];a[2]=b[6];a[3]=c;a[5]=b[7];a[6]=d;a[7]=e}else a[0]=b[0],a[1]=b[3],a[2]=b[6],a[3]=b[1],a[4]=b[4],a[5]=b[7],a[6]=b[2],a[7]=b[5],a[8]=b[8];return a},hw:function(a,b){var c=b[0],d=b[1],e=b[2],f=b[3],g=b[4],h=b[5],k=
b[6],l=b[7];b=b[8];var m=b*g-h*l,n=-b*f+h*k,p=l*f-g*k,q=c*m+d*n+e*p;if(!q)return null;q=1/q;a[0]=m*q;a[1]=(-b*d+e*l)*q;a[2]=(h*d-e*g)*q;a[3]=n*q;a[4]=(b*c-e*k)*q;a[5]=(-h*c+e*f)*q;a[6]=p*q;a[7]=(-l*c+d*k)*q;a[8]=(g*c-d*f)*q;return a},iU:function(a,b){var c=b[0],d=b[1],e=b[2],f=b[3],g=b[4],h=b[5],k=b[6],l=b[7];b=b[8];a[0]=g*b-h*l;a[1]=e*l-d*b;a[2]=d*h-e*g;a[3]=h*k-f*b;a[4]=c*b-e*k;a[5]=e*f-c*h;a[6]=f*l-g*k;a[7]=d*k-c*l;a[8]=c*g-d*f;return a},UM:function(a){var b=a[3],c=a[4],d=a[5],e=a[6],f=a[7],g=
a[8];return a[0]*(g*c-d*f)+a[1]*(-g*b+d*e)+a[2]*(f*b-c*e)},multiply:oa,translate:function(a,b,c){var d=b[0],e=b[1],f=b[2],g=b[3],h=b[4],k=b[5],l=b[6],m=b[7];b=b[8];var n=c[0];c=c[1];a[0]=d;a[1]=e;a[2]=f;a[3]=g;a[4]=h;a[5]=k;a[6]=n*d+c*g+l;a[7]=n*e+c*h+m;a[8]=n*f+c*k+b;return a},rotate:function(a,b,c){var d=b[0],e=b[1],f=b[2],g=b[3],h=b[4],k=b[5],l=b[6],m=b[7];b=b[8];var n=Math.sin(c);c=Math.cos(c);a[0]=c*d+n*g;a[1]=c*e+n*h;a[2]=c*f+n*k;a[3]=c*g-n*d;a[4]=c*h-n*e;a[5]=c*k-n*f;a[6]=l;a[7]=m;a[8]=b;return a},
scale:function(a,b,c){var d=c[0];c=c[1];a[0]=d*b[0];a[1]=d*b[1];a[2]=d*b[2];a[3]=c*b[3];a[4]=c*b[4];a[5]=c*b[5];a[6]=b[6];a[7]=b[7];a[8]=b[8];return a},bN:function(a,b){a[0]=1;a[1]=0;a[2]=0;a[3]=0;a[4]=1;a[5]=0;a[6]=b[0];a[7]=b[1];a[8]=1;return a},cG:function(a,b){var c=Math.sin(b);b=Math.cos(b);a[0]=b;a[1]=c;a[2]=0;a[3]=-c;a[4]=b;a[5]=0;a[6]=0;a[7]=0;a[8]=1;return a},aN:function(a,b){a[0]=b[0];a[1]=0;a[2]=0;a[3]=0;a[4]=b[1];a[5]=0;a[6]=0;a[7]=0;a[8]=1;return a},Uga:function(a,b){a[0]=b[0];a[1]=b[1];
a[2]=0;a[3]=b[2];a[4]=b[3];a[5]=0;a[6]=b[4];a[7]=b[5];a[8]=1;return a},N3:function(a,b){var c=b[0],d=b[1],e=b[2];b=b[3];var f=c+c,g=d+d,h=e+e;c*=f;var k=d*f;d*=g;var l=e*f,m=e*g;e*=h;f*=b;g*=b;b*=h;a[0]=1-d-e;a[3]=k-b;a[6]=l+g;a[1]=k+b;a[4]=1-c-e;a[7]=m-f;a[2]=l-g;a[5]=m+f;a[8]=1-c-d;return a},gia:function(a,b){var c=b[0],d=b[1],e=b[2],f=b[3],g=b[4],h=b[5],k=b[6],l=b[7],m=b[8],n=b[9],p=b[10],q=b[11],u=b[12],r=b[13],t=b[14];b=b[15];var v=c*h-d*g,w=c*k-e*g,A=c*l-f*g,G=d*k-e*h,H=d*l-f*h,T=e*l-f*k,xa=
m*r-n*u,va=m*t-p*u;m=m*b-q*u;var ia=n*t-p*r;n=n*b-q*r;p=p*b-q*t;q=v*p-w*n+A*ia+G*m-H*va+T*xa;if(!q)return null;q=1/q;a[0]=(h*p-k*n+l*ia)*q;a[1]=(k*m-g*p-l*va)*q;a[2]=(g*n-h*m+l*xa)*q;a[3]=(e*n-d*p-f*ia)*q;a[4]=(c*p-e*m+f*va)*q;a[5]=(d*m-c*n-f*xa)*q;a[6]=(r*T-t*H+b*G)*q;a[7]=(t*A-u*T-b*w)*q;a[8]=(u*H-r*A+b*v)*q;return a},WU:function(a,b,c){a[0]=2/b;a[1]=0;a[2]=0;a[3]=0;a[4]=-2/c;a[5]=0;a[6]=-1;a[7]=1;a[8]=1;return a},Vj:function(a){return"mat3("+a[0]+", "+a[1]+", "+a[2]+", "+a[3]+", "+a[4]+", "+a[5]+
", "+a[6]+", "+a[7]+", "+a[8]+")"},$M:function(a){return Math.hypot(a[0],a[1],a[2],a[3],a[4],a[5],a[6],a[7],a[8])},add:function(a,b,c){a[0]=b[0]+c[0];a[1]=b[1]+c[1];a[2]=b[2]+c[2];a[3]=b[3]+c[3];a[4]=b[4]+c[4];a[5]=b[5]+c[5];a[6]=b[6]+c[6];a[7]=b[7]+c[7];a[8]=b[8]+c[8];return a},Do:pa,sN:function(a,b,c){a[0]=b[0]*c;a[1]=b[1]*c;a[2]=b[2]*c;a[3]=b[3]*c;a[4]=b[4]*c;a[5]=b[5]*c;a[6]=b[6]*c;a[7]=b[7]*c;a[8]=b[8]*c;return a},tN:function(a,b,c,d){a[0]=b[0]+c[0]*d;a[1]=b[1]+c[1]*d;a[2]=b[2]+c[2]*d;a[3]=b[3]+
c[3]*d;a[4]=b[4]+c[4]*d;a[5]=b[5]+c[5]*d;a[6]=b[6]+c[6]*d;a[7]=b[7]+c[7]*d;a[8]=b[8]+c[8]*d;return a},Vi:function(a,b){return a[0]===b[0]&&a[1]===b[1]&&a[2]===b[2]&&a[3]===b[3]&&a[4]===b[4]&&a[5]===b[5]&&a[6]===b[6]&&a[7]===b[7]&&a[8]===b[8]},Fd:function(a,b){var c=a[0],d=a[1],e=a[2],f=a[3],g=a[4],h=a[5],k=a[6],l=a[7];a=a[8];var m=b[0],n=b[1],p=b[2],q=b[3],u=b[4],r=b[5],t=b[6],v=b[7];b=b[8];return Math.abs(c-m)<=1E-6*Math.max(1,Math.abs(c),Math.abs(m))&&Math.abs(d-n)<=1E-6*Math.max(1,Math.abs(d),
Math.abs(n))&&Math.abs(e-p)<=1E-6*Math.max(1,Math.abs(e),Math.abs(p))&&Math.abs(f-q)<=1E-6*Math.max(1,Math.abs(f),Math.abs(q))&&Math.abs(g-u)<=1E-6*Math.max(1,Math.abs(g),Math.abs(u))&&Math.abs(h-r)<=1E-6*Math.max(1,Math.abs(h),Math.abs(r))&&Math.abs(k-t)<=1E-6*Math.max(1,Math.abs(k),Math.abs(t))&&Math.abs(l-v)<=1E-6*Math.max(1,Math.abs(l),Math.abs(v))&&Math.abs(a-b)<=1E-6*Math.max(1,Math.abs(a),Math.abs(b))},Bo:oa,sub:pa});
function ra(a){a[0]=1;a[1]=0;a[2]=0;a[3]=0;a[4]=0;a[5]=1;a[6]=0;a[7]=0;a[8]=0;a[9]=0;a[10]=1;a[11]=0;a[12]=0;a[13]=0;a[14]=0;a[15]=1;return a}
function sa(a,b,c){var d=b[0],e=b[1],f=b[2],g=b[3],h=b[4],k=b[5],l=b[6],m=b[7],n=b[8],p=b[9],q=b[10],u=b[11],r=b[12],t=b[13],v=b[14];b=b[15];var w=c[0],A=c[1],G=c[2],H=c[3];a[0]=w*d+A*h+G*n+H*r;a[1]=w*e+A*k+G*p+H*t;a[2]=w*f+A*l+G*q+H*v;a[3]=w*g+A*m+G*u+H*b;w=c[4];A=c[5];G=c[6];H=c[7];a[4]=w*d+A*h+G*n+H*r;a[5]=w*e+A*k+G*p+H*t;a[6]=w*f+A*l+G*q+H*v;a[7]=w*g+A*m+G*u+H*b;w=c[8];A=c[9];G=c[10];H=c[11];a[8]=w*d+A*h+G*n+H*r;a[9]=w*e+A*k+G*p+H*t;a[10]=w*f+A*l+G*q+H*v;a[11]=w*g+A*m+G*u+H*b;w=c[12];A=c[13];
G=c[14];H=c[15];a[12]=w*d+A*h+G*n+H*r;a[13]=w*e+A*k+G*p+H*t;a[14]=w*f+A*l+G*q+H*v;a[15]=w*g+A*m+G*u+H*b;return a}function ta(a,b,c){var d=b[0],e=b[1],f=b[2],g=b[3],h=d+d,k=e+e,l=f+f;b=d*h;var m=d*k;d*=l;var n=e*k;e*=l;f*=l;h*=g;k*=g;g*=l;a[0]=1-(n+f);a[1]=m+g;a[2]=d-k;a[3]=0;a[4]=m-g;a[5]=1-(b+f);a[6]=e+h;a[7]=0;a[8]=d+k;a[9]=e-h;a[10]=1-(b+n);a[11]=0;a[12]=c[0];a[13]=c[1];a[14]=c[2];a[15]=1;return a}function ua(a,b){a[0]=b[12];a[1]=b[13];a[2]=b[14];return a}
function wa(a,b){var c=b[4],d=b[5],e=b[6],f=b[8],g=b[9],h=b[10];a[0]=Math.hypot(b[0],b[1],b[2]);a[1]=Math.hypot(c,d,e);a[2]=Math.hypot(f,g,h);return a}
function ya(a,b){var c=new ba(3);wa(c,b);var d=1/c[0],e=1/c[1],f=1/c[2],g=b[0]*d;c=b[1]*e;var h=b[2]*f,k=b[4]*d,l=b[5]*e,m=b[6]*f;d*=b[8];e*=b[9];b=b[10]*f;f=g+l+b;0<f?(g=2*Math.sqrt(f+1),a[3]=.25*g,a[0]=(m-e)/g,a[1]=(d-h)/g,a[2]=(c-k)/g):g>l&&g>b?(g=2*Math.sqrt(1+g-l-b),a[3]=(m-e)/g,a[0]=.25*g,a[1]=(c+k)/g,a[2]=(d+h)/g):l>b?(g=2*Math.sqrt(1+l-g-b),a[3]=(d-h)/g,a[0]=(c+k)/g,a[1]=.25*g,a[2]=(m+e)/g):(g=2*Math.sqrt(1+b-g-l),a[3]=(c-k)/g,a[0]=(d+h)/g,a[1]=(m+e)/g,a[2]=.25*g);return a}
function za(a,b,c,d,e){b=1/Math.tan(b/2);a[0]=b/c;a[1]=0;a[2]=0;a[3]=0;a[4]=0;a[5]=b;a[6]=0;a[7]=0;a[8]=0;a[9]=0;a[11]=-1;a[12]=0;a[13]=0;a[15]=0;null!=e&&Infinity!==e?(c=1/(d-e),a[10]=(e+d)*c,a[14]=2*e*d*c):(a[10]=-1,a[14]=-2*d);return a}function Aa(a,b,c,d,e,f,g){var h=1/(b-c),k=1/(d-e),l=1/(f-g);a[0]=-2*h;a[1]=0;a[2]=0;a[3]=0;a[4]=0;a[5]=-2*k;a[6]=0;a[7]=0;a[8]=0;a[9]=0;a[10]=2*l;a[11]=0;a[12]=(b+c)*h;a[13]=(e+d)*k;a[14]=(g+f)*l;a[15]=1;return a}
function Ca(a,b,c){a[0]=b[0]-c[0];a[1]=b[1]-c[1];a[2]=b[2]-c[2];a[3]=b[3]-c[3];a[4]=b[4]-c[4];a[5]=b[5]-c[5];a[6]=b[6]-c[6];a[7]=b[7]-c[7];a[8]=b[8]-c[8];a[9]=b[9]-c[9];a[10]=b[10]-c[10];a[11]=b[11]-c[11];a[12]=b[12]-c[12];a[13]=b[13]-c[13];a[14]=b[14]-c[14];a[15]=b[15]-c[15];return a}
var Da=Object.freeze({__proto__:null,create:function(){var a=new ba(16);ba!=Float32Array&&(a[1]=0,a[2]=0,a[3]=0,a[4]=0,a[6]=0,a[7]=0,a[8]=0,a[9]=0,a[11]=0,a[12]=0,a[13]=0,a[14]=0);a[0]=1;a[5]=1;a[10]=1;a[15]=1;return a},clone:function(a){var b=new ba(16);b[0]=a[0];b[1]=a[1];b[2]=a[2];b[3]=a[3];b[4]=a[4];b[5]=a[5];b[6]=a[6];b[7]=a[7];b[8]=a[8];b[9]=a[9];b[10]=a[10];b[11]=a[11];b[12]=a[12];b[13]=a[13];b[14]=a[14];b[15]=a[15];return b},wa:function(a,b){a[0]=b[0];a[1]=b[1];a[2]=b[2];a[3]=b[3];a[4]=b[4];
a[5]=b[5];a[6]=b[6];a[7]=b[7];a[8]=b[8];a[9]=b[9];a[10]=b[10];a[11]=b[11];a[12]=b[12];a[13]=b[13];a[14]=b[14];a[15]=b[15];return a},Cg:function(a,b,c,d,e,f,g,h,k,l,m,n,p,q,u,r){var t=new ba(16);t[0]=a;t[1]=b;t[2]=c;t[3]=d;t[4]=e;t[5]=f;t[6]=g;t[7]=h;t[8]=k;t[9]=l;t[10]=m;t[11]=n;t[12]=p;t[13]=q;t[14]=u;t[15]=r;return t},set:function(a,b,c,d,e,f,g,h,k,l,m,n,p,q,u,r,t){a[0]=b;a[1]=c;a[2]=d;a[3]=e;a[4]=f;a[5]=g;a[6]=h;a[7]=k;a[8]=l;a[9]=m;a[10]=n;a[11]=p;a[12]=q;a[13]=u;a[14]=r;a[15]=t;return a},JA:ra,
oV:function(a,b){if(a===b){var c=b[1],d=b[2],e=b[3],f=b[6],g=b[7],h=b[11];a[1]=b[4];a[2]=b[8];a[3]=b[12];a[4]=c;a[6]=b[9];a[7]=b[13];a[8]=d;a[9]=f;a[11]=b[14];a[12]=e;a[13]=g;a[14]=h}else a[0]=b[0],a[1]=b[4],a[2]=b[8],a[3]=b[12],a[4]=b[1],a[5]=b[5],a[6]=b[9],a[7]=b[13],a[8]=b[2],a[9]=b[6],a[10]=b[10],a[11]=b[14],a[12]=b[3],a[13]=b[7],a[14]=b[11],a[15]=b[15];return a},hw:function(a,b){var c=b[0],d=b[1],e=b[2],f=b[3],g=b[4],h=b[5],k=b[6],l=b[7],m=b[8],n=b[9],p=b[10],q=b[11],u=b[12],r=b[13],t=b[14];
b=b[15];var v=c*h-d*g,w=c*k-e*g,A=c*l-f*g,G=d*k-e*h,H=d*l-f*h,T=e*l-f*k,xa=m*r-n*u,va=m*t-p*u,ia=m*b-q*u,Ba=n*t-p*r,vb=n*b-q*r,wb=p*b-q*t,Ia=v*wb-w*vb+A*Ba+G*ia-H*va+T*xa;if(!Ia)return null;Ia=1/Ia;a[0]=(h*wb-k*vb+l*Ba)*Ia;a[1]=(e*vb-d*wb-f*Ba)*Ia;a[2]=(r*T-t*H+b*G)*Ia;a[3]=(p*H-n*T-q*G)*Ia;a[4]=(k*ia-g*wb-l*va)*Ia;a[5]=(c*wb-e*ia+f*va)*Ia;a[6]=(t*A-u*T-b*w)*Ia;a[7]=(m*T-p*A+q*w)*Ia;a[8]=(g*vb-h*ia+l*xa)*Ia;a[9]=(d*ia-c*vb-f*xa)*Ia;a[10]=(u*H-r*A+b*v)*Ia;a[11]=(n*A-m*H-q*v)*Ia;a[12]=(h*va-g*Ba-k*
xa)*Ia;a[13]=(c*Ba-d*va+e*xa)*Ia;a[14]=(r*w-u*G-t*v)*Ia;a[15]=(m*G-n*w+p*v)*Ia;return a},iU:function(a,b){var c=b[0],d=b[1],e=b[2],f=b[3],g=b[4],h=b[5],k=b[6],l=b[7],m=b[8],n=b[9],p=b[10],q=b[11],u=b[12],r=b[13],t=b[14];b=b[15];var v=c*h-d*g,w=c*k-e*g,A=c*l-f*g,G=d*k-e*h,H=d*l-f*h,T=e*l-f*k,xa=m*r-n*u,va=m*t-p*u,ia=m*b-q*u,Ba=n*t-p*r,vb=n*b-q*r,wb=p*b-q*t;a[0]=h*wb-k*vb+l*Ba;a[1]=e*vb-d*wb-f*Ba;a[2]=r*T-t*H+b*G;a[3]=p*H-n*T-q*G;a[4]=k*ia-g*wb-l*va;a[5]=c*wb-e*ia+f*va;a[6]=t*A-u*T-b*w;a[7]=m*T-p*A+
q*w;a[8]=g*vb-h*ia+l*xa;a[9]=d*ia-c*vb-f*xa;a[10]=u*H-r*A+b*v;a[11]=n*A-m*H-q*v;a[12]=h*va-g*Ba-k*xa;a[13]=c*Ba-d*va+e*xa;a[14]=r*w-u*G-t*v;a[15]=m*G-n*w+p*v;return a},UM:function(a){var b=a[0],c=a[1],d=a[2],e=a[4],f=a[5],g=a[6],h=a[8],k=a[9],l=a[10],m=a[12],n=a[13],p=a[14],q=b*f-c*e,u=b*g-d*e,r=c*g-d*f,t=h*n-k*m,v=h*p-l*m,w=k*p-l*n;return a[7]*(b*w-c*v+d*t)-a[3]*(e*w-f*v+g*t)+a[15]*(h*r-k*u+l*q)-a[11]*(m*r-n*u+p*q)},multiply:sa,translate:function(a,b,c){var d=c[0],e=c[1];c=c[2];if(b===a)a[12]=b[0]*
d+b[4]*e+b[8]*c+b[12],a[13]=b[1]*d+b[5]*e+b[9]*c+b[13],a[14]=b[2]*d+b[6]*e+b[10]*c+b[14],a[15]=b[3]*d+b[7]*e+b[11]*c+b[15];else{var f=b[0];var g=b[1];var h=b[2];var k=b[3];var l=b[4];var m=b[5];var n=b[6];var p=b[7];var q=b[8];var u=b[9];var r=b[10];var t=b[11];a[0]=f;a[1]=g;a[2]=h;a[3]=k;a[4]=l;a[5]=m;a[6]=n;a[7]=p;a[8]=q;a[9]=u;a[10]=r;a[11]=t;a[12]=f*d+l*e+q*c+b[12];a[13]=g*d+m*e+u*c+b[13];a[14]=h*d+n*e+r*c+b[14];a[15]=k*d+p*e+t*c+b[15]}return a},scale:function(a,b,c){var d=c[0],e=c[1];c=c[2];
a[0]=b[0]*d;a[1]=b[1]*d;a[2]=b[2]*d;a[3]=b[3]*d;a[4]=b[4]*e;a[5]=b[5]*e;a[6]=b[6]*e;a[7]=b[7]*e;a[8]=b[8]*c;a[9]=b[9]*c;a[10]=b[10]*c;a[11]=b[11]*c;a[12]=b[12];a[13]=b[13];a[14]=b[14];a[15]=b[15];return a},rotate:function(a,b,c,d){var e=d[0],f=d[1];d=d[2];var g=Math.hypot(e,f,d);if(1E-6>g)return null;g=1/g;e*=g;f*=g;d*=g;var h=Math.sin(c);var k=Math.cos(c);var l=1-k;c=b[0];g=b[1];var m=b[2];var n=b[3];var p=b[4];var q=b[5];var u=b[6];var r=b[7];var t=b[8];var v=b[9];var w=b[10];var A=b[11];var G=
e*e*l+k;var H=f*e*l+d*h;var T=d*e*l-f*h;var xa=e*f*l-d*h;var va=f*f*l+k;var ia=d*f*l+e*h;var Ba=e*d*l+f*h;e=f*d*l-e*h;f=d*d*l+k;a[0]=c*G+p*H+t*T;a[1]=g*G+q*H+v*T;a[2]=m*G+u*H+w*T;a[3]=n*G+r*H+A*T;a[4]=c*xa+p*va+t*ia;a[5]=g*xa+q*va+v*ia;a[6]=m*xa+u*va+w*ia;a[7]=n*xa+r*va+A*ia;a[8]=c*Ba+p*e+t*f;a[9]=g*Ba+q*e+v*f;a[10]=m*Ba+u*e+w*f;a[11]=n*Ba+r*e+A*f;b!==a&&(a[12]=b[12],a[13]=b[13],a[14]=b[14],a[15]=b[15]);return a},IN:function(a,b,c){var d=Math.sin(c);c=Math.cos(c);var e=b[4],f=b[5],g=b[6],h=b[7],k=
b[8],l=b[9],m=b[10],n=b[11];b!==a&&(a[0]=b[0],a[1]=b[1],a[2]=b[2],a[3]=b[3],a[12]=b[12],a[13]=b[13],a[14]=b[14],a[15]=b[15]);a[4]=e*c+k*d;a[5]=f*c+l*d;a[6]=g*c+m*d;a[7]=h*c+n*d;a[8]=k*c-e*d;a[9]=l*c-f*d;a[10]=m*c-g*d;a[11]=n*c-h*d;return a},JN:function(a,b,c){var d=Math.sin(c);c=Math.cos(c);var e=b[0],f=b[1],g=b[2],h=b[3],k=b[8],l=b[9],m=b[10],n=b[11];b!==a&&(a[4]=b[4],a[5]=b[5],a[6]=b[6],a[7]=b[7],a[12]=b[12],a[13]=b[13],a[14]=b[14],a[15]=b[15]);a[0]=e*c-k*d;a[1]=f*c-l*d;a[2]=g*c-m*d;a[3]=h*c-n*
d;a[8]=e*d+k*c;a[9]=f*d+l*c;a[10]=g*d+m*c;a[11]=h*d+n*c;return a},KN:function(a,b,c){var d=Math.sin(c);c=Math.cos(c);var e=b[0],f=b[1],g=b[2],h=b[3],k=b[4],l=b[5],m=b[6],n=b[7];b!==a&&(a[8]=b[8],a[9]=b[9],a[10]=b[10],a[11]=b[11],a[12]=b[12],a[13]=b[13],a[14]=b[14],a[15]=b[15]);a[0]=e*c+k*d;a[1]=f*c+l*d;a[2]=g*c+m*d;a[3]=h*c+n*d;a[4]=k*c-e*d;a[5]=l*c-f*d;a[6]=m*c-g*d;a[7]=n*c-h*d;return a},bN:function(a,b){a[0]=1;a[1]=0;a[2]=0;a[3]=0;a[4]=0;a[5]=1;a[6]=0;a[7]=0;a[8]=0;a[9]=0;a[10]=1;a[11]=0;a[12]=
b[0];a[13]=b[1];a[14]=b[2];a[15]=1;return a},aN:function(a,b){a[0]=b[0];a[1]=0;a[2]=0;a[3]=0;a[4]=0;a[5]=b[1];a[6]=0;a[7]=0;a[8]=0;a[9]=0;a[10]=b[2];a[11]=0;a[12]=0;a[13]=0;a[14]=0;a[15]=1;return a},cG:function(a,b,c){var d=c[0],e=c[1];c=c[2];var f=Math.hypot(d,e,c);if(1E-6>f)return null;f=1/f;d*=f;e*=f;c*=f;f=Math.sin(b);b=Math.cos(b);var g=1-b;a[0]=d*d*g+b;a[1]=e*d*g+c*f;a[2]=c*d*g-e*f;a[3]=0;a[4]=d*e*g-c*f;a[5]=e*e*g+b;a[6]=c*e*g+d*f;a[7]=0;a[8]=d*c*g+e*f;a[9]=e*c*g-d*f;a[10]=c*c*g+b;a[11]=0;a[12]=
0;a[13]=0;a[14]=0;a[15]=1;return a},$ga:function(a,b){var c=Math.sin(b);b=Math.cos(b);a[0]=1;a[1]=0;a[2]=0;a[3]=0;a[4]=0;a[5]=b;a[6]=c;a[7]=0;a[8]=0;a[9]=-c;a[10]=b;a[11]=0;a[12]=0;a[13]=0;a[14]=0;a[15]=1;return a},aha:function(a,b){var c=Math.sin(b);b=Math.cos(b);a[0]=b;a[1]=0;a[2]=-c;a[3]=0;a[4]=0;a[5]=1;a[6]=0;a[7]=0;a[8]=c;a[9]=0;a[10]=b;a[11]=0;a[12]=0;a[13]=0;a[14]=0;a[15]=1;return a},bha:function(a,b){var c=Math.sin(b);b=Math.cos(b);a[0]=b;a[1]=c;a[2]=0;a[3]=0;a[4]=-c;a[5]=b;a[6]=0;a[7]=0;
a[8]=0;a[9]=0;a[10]=1;a[11]=0;a[12]=0;a[13]=0;a[14]=0;a[15]=1;return a},O3:ta,Wga:function(a,b){var c=new ba(3),d=-b[0],e=-b[1],f=-b[2],g=b[3],h=b[4],k=b[5],l=b[6],m=b[7],n=d*d+e*e+f*f+g*g;0<n?(c[0]=2*(h*g+m*d+k*f-l*e)/n,c[1]=2*(k*g+m*e+l*d-h*f)/n,c[2]=2*(l*g+m*f+h*e-k*d)/n):(c[0]=2*(h*g+m*d+k*f-l*e),c[1]=2*(k*g+m*e+l*d-h*f),c[2]=2*(l*g+m*f+h*e-k*d));ta(a,b,c);return a},S3:ua,lha:wa,kha:ya,Bga:function(a,b,c,d){b[0]=d[12];b[1]=d[13];b[2]=d[14];var e=d[0],f=d[1],g=d[2],h=d[4],k=d[5],l=d[6],m=d[8];
b=d[9];d=d[10];c[0]=Math.hypot(e,f,g);c[1]=Math.hypot(h,k,l);c[2]=Math.hypot(m,b,d);var n=1/c[0],p=1/c[1],q=1/c[2];c=e*n;f*=p;g*=q;h*=n;k*=p;l*=q;m*=n;b*=p;d*=q;p=c+k+d;0<p?(d=2*Math.sqrt(p+1),a[3]=.25*d,a[0]=(l-b)/d,a[1]=(m-g)/d,a[2]=(f-h)/d):c>k&&c>d?(d=2*Math.sqrt(1+c-k-d),a[3]=(l-b)/d,a[0]=.25*d,a[1]=(f+h)/d,a[2]=(m+g)/d):k>d?(d=2*Math.sqrt(1+k-c-d),a[3]=(m-g)/d,a[0]=(f+h)/d,a[1]=.25*d,a[2]=(l+b)/d):(d=2*Math.sqrt(1+d-c-k),a[3]=(f-h)/d,a[0]=(m+g)/d,a[1]=(l+b)/d,a[2]=.25*d);return a},Xga:function(a,
b,c,d){var e=b[0],f=b[1],g=b[2],h=b[3],k=e+e,l=f+f,m=g+g;b=e*k;var n=e*l;e*=m;var p=f*l;f*=m;g*=m;k*=h;l*=h;h*=m;m=d[0];var q=d[1];d=d[2];a[0]=(1-(p+g))*m;a[1]=(n+h)*m;a[2]=(e-l)*m;a[3]=0;a[4]=(n-h)*q;a[5]=(1-(b+g))*q;a[6]=(f+k)*q;a[7]=0;a[8]=(e+l)*d;a[9]=(f-k)*d;a[10]=(1-(b+p))*d;a[11]=0;a[12]=c[0];a[13]=c[1];a[14]=c[2];a[15]=1;return a},Yga:function(a,b,c,d,e){var f=b[0],g=b[1],h=b[2],k=b[3],l=f+f,m=g+g,n=h+h;b=f*l;var p=f*m,q=f*n;f=g*m;g*=n;var u=h*n;h=k*l;m*=k;var r=k*n,t=d[0],v=d[1];n=d[2];d=
e[0];k=e[1];e=e[2];l=(1-(f+u))*t;var w=(p+r)*t;t*=q-m;p=(p-r)*v;u=(1-(b+u))*v;v*=g+h;q=(q+m)*n;g=(g-h)*n;b=(1-(b+f))*n;a[0]=l;a[1]=w;a[2]=t;a[3]=0;a[4]=p;a[5]=u;a[6]=v;a[7]=0;a[8]=q;a[9]=g;a[10]=b;a[11]=0;a[12]=c[0]+d-(l*d+p*k+q*e);a[13]=c[1]+k-(w*d+u*k+g*e);a[14]=c[2]+e-(t*d+v*k+b*e);a[15]=1;return a},N3:function(a,b){var c=b[0],d=b[1],e=b[2];b=b[3];var f=c+c,g=d+d,h=e+e;c*=f;var k=d*f;d*=g;var l=e*f,m=e*g;e*=h;f*=b;g*=b;b*=h;a[0]=1-d-e;a[1]=k+b;a[2]=l-g;a[3]=0;a[4]=k-b;a[5]=1-c-e;a[6]=m+f;a[7]=
0;a[8]=l+g;a[9]=m-f;a[10]=1-c-d;a[11]=0;a[12]=0;a[13]=0;a[14]=0;a[15]=1;return a},P3:function(a,b,c,d,e,f,g){var h=1/(c-b),k=1/(e-d),l=1/(f-g);a[0]=2*f*h;a[1]=0;a[2]=0;a[3]=0;a[4]=0;a[5]=2*f*k;a[6]=0;a[7]=0;a[8]=(c+b)*h;a[9]=(e+d)*k;a[10]=(g+f)*l;a[11]=-1;a[12]=0;a[13]=0;a[14]=g*f*2*l;a[15]=0;return a},qia:za,perspective:za,E4:function(a,b,c,d,e){b=1/Math.tan(b/2);a[0]=b/c;a[1]=0;a[2]=0;a[3]=0;a[4]=0;a[5]=b;a[6]=0;a[7]=0;a[8]=0;a[9]=0;a[11]=-1;a[12]=0;a[13]=0;a[15]=0;null!=e&&Infinity!==e?(c=1/(d-
e),a[10]=e*c,a[14]=e*d*c):(a[10]=-1,a[14]=-d);return a},pia:function(a,b,c,d){var e=Math.tan(b.Eja*Math.PI/180),f=Math.tan(b.Hga*Math.PI/180),g=Math.tan(b.Vha*Math.PI/180);b=Math.tan(b.Pia*Math.PI/180);var h=2/(g+b),k=2/(e+f);a[0]=h;a[1]=0;a[2]=0;a[3]=0;a[4]=0;a[5]=k;a[6]=0;a[7]=0;a[8]=-((g-b)*h*.5);a[9]=(e-f)*k*.5;a[10]=d/(c-d);a[11]=-1;a[12]=0;a[13]=0;a[14]=d*c/(c-d);a[15]=0;return a},oia:Aa,B4:Aa,C4:function(a,b,c,d,e,f,g){var h=1/(b-c),k=1/(d-e);g=1/(f-g);a[0]=-2*h;a[1]=0;a[2]=0;a[3]=0;a[4]=0;
a[5]=-2*k;a[6]=0;a[7]=0;a[8]=0;a[9]=0;a[10]=g;a[11]=0;a[12]=(b+c)*h;a[13]=(e+d)*k;a[14]=f*g;a[15]=1;return a},r4:function(a,b,c,d){var e=b[0],f=b[1];b=b[2];var g=d[0];var h=d[1];var k=d[2];var l=c[0];d=c[1];var m=c[2];if(1E-6>Math.abs(e-l)&&1E-6>Math.abs(f-d)&&1E-6>Math.abs(b-m))return ra(a);c=e-l;d=f-d;l=b-m;var n=1/Math.hypot(c,d,l);c*=n;d*=n;l*=n;m=h*l-k*d;k=k*c-g*l;g=g*d-h*c;(n=Math.hypot(m,k,g))?(n=1/n,m*=n,k*=n,g*=n):g=k=m=0;h=d*g-l*k;var p=l*m-c*g;var q=c*k-d*m;(n=Math.hypot(h,p,q))?(n=1/n,
h*=n,p*=n,q*=n):q=p=h=0;a[0]=m;a[1]=h;a[2]=c;a[3]=0;a[4]=k;a[5]=p;a[6]=d;a[7]=0;a[8]=g;a[9]=q;a[10]=l;a[11]=0;a[12]=-(m*e+k*f+g*b);a[13]=-(h*e+p*f+q*b);a[14]=-(c*e+d*f+l*b);a[15]=1;return a},rja:function(a,b,c,d){var e=b[0],f=b[1];b=b[2];var g=d[0],h=d[1],k=d[2];d=e-c[0];var l=f-c[1];c=b-c[2];var m=d*d+l*l+c*c;0<m&&(m=1/Math.sqrt(m),d*=m,l*=m,c*=m);var n=h*c-k*l;k=k*d-g*c;g=g*l-h*d;m=n*n+k*k+g*g;0<m&&(m=1/Math.sqrt(m),n*=m,k*=m,g*=m);a[0]=n;a[1]=k;a[2]=g;a[3]=0;a[4]=l*g-c*k;a[5]=c*n-d*g;a[6]=d*k-
l*n;a[7]=0;a[8]=d;a[9]=l;a[10]=c;a[11]=0;a[12]=e;a[13]=f;a[14]=b;a[15]=1;return a},Vj:function(a){return"mat4("+a[0]+", "+a[1]+", "+a[2]+", "+a[3]+", "+a[4]+", "+a[5]+", "+a[6]+", "+a[7]+", "+a[8]+", "+a[9]+", "+a[10]+", "+a[11]+", "+a[12]+", "+a[13]+", "+a[14]+", "+a[15]+")"},$M:function(a){return Math.hypot(a[0],a[1],a[2],a[3],a[4],a[5],a[6],a[7],a[8],a[9],a[10],a[11],a[12],a[13],a[14],a[15])},add:function(a,b,c){a[0]=b[0]+c[0];a[1]=b[1]+c[1];a[2]=b[2]+c[2];a[3]=b[3]+c[3];a[4]=b[4]+c[4];a[5]=b[5]+
c[5];a[6]=b[6]+c[6];a[7]=b[7]+c[7];a[8]=b[8]+c[8];a[9]=b[9]+c[9];a[10]=b[10]+c[10];a[11]=b[11]+c[11];a[12]=b[12]+c[12];a[13]=b[13]+c[13];a[14]=b[14]+c[14];a[15]=b[15]+c[15];return a},Do:Ca,sN:function(a,b,c){a[0]=b[0]*c;a[1]=b[1]*c;a[2]=b[2]*c;a[3]=b[3]*c;a[4]=b[4]*c;a[5]=b[5]*c;a[6]=b[6]*c;a[7]=b[7]*c;a[8]=b[8]*c;a[9]=b[9]*c;a[10]=b[10]*c;a[11]=b[11]*c;a[12]=b[12]*c;a[13]=b[13]*c;a[14]=b[14]*c;a[15]=b[15]*c;return a},tN:function(a,b,c,d){a[0]=b[0]+c[0]*d;a[1]=b[1]+c[1]*d;a[2]=b[2]+c[2]*d;a[3]=b[3]+
c[3]*d;a[4]=b[4]+c[4]*d;a[5]=b[5]+c[5]*d;a[6]=b[6]+c[6]*d;a[7]=b[7]+c[7]*d;a[8]=b[8]+c[8]*d;a[9]=b[9]+c[9]*d;a[10]=b[10]+c[10]*d;a[11]=b[11]+c[11]*d;a[12]=b[12]+c[12]*d;a[13]=b[13]+c[13]*d;a[14]=b[14]+c[14]*d;a[15]=b[15]+c[15]*d;return a},Vi:function(a,b){return a[0]===b[0]&&a[1]===b[1]&&a[2]===b[2]&&a[3]===b[3]&&a[4]===b[4]&&a[5]===b[5]&&a[6]===b[6]&&a[7]===b[7]&&a[8]===b[8]&&a[9]===b[9]&&a[10]===b[10]&&a[11]===b[11]&&a[12]===b[12]&&a[13]===b[13]&&a[14]===b[14]&&a[15]===b[15]},Fd:function(a,b){var c=
a[0],d=a[1],e=a[2],f=a[3],g=a[4],h=a[5],k=a[6],l=a[7],m=a[8],n=a[9],p=a[10],q=a[11],u=a[12],r=a[13],t=a[14];a=a[15];var v=b[0],w=b[1],A=b[2],G=b[3],H=b[4],T=b[5],xa=b[6],va=b[7],ia=b[8],Ba=b[9],vb=b[10],wb=b[11],Ia=b[12],ih=b[13],jh=b[14];b=b[15];return Math.abs(c-v)<=1E-6*Math.max(1,Math.abs(c),Math.abs(v))&&Math.abs(d-w)<=1E-6*Math.max(1,Math.abs(d),Math.abs(w))&&Math.abs(e-A)<=1E-6*Math.max(1,Math.abs(e),Math.abs(A))&&Math.abs(f-G)<=1E-6*Math.max(1,Math.abs(f),Math.abs(G))&&Math.abs(g-H)<=1E-6*
Math.max(1,Math.abs(g),Math.abs(H))&&Math.abs(h-T)<=1E-6*Math.max(1,Math.abs(h),Math.abs(T))&&Math.abs(k-xa)<=1E-6*Math.max(1,Math.abs(k),Math.abs(xa))&&Math.abs(l-va)<=1E-6*Math.max(1,Math.abs(l),Math.abs(va))&&Math.abs(m-ia)<=1E-6*Math.max(1,Math.abs(m),Math.abs(ia))&&Math.abs(n-Ba)<=1E-6*Math.max(1,Math.abs(n),Math.abs(Ba))&&Math.abs(p-vb)<=1E-6*Math.max(1,Math.abs(p),Math.abs(vb))&&Math.abs(q-wb)<=1E-6*Math.max(1,Math.abs(q),Math.abs(wb))&&Math.abs(u-Ia)<=1E-6*Math.max(1,Math.abs(u),Math.abs(Ia))&&
Math.abs(r-ih)<=1E-6*Math.max(1,Math.abs(r),Math.abs(ih))&&Math.abs(t-jh)<=1E-6*Math.max(1,Math.abs(t),Math.abs(jh))&&Math.abs(a-b)<=1E-6*Math.max(1,Math.abs(a),Math.abs(b))},Bo:sa,sub:Ca});function Ea(){var a=new ba(3);ba!=Float32Array&&(a[0]=0,a[1]=0,a[2]=0);return a}function Fa(a){return Math.hypot(a[0],a[1],a[2])}function Ga(a,b,c){var d=new ba(3);d[0]=a;d[1]=b;d[2]=c;return d}function Ha(a,b,c){a[0]=b[0]-c[0];a[1]=b[1]-c[1];a[2]=b[2]-c[2];return a}
function Ja(a,b,c){a[0]=b[0]*c[0];a[1]=b[1]*c[1];a[2]=b[2]*c[2];return a}function Ka(a,b,c){a[0]=b[0]/c[0];a[1]=b[1]/c[1];a[2]=b[2]/c[2];return a}function La(a,b){return Math.hypot(b[0]-a[0],b[1]-a[1],b[2]-a[2])}function Ma(a,b){var c=b[0]-a[0],d=b[1]-a[1];a=b[2]-a[2];return c*c+d*d+a*a}function Na(a){var b=a[0],c=a[1];a=a[2];return b*b+c*c+a*a}function Oa(a,b){var c=b[0],d=b[1],e=b[2];c=c*c+d*d+e*e;0<c&&(c=1/Math.sqrt(c));a[0]=b[0]*c;a[1]=b[1]*c;a[2]=b[2]*c;return a}
function Pa(a,b){return a[0]*b[0]+a[1]*b[1]+a[2]*b[2]}function Qa(a,b,c){var d=b[0],e=b[1];b=b[2];var f=c[0],g=c[1];c=c[2];a[0]=e*c-b*g;a[1]=b*f-d*c;a[2]=d*g-e*f;return a}
var Ra=function(){var a=Ea();return function(b,c,d,e,f,g){c||(c=3);d||(d=0);for(e=e?Math.min(e*c+d,b.length):b.length;d<e;d+=c)a[0]=b[d],a[1]=b[d+1],a[2]=b[d+2],f(a,a,g),b[d]=a[0],b[d+1]=a[1],b[d+2]=a[2];return b}}(),Sa=Object.freeze({__proto__:null,create:Ea,clone:function(a){var b=new ba(3);b[0]=a[0];b[1]=a[1];b[2]=a[2];return b},length:Fa,Cg:Ga,wa:function(a,b){a[0]=b[0];a[1]=b[1];a[2]=b[2];return a},set:function(a,b,c,d){a[0]=b;a[1]=c;a[2]=d;return a},add:function(a,b,c){a[0]=b[0]+c[0];a[1]=b[1]+
c[1];a[2]=b[2]+c[2];return a},Do:Ha,multiply:Ja,sl:Ka,ceil:function(a,b){a[0]=Math.ceil(b[0]);a[1]=Math.ceil(b[1]);a[2]=Math.ceil(b[2]);return a},floor:function(a,b){a[0]=Math.floor(b[0]);a[1]=Math.floor(b[1]);a[2]=Math.floor(b[2]);return a},min:function(a,b,c){a[0]=Math.min(b[0],c[0]);a[1]=Math.min(b[1],c[1]);a[2]=Math.min(b[2],c[2]);return a},max:function(a,b,c){a[0]=Math.max(b[0],c[0]);a[1]=Math.max(b[1],c[1]);a[2]=Math.max(b[2],c[2]);return a},round:function(a,b){a[0]=Math.round(b[0]);a[1]=Math.round(b[1]);
a[2]=Math.round(b[2]);return a},scale:function(a,b,c){a[0]=b[0]*c;a[1]=b[1]*c;a[2]=b[2]*c;return a},LN:function(a,b,c,d){a[0]=b[0]+c[0]*d;a[1]=b[1]+c[1]*d;a[2]=b[2]+c[2]*d;return a},Pd:La,cV:Ma,qG:Na,QU:function(a,b){a[0]=-b[0];a[1]=-b[1];a[2]=-b[2];return a},inverse:function(a,b){a[0]=1/b[0];a[1]=1/b[1];a[2]=1/b[2];return a},normalize:Oa,zo:Pa,TM:Qa,Af:function(a,b,c,d){var e=b[0],f=b[1];b=b[2];a[0]=e+d*(c[0]-e);a[1]=f+d*(c[1]-f);a[2]=b+d*(c[2]-b);return a},N4:function(a,b,c,d){var e=Math.acos(Math.min(Math.max(Pa(b,
c),-1),1)),f=Math.sin(e),g=Math.sin((1-d)*e)/f;d=Math.sin(d*e)/f;a[0]=g*b[0]+d*c[0];a[1]=g*b[1]+d*c[1];a[2]=g*b[2]+d*c[2];return a},pha:function(a,b,c,d,e,f){var g=f*f,h=g*(2*f-3)+1,k=g*(f-2)+f,l=g*(f-1);f=g*(3-2*f);a[0]=b[0]*h+c[0]*k+d[0]*l+e[0]*f;a[1]=b[1]*h+c[1]*k+d[1]*l+e[1]*f;a[2]=b[2]*h+c[2]*k+d[2]*l+e[2]*f;return a},gga:function(a,b,c,d,e,f){var g=1-f,h=g*g,k=f*f,l=h*g;h*=3*f;g*=3*k;f*=k;a[0]=b[0]*l+c[0]*h+d[0]*g+e[0]*f;a[1]=b[1]*l+c[1]*h+d[1]*g+e[1]*f;a[2]=b[2]*l+c[2]*h+d[2]*g+e[2]*f;return a},
random:function(a,b){b=b||1;var c=2*ca()*Math.PI,d=2*ca()-1,e=Math.sqrt(1-d*d)*b;a[0]=Math.cos(c)*e;a[1]=Math.sin(c)*e;a[2]=d*b;return a},VN:function(a,b,c){var d=b[0],e=b[1];b=b[2];var f=c[3]*d+c[7]*e+c[11]*b+c[15];f=f||1;a[0]=(c[0]*d+c[4]*e+c[8]*b+c[12])/f;a[1]=(c[1]*d+c[5]*e+c[9]*b+c[13])/f;a[2]=(c[2]*d+c[6]*e+c[10]*b+c[14])/f;return a},X4:function(a,b,c){var d=b[0],e=b[1];b=b[2];a[0]=d*c[0]+e*c[3]+b*c[6];a[1]=d*c[1]+e*c[4]+b*c[7];a[2]=d*c[2]+e*c[5]+b*c[8];return a},Y4:function(a,b,c){var d=c[0],
e=c[1],f=c[2],g=b[0],h=b[1];b=b[2];var k=e*b-f*h,l=f*g-d*b,m=d*h-e*g;c=2*c[3];a[0]=g+k*c+2*(e*m-f*l);a[1]=h+l*c+2*(f*k-d*m);a[2]=b+m*c+2*(d*l-e*k);return a},IN:function(a,b,c,d){var e=[],f=[];e[0]=b[0]-c[0];e[1]=b[1]-c[1];e[2]=b[2]-c[2];f[0]=e[0];f[1]=e[1]*Math.cos(d)-e[2]*Math.sin(d);f[2]=e[1]*Math.sin(d)+e[2]*Math.cos(d);a[0]=f[0]+c[0];a[1]=f[1]+c[1];a[2]=f[2]+c[2];return a},JN:function(a,b,c,d){var e=[],f=[];e[0]=b[0]-c[0];e[1]=b[1]-c[1];e[2]=b[2]-c[2];f[0]=e[2]*Math.sin(d)+e[0]*Math.cos(d);f[1]=
e[1];f[2]=e[2]*Math.cos(d)-e[0]*Math.sin(d);a[0]=f[0]+c[0];a[1]=f[1]+c[1];a[2]=f[2]+c[2];return a},KN:function(a,b,c,d){var e=[],f=[];e[0]=b[0]-c[0];e[1]=b[1]-c[1];e[2]=b[2]-c[2];f[0]=e[0]*Math.cos(d)-e[1]*Math.sin(d);f[1]=e[0]*Math.sin(d)+e[1]*Math.cos(d);f[2]=e[2];a[0]=f[0]+c[0];a[1]=f[1]+c[1];a[2]=f[2]+c[2];return a},angle:function(a,b){var c=a[0],d=a[1],e=a[2],f=b[0],g=b[1],h=b[2];c=Math.sqrt((c*c+d*d+e*e)*(f*f+g*g+h*h));return Math.acos(Math.min(Math.max(c&&Pa(a,b)/c,-1),1))},AV:function(a){a[0]=
0;a[1]=0;a[2]=0;return a},Vj:function(a){return"vec3("+a[0]+", "+a[1]+", "+a[2]+")"},Vi:function(a,b){return a[0]===b[0]&&a[1]===b[1]&&a[2]===b[2]},Fd:function(a,b){var c=a[0],d=a[1];a=a[2];var e=b[0],f=b[1];b=b[2];return Math.abs(c-e)<=1E-6*Math.max(1,Math.abs(c),Math.abs(e))&&Math.abs(d-f)<=1E-6*Math.max(1,Math.abs(d),Math.abs(f))&&Math.abs(a-b)<=1E-6*Math.max(1,Math.abs(a),Math.abs(b))},sub:Ha,Bo:Ja,wU:Ka,uU:La,bV:Ma,iw:Fa,pG:Na,forEach:Ra});
function Ta(){var a=new ba(4);ba!=Float32Array&&(a[0]=0,a[1]=0,a[2]=0,a[3]=0);return a}function Ua(a){var b=new ba(4);b[0]=a[0];b[1]=a[1];b[2]=a[2];b[3]=a[3];return b}function Va(a,b,c,d){var e=new ba(4);e[0]=a;e[1]=b;e[2]=c;e[3]=d;return e}function Wa(a,b){a[0]=b[0];a[1]=b[1];a[2]=b[2];a[3]=b[3];return a}function Xa(a,b,c,d,e){a[0]=b;a[1]=c;a[2]=d;a[3]=e;return a}function Ya(a,b,c){a[0]=b[0]+c[0];a[1]=b[1]+c[1];a[2]=b[2]+c[2];a[3]=b[3]+c[3];return a}
function Za(a,b,c){a[0]=b[0]-c[0];a[1]=b[1]-c[1];a[2]=b[2]-c[2];a[3]=b[3]-c[3];return a}function $a(a,b,c){a[0]=b[0]*c[0];a[1]=b[1]*c[1];a[2]=b[2]*c[2];a[3]=b[3]*c[3];return a}function ab(a,b,c){a[0]=b[0]/c[0];a[1]=b[1]/c[1];a[2]=b[2]/c[2];a[3]=b[3]/c[3];return a}function bb(a,b,c){a[0]=b[0]*c;a[1]=b[1]*c;a[2]=b[2]*c;a[3]=b[3]*c;return a}function cb(a,b){return Math.hypot(b[0]-a[0],b[1]-a[1],b[2]-a[2],b[3]-a[3])}
function db(a,b){var c=b[0]-a[0],d=b[1]-a[1],e=b[2]-a[2];a=b[3]-a[3];return c*c+d*d+e*e+a*a}function eb(a){return Math.hypot(a[0],a[1],a[2],a[3])}function fb(a){var b=a[0],c=a[1],d=a[2];a=a[3];return b*b+c*c+d*d+a*a}function gb(a,b){var c=b[0],d=b[1],e=b[2];b=b[3];var f=c*c+d*d+e*e+b*b;0<f&&(f=1/Math.sqrt(f));a[0]=c*f;a[1]=d*f;a[2]=e*f;a[3]=b*f;return a}function hb(a,b){return a[0]*b[0]+a[1]*b[1]+a[2]*b[2]+a[3]*b[3]}
function ib(a,b,c,d){var e=b[0],f=b[1],g=b[2];b=b[3];a[0]=e+d*(c[0]-e);a[1]=f+d*(c[1]-f);a[2]=g+d*(c[2]-g);a[3]=b+d*(c[3]-b);return a}function jb(a,b){return a[0]===b[0]&&a[1]===b[1]&&a[2]===b[2]&&a[3]===b[3]}
var kb=function(){var a=Ta();return function(b,c,d,e,f,g){c||(c=4);d||(d=0);for(e=e?Math.min(e*c+d,b.length):b.length;d<e;d+=c)a[0]=b[d],a[1]=b[d+1],a[2]=b[d+2],a[3]=b[d+3],f(a,a,g),b[d]=a[0],b[d+1]=a[1],b[d+2]=a[2],b[d+3]=a[3];return b}}(),lb=Object.freeze({__proto__:null,create:Ta,clone:Ua,Cg:Va,wa:Wa,set:Xa,add:Ya,Do:Za,multiply:$a,sl:ab,ceil:function(a,b){a[0]=Math.ceil(b[0]);a[1]=Math.ceil(b[1]);a[2]=Math.ceil(b[2]);a[3]=Math.ceil(b[3]);return a},floor:function(a,b){a[0]=Math.floor(b[0]);a[1]=
Math.floor(b[1]);a[2]=Math.floor(b[2]);a[3]=Math.floor(b[3]);return a},min:function(a,b,c){a[0]=Math.min(b[0],c[0]);a[1]=Math.min(b[1],c[1]);a[2]=Math.min(b[2],c[2]);a[3]=Math.min(b[3],c[3]);return a},max:function(a,b,c){a[0]=Math.max(b[0],c[0]);a[1]=Math.max(b[1],c[1]);a[2]=Math.max(b[2],c[2]);a[3]=Math.max(b[3],c[3]);return a},round:function(a,b){a[0]=Math.round(b[0]);a[1]=Math.round(b[1]);a[2]=Math.round(b[2]);a[3]=Math.round(b[3]);return a},scale:bb,LN:function(a,b,c,d){a[0]=b[0]+c[0]*d;a[1]=
b[1]+c[1]*d;a[2]=b[2]+c[2]*d;a[3]=b[3]+c[3]*d;return a},Pd:cb,cV:db,length:eb,qG:fb,QU:function(a,b){a[0]=-b[0];a[1]=-b[1];a[2]=-b[2];a[3]=-b[3];return a},inverse:function(a,b){a[0]=1/b[0];a[1]=1/b[1];a[2]=1/b[2];a[3]=1/b[3];return a},normalize:gb,zo:hb,TM:function(a,b,c,d){var e=c[0]*d[1]-c[1]*d[0],f=c[0]*d[2]-c[2]*d[0],g=c[0]*d[3]-c[3]*d[0],h=c[1]*d[2]-c[2]*d[1],k=c[1]*d[3]-c[3]*d[1];c=c[2]*d[3]-c[3]*d[2];d=b[0];var l=b[1],m=b[2];b=b[3];a[0]=l*c-m*k+b*h;a[1]=-(d*c)+m*g-b*f;a[2]=d*k-l*g+b*e;a[3]=
-(d*h)+l*f-m*e;return a},Af:ib,random:function(a,b){b=b||1;do{var c=2*ca()-1;var d=2*ca()-1;var e=c*c+d*d}while(1<=e);do{var f=2*ca()-1;var g=2*ca()-1;var h=f*f+g*g}while(1<=h);e=Math.sqrt((1-e)/h);a[0]=b*c;a[1]=b*d;a[2]=b*f*e;a[3]=b*g*e;return a},VN:function(a,b,c){var d=b[0],e=b[1],f=b[2];b=b[3];a[0]=c[0]*d+c[4]*e+c[8]*f+c[12]*b;a[1]=c[1]*d+c[5]*e+c[9]*f+c[13]*b;a[2]=c[2]*d+c[6]*e+c[10]*f+c[14]*b;a[3]=c[3]*d+c[7]*e+c[11]*f+c[15]*b;return a},Y4:function(a,b,c){var d=b[0],e=b[1],f=b[2],g=c[0],h=c[1],
k=c[2];c=c[3];var l=c*d+h*f-k*e,m=c*e+k*d-g*f,n=c*f+g*e-h*d;d=-g*d-h*e-k*f;a[0]=l*c+d*-g+m*-k-n*-h;a[1]=m*c+d*-h+n*-g-l*-k;a[2]=n*c+d*-k+l*-h-m*-g;a[3]=b[3];return a},AV:function(a){a[0]=0;a[1]=0;a[2]=0;a[3]=0;return a},Vj:function(a){return"vec4("+a[0]+", "+a[1]+", "+a[2]+", "+a[3]+")"},Vi:jb,Fd:function(a,b){var c=a[0],d=a[1],e=a[2];a=a[3];var f=b[0],g=b[1],h=b[2];b=b[3];return Math.abs(c-f)<=1E-6*Math.max(1,Math.abs(c),Math.abs(f))&&Math.abs(d-g)<=1E-6*Math.max(1,Math.abs(d),Math.abs(g))&&Math.abs(e-
h)<=1E-6*Math.max(1,Math.abs(e),Math.abs(h))&&Math.abs(a-b)<=1E-6*Math.max(1,Math.abs(a),Math.abs(b))},sub:Za,Bo:$a,wU:ab,uU:cb,bV:db,iw:eb,pG:fb,forEach:kb});function mb(){var a=new ba(4);ba!=Float32Array&&(a[0]=0,a[1]=0,a[2]=0);a[3]=1;return a}function nb(a,b,c){c*=.5;var d=Math.sin(c);a[0]=d*b[0];a[1]=d*b[1];a[2]=d*b[2];a[3]=Math.cos(c);return a}
function ob(a,b,c){var d=b[0],e=b[1],f=b[2];b=b[3];var g=c[0],h=c[1],k=c[2];c=c[3];a[0]=d*c+b*g+e*k-f*h;a[1]=e*c+b*h+f*g-d*k;a[2]=f*c+b*k+d*h-e*g;a[3]=b*c-d*g-e*h-f*k;return a}function pb(a,b,c){c*=.5;var d=b[0],e=b[1],f=b[2];b=b[3];var g=Math.sin(c);c=Math.cos(c);a[0]=d*c+b*g;a[1]=e*c+f*g;a[2]=f*c-e*g;a[3]=b*c-d*g;return a}function qb(a,b,c){c*=.5;var d=b[0],e=b[1],f=b[2];b=b[3];var g=Math.sin(c);c=Math.cos(c);a[0]=d*c-f*g;a[1]=e*c+b*g;a[2]=f*c+d*g;a[3]=b*c-e*g;return a}
function rb(a,b,c){c*=.5;var d=b[0],e=b[1],f=b[2];b=b[3];var g=Math.sin(c);c=Math.cos(c);a[0]=d*c+e*g;a[1]=e*c-d*g;a[2]=f*c+b*g;a[3]=b*c-f*g;return a}function sb(a,b){var c=b[0],d=b[1],e=b[2],f=Math.sqrt(c*c+d*d+e*e);b=Math.exp(b[3]);var g=0<f?b*Math.sin(f)/f:0;a[0]=c*g;a[1]=d*g;a[2]=e*g;a[3]=b*Math.cos(f);return a}function tb(a,b){var c=b[0],d=b[1],e=b[2];b=b[3];var f=Math.sqrt(c*c+d*d+e*e);f=0<f?Math.atan2(f,b)/f:0;a[0]=c*f;a[1]=d*f;a[2]=e*f;a[3]=.5*Math.log(c*c+d*d+e*e+b*b);return a}
function ub(a,b,c,d){var e=b[0],f=b[1],g=b[2];b=b[3];var h=c[0],k=c[1],l=c[2];c=c[3];var m=e*h+f*k+g*l+b*c;0>m&&(m=-m,h=-h,k=-k,l=-l,c=-c);if(1E-6<1-m){var n=Math.acos(m);var p=Math.sin(n);m=Math.sin((1-d)*n)/p;d=Math.sin(d*n)/p}else m=1-d;a[0]=m*e+d*h;a[1]=m*f+d*k;a[2]=m*g+d*l;a[3]=m*b+d*c;return a}
function xb(a,b){var c=b[0]+b[4]+b[8];if(0<c)c=Math.sqrt(c+1),a[3]=.5*c,c=.5/c,a[0]=(b[5]-b[7])*c,a[1]=(b[6]-b[2])*c,a[2]=(b[1]-b[3])*c;else{var d=0;b[4]>b[0]&&(d=1);b[8]>b[3*d+d]&&(d=2);var e=(d+1)%3,f=(d+2)%3;c=Math.sqrt(b[3*d+d]-b[3*e+e]-b[3*f+f]+1);a[d]=.5*c;c=.5/c;a[3]=(b[3*e+f]-b[3*f+e])*c;a[e]=(b[3*e+d]+b[3*d+e])*c;a[f]=(b[3*f+d]+b[3*d+f])*c}return a}
var yb=function(){var a=Ea(),b=Ga(1,0,0),c=Ga(0,1,0);return function(d,e,f){var g=Pa(e,f);if(-.999999>g)return Qa(a,b,e),1E-6>Fa(a)&&Qa(a,c,e),Oa(a,a),nb(d,a,Math.PI),d;if(.999999<g)return d[0]=0,d[1]=0,d[2]=0,d[3]=1,d;Qa(a,e,f);d[0]=a[0];d[1]=a[1];d[2]=a[2];d[3]=1+g;return gb(d,d)}}(),zb=function(){var a=mb(),b=mb();return function(c,d,e,f,g,h){ub(a,d,g,h);ub(b,e,f,h);ub(c,a,b,2*h*(1-h));return c}}(),Ab=function(){var a=na();return function(b,c,d,e){a[0]=d[0];a[3]=d[1];a[6]=d[2];a[1]=e[0];a[4]=e[1];
a[7]=e[2];a[2]=-c[0];a[5]=-c[1];a[8]=-c[2];return gb(b,xb(b,a))}}(),Bb=Object.freeze({__proto__:null,create:mb,JA:function(a){a[0]=0;a[1]=0;a[2]=0;a[3]=1;return a},bja:nb,gha:function(a,b){var c=2*Math.acos(b[3]),d=Math.sin(c/2);1E-6<d?(a[0]=b[0]/d,a[1]=b[1]/d,a[2]=b[2]/d):(a[0]=1,a[1]=0,a[2]=0);return c},eha:function(a,b){a=hb(a,b);return Math.acos(2*a*a-1)},multiply:ob,IN:pb,JN:qb,KN:rb,iga:function(a,b){var c=b[0],d=b[1];b=b[2];a[0]=c;a[1]=d;a[2]=b;a[3]=Math.sqrt(Math.abs(1-c*c-d*d-b*b));return a},
exp:sb,q4:tb,pow:function(a,b,c){tb(a,b);bb(a,a,c);sb(a,a);return a},N4:ub,random:function(a){var b=ca(),c=ca(),d=ca(),e=Math.sqrt(1-b);b=Math.sqrt(b);a[0]=e*Math.sin(2*Math.PI*c);a[1]=e*Math.cos(2*Math.PI*c);a[2]=b*Math.sin(2*Math.PI*d);a[3]=b*Math.cos(2*Math.PI*d);return a},hw:function(a,b){var c=b[0],d=b[1],e=b[2];b=b[3];var f=c*c+d*d+e*e+b*b;f=f?1/f:0;a[0]=-c*f;a[1]=-d*f;a[2]=-e*f;a[3]=b*f;return a},v3:function(a,b){a[0]=-b[0];a[1]=-b[1];a[2]=-b[2];a[3]=b[3];return a},Vga:xb,Tga:function(a,b,
c,d){var e=4<arguments.length&&void 0!==arguments[4]?arguments[4]:"zyx",f=Math.PI/360;b*=f;d*=f;c*=f;f=Math.sin(b);var g=Math.cos(b),h=Math.sin(c),k=Math.cos(c),l=Math.sin(d),m=Math.cos(d);switch(e){case "xyz":a[0]=f*k*m+g*h*l;a[1]=g*h*m-f*k*l;a[2]=g*k*l+f*h*m;a[3]=g*k*m-f*h*l;break;case "xzy":a[0]=f*k*m-g*h*l;a[1]=g*h*m-f*k*l;a[2]=g*k*l+f*h*m;a[3]=g*k*m+f*h*l;break;case "yxz":a[0]=f*k*m+g*h*l;a[1]=g*h*m-f*k*l;a[2]=g*k*l-f*h*m;a[3]=g*k*m+f*h*l;break;case "yzx":a[0]=f*k*m+g*h*l;a[1]=g*h*m+f*k*l;a[2]=
g*k*l-f*h*m;a[3]=g*k*m-f*h*l;break;case "zxy":a[0]=f*k*m-g*h*l;a[1]=g*h*m+f*k*l;a[2]=g*k*l+f*h*m;a[3]=g*k*m-f*h*l;break;case "zyx":a[0]=f*k*m-g*h*l;a[1]=g*h*m+f*k*l;a[2]=g*k*l-f*h*m;a[3]=g*k*m+f*h*l;break;default:throw Error("Unknown angle order "+e);}return a},Vj:function(a){return"quat("+a[0]+", "+a[1]+", "+a[2]+", "+a[3]+")"},clone:Ua,Cg:Va,wa:Wa,set:Xa,add:Ya,Bo:ob,scale:bb,zo:hb,Af:ib,length:eb,iw:eb,qG:fb,pG:fb,normalize:gb,Vi:jb,Fd:function(a,b){return.999999<=Math.abs(hb(a,b))},Tia:yb,hja:zb,
aja:Ab});function Cb(a,b,c){var d=.5*c[0],e=.5*c[1];c=.5*c[2];var f=b[0],g=b[1],h=b[2];b=b[3];a[0]=f;a[1]=g;a[2]=h;a[3]=b;a[4]=d*b+e*h-c*g;a[5]=e*b+c*f-d*h;a[6]=c*b+d*g-e*f;a[7]=-d*f-e*g-c*h;return a}function Db(a,b){a[0]=b[0];a[1]=b[1];a[2]=b[2];a[3]=b[3];a[4]=b[4];a[5]=b[5];a[6]=b[6];a[7]=b[7];return a}
function Eb(a,b,c){var d=b[0],e=b[1],f=b[2],g=b[3],h=c[4],k=c[5],l=c[6],m=c[7],n=b[4],p=b[5],q=b[6];b=b[7];var u=c[0],r=c[1],t=c[2];c=c[3];a[0]=d*c+g*u+e*t-f*r;a[1]=e*c+g*r+f*u-d*t;a[2]=f*c+g*t+d*r-e*u;a[3]=g*c-d*u-e*r-f*t;a[4]=d*m+g*h+e*l-f*k+n*c+b*u+p*t-q*r;a[5]=e*m+g*k+f*h-d*l+p*c+b*r+q*u-n*t;a[6]=f*m+g*l+d*k-e*h+q*c+b*t+n*r-p*u;a[7]=g*m-d*h-e*k-f*l+b*c-n*u-p*r-q*t;return a}
var Fb=Object.freeze({__proto__:null,create:function(){var a=new ba(8);ba!=Float32Array&&(a[0]=0,a[1]=0,a[2]=0,a[4]=0,a[5]=0,a[6]=0,a[7]=0);a[3]=1;return a},clone:function(a){var b=new ba(8);b[0]=a[0];b[1]=a[1];b[2]=a[2];b[3]=a[3];b[4]=a[4];b[5]=a[5];b[6]=a[6];b[7]=a[7];return b},Cg:function(a,b,c,d,e,f,g,h){var k=new ba(8);k[0]=a;k[1]=b;k[2]=c;k[3]=d;k[4]=e;k[5]=f;k[6]=g;k[7]=h;return k},Zga:function(a,b,c,d,e,f,g){var h=new ba(8);h[0]=a;h[1]=b;h[2]=c;h[3]=d;e*=.5;f*=.5;g*=.5;h[4]=e*d+f*c-g*b;h[5]=
f*d+g*a-e*c;h[6]=g*d+e*b-f*a;h[7]=-e*a-f*b-g*c;return h},O3:Cb,bN:function(a,b){a[0]=0;a[1]=0;a[2]=0;a[3]=1;a[4]=.5*b[0];a[5]=.5*b[1];a[6]=.5*b[2];a[7]=0;return a},cG:function(a,b){a[0]=b[0];a[1]=b[1];a[2]=b[2];a[3]=b[3];a[4]=0;a[5]=0;a[6]=0;a[7]=0;return a},M3:function(a,b){var c=mb();ya(c,b);var d=new ba(3);ua(d,b);Cb(a,c,d);return a},wa:Db,JA:function(a){a[0]=0;a[1]=0;a[2]=0;a[3]=1;a[4]=0;a[5]=0;a[6]=0;a[7]=0;return a},set:function(a,b,c,d,e,f,g,h,k){a[0]=b;a[1]=c;a[2]=d;a[3]=e;a[4]=f;a[5]=g;a[6]=
h;a[7]=k;return a},jha:Wa,iha:function(a,b){a[0]=b[4];a[1]=b[5];a[2]=b[6];a[3]=b[7];return a},eja:Wa,cja:function(a,b){a[4]=b[0];a[5]=b[1];a[6]=b[2];a[7]=b[3];return a},S3:function(a,b){var c=b[4],d=b[5],e=b[6],f=b[7],g=-b[0],h=-b[1],k=-b[2];b=b[3];a[0]=2*(c*b+f*g+d*k-e*h);a[1]=2*(d*b+f*h+e*g-c*k);a[2]=2*(e*b+f*k+c*h-d*g);return a},translate:function(a,b,c){var d=b[0],e=b[1],f=b[2],g=b[3],h=.5*c[0],k=.5*c[1];c=.5*c[2];var l=b[4],m=b[5],n=b[6];b=b[7];a[0]=d;a[1]=e;a[2]=f;a[3]=g;a[4]=g*h+e*c-f*k+l;
a[5]=g*k+f*h-d*c+m;a[6]=g*c+d*k-e*h+n;a[7]=-d*h-e*k-f*c+b;return a},IN:function(a,b,c){var d=-b[0],e=-b[1],f=-b[2],g=b[3],h=b[4],k=b[5],l=b[6],m=b[7],n=h*g+m*d+k*f-l*e,p=k*g+m*e+l*d-h*f,q=l*g+m*f+h*e-k*d;h=m*g-h*d-k*e-l*f;pb(a,b,c);d=a[0];e=a[1];f=a[2];g=a[3];a[4]=n*g+h*d+p*f-q*e;a[5]=p*g+h*e+q*d-n*f;a[6]=q*g+h*f+n*e-p*d;a[7]=h*g-n*d-p*e-q*f;return a},JN:function(a,b,c){var d=-b[0],e=-b[1],f=-b[2],g=b[3],h=b[4],k=b[5],l=b[6],m=b[7],n=h*g+m*d+k*f-l*e,p=k*g+m*e+l*d-h*f,q=l*g+m*f+h*e-k*d;h=m*g-h*d-k*
e-l*f;qb(a,b,c);d=a[0];e=a[1];f=a[2];g=a[3];a[4]=n*g+h*d+p*f-q*e;a[5]=p*g+h*e+q*d-n*f;a[6]=q*g+h*f+n*e-p*d;a[7]=h*g-n*d-p*e-q*f;return a},KN:function(a,b,c){var d=-b[0],e=-b[1],f=-b[2],g=b[3],h=b[4],k=b[5],l=b[6],m=b[7],n=h*g+m*d+k*f-l*e,p=k*g+m*e+l*d-h*f,q=l*g+m*f+h*e-k*d;h=m*g-h*d-k*e-l*f;rb(a,b,c);d=a[0];e=a[1];f=a[2];g=a[3];a[4]=n*g+h*d+p*f-q*e;a[5]=p*g+h*e+q*d-n*f;a[6]=q*g+h*f+n*e-p*d;a[7]=h*g-n*d-p*e-q*f;return a},Ria:function(a,b,c){var d=c[0],e=c[1],f=c[2];c=c[3];var g=b[0],h=b[1],k=b[2],
l=b[3];a[0]=g*c+l*d+h*f-k*e;a[1]=h*c+l*e+k*d-g*f;a[2]=k*c+l*f+g*e-h*d;a[3]=l*c-g*d-h*e-k*f;g=b[4];h=b[5];k=b[6];l=b[7];a[4]=g*c+l*d+h*f-k*e;a[5]=h*c+l*e+k*d-g*f;a[6]=k*c+l*f+g*e-h*d;a[7]=l*c-g*d-h*e-k*f;return a},Sia:function(a,b,c){var d=b[0],e=b[1],f=b[2];b=b[3];var g=c[0],h=c[1],k=c[2],l=c[3];a[0]=d*l+b*g+e*k-f*h;a[1]=e*l+b*h+f*g-d*k;a[2]=f*l+b*k+d*h-e*g;a[3]=b*l-d*g-e*h-f*k;g=c[4];h=c[5];k=c[6];l=c[7];a[4]=d*l+b*g+e*k-f*h;a[5]=e*l+b*h+f*g-d*k;a[6]=f*l+b*k+d*h-e*g;a[7]=b*l-d*g-e*h-f*k;return a},
Qia:function(a,b,c,d){if(1E-6>Math.abs(d))return Db(a,b);var e=Math.hypot(c[0],c[1],c[2]);d*=.5;var f=Math.sin(d),g=f*c[0]/e,h=f*c[1]/e;c=f*c[2]/e;d=Math.cos(d);e=b[0];f=b[1];var k=b[2],l=b[3];a[0]=e*d+l*g+f*c-k*h;a[1]=f*d+l*h+k*g-e*c;a[2]=k*d+l*c+e*h-f*g;a[3]=l*d-e*g-f*h-k*c;e=b[4];f=b[5];k=b[6];b=b[7];a[4]=e*d+b*g+f*c-k*h;a[5]=f*d+b*h+k*g-e*c;a[6]=k*d+b*c+e*h-f*g;a[7]=b*d-e*g-f*h-k*c;return a},add:function(a,b,c){a[0]=b[0]+c[0];a[1]=b[1]+c[1];a[2]=b[2]+c[2];a[3]=b[3]+c[3];a[4]=b[4]+c[4];a[5]=b[5]+
c[5];a[6]=b[6]+c[6];a[7]=b[7]+c[7];return a},multiply:Eb,Bo:Eb,scale:function(a,b,c){a[0]=b[0]*c;a[1]=b[1]*c;a[2]=b[2]*c;a[3]=b[3]*c;a[4]=b[4]*c;a[5]=b[5]*c;a[6]=b[6]*c;a[7]=b[7]*c;return a},zo:hb,Af:function(a,b,c,d){var e=1-d;0>hb(b,c)&&(d=-d);a[0]=b[0]*e+c[0]*d;a[1]=b[1]*e+c[1]*d;a[2]=b[2]*e+c[2]*d;a[3]=b[3]*e+c[3]*d;a[4]=b[4]*e+c[4]*d;a[5]=b[5]*e+c[5]*d;a[6]=b[6]*e+c[6]*d;a[7]=b[7]*e+c[7]*d;return a},hw:function(a,b){var c=fb(b);a[0]=-b[0]/c;a[1]=-b[1]/c;a[2]=-b[2]/c;a[3]=b[3]/c;a[4]=-b[4]/c;
a[5]=-b[5]/c;a[6]=-b[6]/c;a[7]=b[7]/c;return a},v3:function(a,b){a[0]=-b[0];a[1]=-b[1];a[2]=-b[2];a[3]=b[3];a[4]=-b[4];a[5]=-b[5];a[6]=-b[6];a[7]=b[7];return a},length:eb,iw:eb,qG:fb,pG:fb,normalize:function(a,b){var c=fb(b);if(0<c){c=Math.sqrt(c);var d=b[0]/c,e=b[1]/c,f=b[2]/c,g=b[3]/c,h=b[4],k=b[5],l=b[6];b=b[7];var m=d*h+e*k+f*l+g*b;a[0]=d;a[1]=e;a[2]=f;a[3]=g;a[4]=(h-d*m)/c;a[5]=(k-e*m)/c;a[6]=(l-f*m)/c;a[7]=(b-g*m)/c}return a},Vj:function(a){return"quat2("+a[0]+", "+a[1]+", "+a[2]+", "+a[3]+
", "+a[4]+", "+a[5]+", "+a[6]+", "+a[7]+")"},Vi:function(a,b){return a[0]===b[0]&&a[1]===b[1]&&a[2]===b[2]&&a[3]===b[3]&&a[4]===b[4]&&a[5]===b[5]&&a[6]===b[6]&&a[7]===b[7]},Fd:function(a,b){var c=a[0],d=a[1],e=a[2],f=a[3],g=a[4],h=a[5],k=a[6];a=a[7];var l=b[0],m=b[1],n=b[2],p=b[3],q=b[4],u=b[5],r=b[6];b=b[7];return Math.abs(c-l)<=1E-6*Math.max(1,Math.abs(c),Math.abs(l))&&Math.abs(d-m)<=1E-6*Math.max(1,Math.abs(d),Math.abs(m))&&Math.abs(e-n)<=1E-6*Math.max(1,Math.abs(e),Math.abs(n))&&Math.abs(f-p)<=
1E-6*Math.max(1,Math.abs(f),Math.abs(p))&&Math.abs(g-q)<=1E-6*Math.max(1,Math.abs(g),Math.abs(q))&&Math.abs(h-u)<=1E-6*Math.max(1,Math.abs(h),Math.abs(u))&&Math.abs(k-r)<=1E-6*Math.max(1,Math.abs(k),Math.abs(r))&&Math.abs(a-b)<=1E-6*Math.max(1,Math.abs(a),Math.abs(b))}});function Gb(){var a=new ba(2);ba!=Float32Array&&(a[0]=0,a[1]=0);return a}function Hb(a,b,c){a[0]=b[0]-c[0];a[1]=b[1]-c[1];return a}function Ib(a,b,c){a[0]=b[0]*c[0];a[1]=b[1]*c[1];return a}
function Jb(a,b,c){a[0]=b[0]/c[0];a[1]=b[1]/c[1];return a}function Kb(a,b){return Math.hypot(b[0]-a[0],b[1]-a[1])}function Lb(a,b){var c=b[0]-a[0];a=b[1]-a[1];return c*c+a*a}function Mb(a){return Math.hypot(a[0],a[1])}function Nb(a){var b=a[0];a=a[1];return b*b+a*a}
var Ob=function(){var a=Gb();return function(b,c,d,e,f,g){c||(c=2);d||(d=0);for(e=e?Math.min(e*c+d,b.length):b.length;d<e;d+=c)a[0]=b[d],a[1]=b[d+1],f(a,a,g),b[d]=a[0],b[d+1]=a[1];return b}}(),Pb=Object.freeze({__proto__:null,create:Gb,clone:function(a){var b=new ba(2);b[0]=a[0];b[1]=a[1];return b},Cg:function(a,b){var c=new ba(2);c[0]=a;c[1]=b;return c},wa:function(a,b){a[0]=b[0];a[1]=b[1];return a},set:function(a,b,c){a[0]=b;a[1]=c;return a},add:function(a,b,c){a[0]=b[0]+c[0];a[1]=b[1]+c[1];return a},
Do:Hb,multiply:Ib,sl:Jb,ceil:function(a,b){a[0]=Math.ceil(b[0]);a[1]=Math.ceil(b[1]);return a},floor:function(a,b){a[0]=Math.floor(b[0]);a[1]=Math.floor(b[1]);return a},min:function(a,b,c){a[0]=Math.min(b[0],c[0]);a[1]=Math.min(b[1],c[1]);return a},max:function(a,b,c){a[0]=Math.max(b[0],c[0]);a[1]=Math.max(b[1],c[1]);return a},round:function(a,b){a[0]=Math.round(b[0]);a[1]=Math.round(b[1]);return a},scale:function(a,b,c){a[0]=b[0]*c;a[1]=b[1]*c;return a},LN:function(a,b,c,d){a[0]=b[0]+c[0]*d;a[1]=
b[1]+c[1]*d;return a},Pd:Kb,cV:Lb,length:Mb,qG:Nb,QU:function(a,b){a[0]=-b[0];a[1]=-b[1];return a},inverse:function(a,b){a[0]=1/b[0];a[1]=1/b[1];return a},normalize:function(a,b){var c=b[0],d=b[1];c=c*c+d*d;0<c&&(c=1/Math.sqrt(c));a[0]=b[0]*c;a[1]=b[1]*c;return a},zo:function(a,b){return a[0]*b[0]+a[1]*b[1]},TM:function(a,b,c){b=b[0]*c[1]-b[1]*c[0];a[0]=a[1]=0;a[2]=b;return a},Af:function(a,b,c,d){var e=b[0];b=b[1];a[0]=e+d*(c[0]-e);a[1]=b+d*(c[1]-b);return a},random:function(a,b){b=b||1;var c=2*
ca()*Math.PI;a[0]=Math.cos(c)*b;a[1]=Math.sin(c)*b;return a},Aja:function(a,b,c){var d=b[0];b=b[1];a[0]=c[0]*d+c[2]*b;a[1]=c[1]*d+c[3]*b;return a},Bja:function(a,b,c){var d=b[0];b=b[1];a[0]=c[0]*d+c[2]*b+c[4];a[1]=c[1]*d+c[3]*b+c[5];return a},X4:function(a,b,c){var d=b[0];b=b[1];a[0]=c[0]*d+c[3]*b+c[6];a[1]=c[1]*d+c[4]*b+c[7];return a},VN:function(a,b,c){var d=b[0];b=b[1];a[0]=c[0]*d+c[4]*b+c[12];a[1]=c[1]*d+c[5]*b+c[13];return a},rotate:function(a,b,c,d){var e=b[0]-c[0];b=b[1]-c[1];var f=Math.sin(d);
d=Math.cos(d);a[0]=e*d-b*f+c[0];a[1]=e*f+b*d+c[1];return a},angle:function(a,b){var c=a[0];a=a[1];var d=b[0];b=b[1];var e=Math.sqrt((c*c+a*a)*(d*d+b*b));return Math.acos(Math.min(Math.max(e&&(c*d+a*b)/e,-1),1))},AV:function(a){a[0]=0;a[1]=0;return a},Vj:function(a){return"vec2("+a[0]+", "+a[1]+")"},Vi:function(a,b){return a[0]===b[0]&&a[1]===b[1]},Fd:function(a,b){var c=a[0];a=a[1];var d=b[0];b=b[1];return Math.abs(c-d)<=1E-6*Math.max(1,Math.abs(c),Math.abs(d))&&Math.abs(a-b)<=1E-6*Math.max(1,Math.abs(a),
Math.abs(b))},iw:Mb,sub:Hb,Bo:Ib,wU:Jb,uU:Kb,bV:Lb,pG:Nb,forEach:Ob});globalThis.me=ea;globalThis.me.Yha=ja;globalThis.me.Zha=ma;globalThis.me.$ha=qa;globalThis.me.tl=Da;globalThis.me.Aia=Bb;globalThis.me.Bia=Fb;globalThis.me.Mja=Pb;globalThis.me.tG=Sa;globalThis.me.ZA=lb;
self.yX=function(){function a(d,e){void 0===e&&(e=0);var f=d.charCodeAt(e);if(55296<=f&&56319>=f&&e<d.length-1){var g=f;d=d.charCodeAt(e+1);return 56320<=d&&57343>=d?1024*(g-55296)+(d-56320)+65536:g}return 56320<=f&&57343>=f&&1<=e?(g=d.charCodeAt(e-1),d=f,55296<=g&&56319>=g?1024*(g-55296)+(d-56320)+65536:d):f}function b(d,e,f){var g=[d].concat(e).concat([f]),h=g[g.length-2],k=g.lastIndexOf(14);if(1<k&&g.slice(1,k).every(function(l){return 3==l})&&-1==[3,13,17].indexOf(d))return 2;d=g.lastIndexOf(4);
if(0<d&&g.slice(1,d).every(function(l){return 4==l})&&-1==[12,4].indexOf(h))return 1==g.filter(function(l){return 4==l}).length%2?3:4;if(0==h&&1==f)return 0;if(2==h||0==h||1==h)return 14==f&&e.every(function(l){return 3==l})?2:1;if(2==f||0==f||1==f)return 1;if(6!=h||6!=f&&7!=f&&9!=f&&10!=f)if(9!=h&&7!=h||7!=f&&8!=f)if(10!=h&&8!=h||8!=f){if(3==f||15==f||5==f||12==h)return 0}else return 0;else return 0;else return 0;d=-1!=g.indexOf(3)?g.lastIndexOf(3)-1:g.length-2;return-1!=[13,17].indexOf(g[d])&&g.slice(d+
1,-1).every(function(l){return 3==l})&&14==f||15==h&&-1!=[16,17].indexOf(f)?0:-1!=e.indexOf(4)?2:4==h&&4==f?0:1}function c(d){return 1536<=d&&1541>=d||1757==d||1807==d||2274==d||3406==d||69821==d||70082<=d&&70083>=d||72250==d||72326<=d&&72329>=d||73030==d?12:13==d?0:10==d?1:0<=d&&9>=d||11<=d&&12>=d||14<=d&&31>=d||127<=d&&159>=d||173==d||1564==d||6158==d||8203==d||8206<=d&&8207>=d||8232==d||8233==d||8234<=d&&8238>=d||8288<=d&&8292>=d||8293==d||8294<=d&&8303>=d||55296<=d&&57343>=d||65279==d||65520<=
d&&65528>=d||65529<=d&&65531>=d||113824<=d&&113827>=d||119155<=d&&119162>=d||917504==d||917505==d||917506<=d&&917535>=d||917632<=d&&917759>=d||918E3<=d&&921599>=d?2:768<=d&&879>=d||1155<=d&&1159>=d||1160<=d&&1161>=d||1425<=d&&1469>=d||1471==d||1473<=d&&1474>=d||1476<=d&&1477>=d||1479==d||1552<=d&&1562>=d||1611<=d&&1631>=d||1648==d||1750<=d&&1756>=d||1759<=d&&1764>=d||1767<=d&&1768>=d||1770<=d&&1773>=d||1809==d||1840<=d&&1866>=d||1958<=d&&1968>=d||2027<=d&&2035>=d||2070<=d&&2073>=d||2075<=d&&2083>=
d||2085<=d&&2087>=d||2089<=d&&2093>=d||2137<=d&&2139>=d||2260<=d&&2273>=d||2275<=d&&2306>=d||2362==d||2364==d||2369<=d&&2376>=d||2381==d||2385<=d&&2391>=d||2402<=d&&2403>=d||2433==d||2492==d||2494==d||2497<=d&&2500>=d||2509==d||2519==d||2530<=d&&2531>=d||2561<=d&&2562>=d||2620==d||2625<=d&&2626>=d||2631<=d&&2632>=d||2635<=d&&2637>=d||2641==d||2672<=d&&2673>=d||2677==d||2689<=d&&2690>=d||2748==d||2753<=d&&2757>=d||2759<=d&&2760>=d||2765==d||2786<=d&&2787>=d||2810<=d&&2815>=d||2817==d||2876==d||2878==
d||2879==d||2881<=d&&2884>=d||2893==d||2902==d||2903==d||2914<=d&&2915>=d||2946==d||3006==d||3008==d||3021==d||3031==d||3072==d||3134<=d&&3136>=d||3142<=d&&3144>=d||3146<=d&&3149>=d||3157<=d&&3158>=d||3170<=d&&3171>=d||3201==d||3260==d||3263==d||3266==d||3270==d||3276<=d&&3277>=d||3285<=d&&3286>=d||3298<=d&&3299>=d||3328<=d&&3329>=d||3387<=d&&3388>=d||3390==d||3393<=d&&3396>=d||3405==d||3415==d||3426<=d&&3427>=d||3530==d||3535==d||3538<=d&&3540>=d||3542==d||3551==d||3633==d||3636<=d&&3642>=d||3655<=
d&&3662>=d||3761==d||3764<=d&&3769>=d||3771<=d&&3772>=d||3784<=d&&3789>=d||3864<=d&&3865>=d||3893==d||3895==d||3897==d||3953<=d&&3966>=d||3968<=d&&3972>=d||3974<=d&&3975>=d||3981<=d&&3991>=d||3993<=d&&4028>=d||4038==d||4141<=d&&4144>=d||4146<=d&&4151>=d||4153<=d&&4154>=d||4157<=d&&4158>=d||4184<=d&&4185>=d||4190<=d&&4192>=d||4209<=d&&4212>=d||4226==d||4229<=d&&4230>=d||4237==d||4253==d||4957<=d&&4959>=d||5906<=d&&5908>=d||5938<=d&&5940>=d||5970<=d&&5971>=d||6002<=d&&6003>=d||6068<=d&&6069>=d||6071<=
d&&6077>=d||6086==d||6089<=d&&6099>=d||6109==d||6155<=d&&6157>=d||6277<=d&&6278>=d||6313==d||6432<=d&&6434>=d||6439<=d&&6440>=d||6450==d||6457<=d&&6459>=d||6679<=d&&6680>=d||6683==d||6742==d||6744<=d&&6750>=d||6752==d||6754==d||6757<=d&&6764>=d||6771<=d&&6780>=d||6783==d||6832<=d&&6845>=d||6846==d||6912<=d&&6915>=d||6964==d||6966<=d&&6970>=d||6972==d||6978==d||7019<=d&&7027>=d||7040<=d&&7041>=d||7074<=d&&7077>=d||7080<=d&&7081>=d||7083<=d&&7085>=d||7142==d||7144<=d&&7145>=d||7149==d||7151<=d&&7153>=
d||7212<=d&&7219>=d||7222<=d&&7223>=d||7376<=d&&7378>=d||7380<=d&&7392>=d||7394<=d&&7400>=d||7405==d||7412==d||7416<=d&&7417>=d||7616<=d&&7673>=d||7675<=d&&7679>=d||8204==d||8400<=d&&8412>=d||8413<=d&&8416>=d||8417==d||8418<=d&&8420>=d||8421<=d&&8432>=d||11503<=d&&11505>=d||11647==d||11744<=d&&11775>=d||12330<=d&&12333>=d||12334<=d&&12335>=d||12441<=d&&12442>=d||42607==d||42608<=d&&42610>=d||42612<=d&&42621>=d||42654<=d&&42655>=d||42736<=d&&42737>=d||43010==d||43014==d||43019==d||43045<=d&&43046>=
d||43204<=d&&43205>=d||43232<=d&&43249>=d||43302<=d&&43309>=d||43335<=d&&43345>=d||43392<=d&&43394>=d||43443==d||43446<=d&&43449>=d||43452==d||43493==d||43561<=d&&43566>=d||43569<=d&&43570>=d||43573<=d&&43574>=d||43587==d||43596==d||43644==d||43696==d||43698<=d&&43700>=d||43703<=d&&43704>=d||43710<=d&&43711>=d||43713==d||43756<=d&&43757>=d||43766==d||44005==d||44008==d||44013==d||64286==d||65024<=d&&65039>=d||65056<=d&&65071>=d||65438<=d&&65439>=d||66045==d||66272==d||66422<=d&&66426>=d||68097<=d&&
68099>=d||68101<=d&&68102>=d||68108<=d&&68111>=d||68152<=d&&68154>=d||68159==d||68325<=d&&68326>=d||69633==d||69688<=d&&69702>=d||69759<=d&&69761>=d||69811<=d&&69814>=d||69817<=d&&69818>=d||69888<=d&&69890>=d||69927<=d&&69931>=d||69933<=d&&69940>=d||70003==d||70016<=d&&70017>=d||70070<=d&&70078>=d||70090<=d&&70092>=d||70191<=d&&70193>=d||70196==d||70198<=d&&70199>=d||70206==d||70367==d||70371<=d&&70378>=d||70400<=d&&70401>=d||70460==d||70462==d||70464==d||70487==d||70502<=d&&70508>=d||70512<=d&&70516>=
d||70712<=d&&70719>=d||70722<=d&&70724>=d||70726==d||70832==d||70835<=d&&70840>=d||70842==d||70845==d||70847<=d&&70848>=d||70850<=d&&70851>=d||71087==d||71090<=d&&71093>=d||71100<=d&&71101>=d||71103<=d&&71104>=d||71132<=d&&71133>=d||71219<=d&&71226>=d||71229==d||71231<=d&&71232>=d||71339==d||71341==d||71344<=d&&71349>=d||71351==d||71453<=d&&71455>=d||71458<=d&&71461>=d||71463<=d&&71467>=d||72193<=d&&72198>=d||72201<=d&&72202>=d||72243<=d&&72248>=d||72251<=d&&72254>=d||72263==d||72273<=d&&72278>=d||
72281<=d&&72283>=d||72330<=d&&72342>=d||72344<=d&&72345>=d||72752<=d&&72758>=d||72760<=d&&72765>=d||72767==d||72850<=d&&72871>=d||72874<=d&&72880>=d||72882<=d&&72883>=d||72885<=d&&72886>=d||73009<=d&&73014>=d||73018==d||73020<=d&&73021>=d||73023<=d&&73029>=d||73031==d||92912<=d&&92916>=d||92976<=d&&92982>=d||94095<=d&&94098>=d||113821<=d&&113822>=d||119141==d||119143<=d&&119145>=d||119150<=d&&119154>=d||119163<=d&&119170>=d||119173<=d&&119179>=d||119210<=d&&119213>=d||119362<=d&&119364>=d||121344<=
d&&121398>=d||121403<=d&&121452>=d||121461==d||121476==d||121499<=d&&121503>=d||121505<=d&&121519>=d||122880<=d&&122886>=d||122888<=d&&122904>=d||122907<=d&&122913>=d||122915<=d&&122916>=d||122918<=d&&122922>=d||125136<=d&&125142>=d||125252<=d&&125258>=d||917536<=d&&917631>=d||917760<=d&&917999>=d?3:127462<=d&&127487>=d?4:2307==d||2363==d||2366<=d&&2368>=d||2377<=d&&2380>=d||2382<=d&&2383>=d||2434<=d&&2435>=d||2495<=d&&2496>=d||2503<=d&&2504>=d||2507<=d&&2508>=d||2563==d||2622<=d&&2624>=d||2691==
d||2750<=d&&2752>=d||2761==d||2763<=d&&2764>=d||2818<=d&&2819>=d||2880==d||2887<=d&&2888>=d||2891<=d&&2892>=d||3007==d||3009<=d&&3010>=d||3014<=d&&3016>=d||3018<=d&&3020>=d||3073<=d&&3075>=d||3137<=d&&3140>=d||3202<=d&&3203>=d||3262==d||3264<=d&&3265>=d||3267<=d&&3268>=d||3271<=d&&3272>=d||3274<=d&&3275>=d||3330<=d&&3331>=d||3391<=d&&3392>=d||3398<=d&&3400>=d||3402<=d&&3404>=d||3458<=d&&3459>=d||3536<=d&&3537>=d||3544<=d&&3550>=d||3570<=d&&3571>=d||3635==d||3763==d||3902<=d&&3903>=d||3967==d||4145==
d||4155<=d&&4156>=d||4182<=d&&4183>=d||4228==d||6070==d||6078<=d&&6085>=d||6087<=d&&6088>=d||6435<=d&&6438>=d||6441<=d&&6443>=d||6448<=d&&6449>=d||6451<=d&&6456>=d||6681<=d&&6682>=d||6741==d||6743==d||6765<=d&&6770>=d||6916==d||6965==d||6971==d||6973<=d&&6977>=d||6979<=d&&6980>=d||7042==d||7073==d||7078<=d&&7079>=d||7082==d||7143==d||7146<=d&&7148>=d||7150==d||7154<=d&&7155>=d||7204<=d&&7211>=d||7220<=d&&7221>=d||7393==d||7410<=d&&7411>=d||7415==d||43043<=d&&43044>=d||43047==d||43136<=d&&43137>=d||
43188<=d&&43203>=d||43346<=d&&43347>=d||43395==d||43444<=d&&43445>=d||43450<=d&&43451>=d||43453<=d&&43456>=d||43567<=d&&43568>=d||43571<=d&&43572>=d||43597==d||43755==d||43758<=d&&43759>=d||43765==d||44003<=d&&44004>=d||44006<=d&&44007>=d||44009<=d&&44010>=d||44012==d||69632==d||69634==d||69762==d||69808<=d&&69810>=d||69815<=d&&69816>=d||69932==d||70018==d||70067<=d&&70069>=d||70079<=d&&70080>=d||70188<=d&&70190>=d||70194<=d&&70195>=d||70197==d||70368<=d&&70370>=d||70402<=d&&70403>=d||70463==d||70465<=
d&&70468>=d||70471<=d&&70472>=d||70475<=d&&70477>=d||70498<=d&&70499>=d||70709<=d&&70711>=d||70720<=d&&70721>=d||70725==d||70833<=d&&70834>=d||70841==d||70843<=d&&70844>=d||70846==d||70849==d||71088<=d&&71089>=d||71096<=d&&71099>=d||71102==d||71216<=d&&71218>=d||71227<=d&&71228>=d||71230==d||71340==d||71342<=d&&71343>=d||71350==d||71456<=d&&71457>=d||71462==d||72199<=d&&72200>=d||72249==d||72279<=d&&72280>=d||72343==d||72751==d||72766==d||72873==d||72881==d||72884==d||94033<=d&&94078>=d||119142==
d||119149==d?5:4352<=d&&4447>=d||43360<=d&&43388>=d?6:4448<=d&&4519>=d||55216<=d&&55238>=d?7:4520<=d&&4607>=d||55243<=d&&55291>=d?8:44032==d||44060==d||44088==d||44116==d||44144==d||44172==d||44200==d||44228==d||44256==d||44284==d||44312==d||44340==d||44368==d||44396==d||44424==d||44452==d||44480==d||44508==d||44536==d||44564==d||44592==d||44620==d||44648==d||44676==d||44704==d||44732==d||44760==d||44788==d||44816==d||44844==d||44872==d||44900==d||44928==d||44956==d||44984==d||45012==d||45040==d||
45068==d||45096==d||45124==d||45152==d||45180==d||45208==d||45236==d||45264==d||45292==d||45320==d||45348==d||45376==d||45404==d||45432==d||45460==d||45488==d||45516==d||45544==d||45572==d||45600==d||45628==d||45656==d||45684==d||45712==d||45740==d||45768==d||45796==d||45824==d||45852==d||45880==d||45908==d||45936==d||45964==d||45992==d||46020==d||46048==d||46076==d||46104==d||46132==d||46160==d||46188==d||46216==d||46244==d||46272==d||46300==d||46328==d||46356==d||46384==d||46412==d||46440==d||46468==
d||46496==d||46524==d||46552==d||46580==d||46608==d||46636==d||46664==d||46692==d||46720==d||46748==d||46776==d||46804==d||46832==d||46860==d||46888==d||46916==d||46944==d||46972==d||47E3==d||47028==d||47056==d||47084==d||47112==d||47140==d||47168==d||47196==d||47224==d||47252==d||47280==d||47308==d||47336==d||47364==d||47392==d||47420==d||47448==d||47476==d||47504==d||47532==d||47560==d||47588==d||47616==d||47644==d||47672==d||47700==d||47728==d||47756==d||47784==d||47812==d||47840==d||47868==d||
47896==d||47924==d||47952==d||47980==d||48008==d||48036==d||48064==d||48092==d||48120==d||48148==d||48176==d||48204==d||48232==d||48260==d||48288==d||48316==d||48344==d||48372==d||48400==d||48428==d||48456==d||48484==d||48512==d||48540==d||48568==d||48596==d||48624==d||48652==d||48680==d||48708==d||48736==d||48764==d||48792==d||48820==d||48848==d||48876==d||48904==d||48932==d||48960==d||48988==d||49016==d||49044==d||49072==d||49100==d||49128==d||49156==d||49184==d||49212==d||49240==d||49268==d||49296==
d||49324==d||49352==d||49380==d||49408==d||49436==d||49464==d||49492==d||49520==d||49548==d||49576==d||49604==d||49632==d||49660==d||49688==d||49716==d||49744==d||49772==d||49800==d||49828==d||49856==d||49884==d||49912==d||49940==d||49968==d||49996==d||50024==d||50052==d||50080==d||50108==d||50136==d||50164==d||50192==d||50220==d||50248==d||50276==d||50304==d||50332==d||50360==d||50388==d||50416==d||50444==d||50472==d||50500==d||50528==d||50556==d||50584==d||50612==d||50640==d||50668==d||50696==d||
50724==d||50752==d||50780==d||50808==d||50836==d||50864==d||50892==d||50920==d||50948==d||50976==d||51004==d||51032==d||51060==d||51088==d||51116==d||51144==d||51172==d||51200==d||51228==d||51256==d||51284==d||51312==d||51340==d||51368==d||51396==d||51424==d||51452==d||51480==d||51508==d||51536==d||51564==d||51592==d||51620==d||51648==d||51676==d||51704==d||51732==d||51760==d||51788==d||51816==d||51844==d||51872==d||51900==d||51928==d||51956==d||51984==d||52012==d||52040==d||52068==d||52096==d||52124==
d||52152==d||52180==d||52208==d||52236==d||52264==d||52292==d||52320==d||52348==d||52376==d||52404==d||52432==d||52460==d||52488==d||52516==d||52544==d||52572==d||52600==d||52628==d||52656==d||52684==d||52712==d||52740==d||52768==d||52796==d||52824==d||52852==d||52880==d||52908==d||52936==d||52964==d||52992==d||53020==d||53048==d||53076==d||53104==d||53132==d||53160==d||53188==d||53216==d||53244==d||53272==d||53300==d||53328==d||53356==d||53384==d||53412==d||53440==d||53468==d||53496==d||53524==d||
53552==d||53580==d||53608==d||53636==d||53664==d||53692==d||53720==d||53748==d||53776==d||53804==d||53832==d||53860==d||53888==d||53916==d||53944==d||53972==d||54E3==d||54028==d||54056==d||54084==d||54112==d||54140==d||54168==d||54196==d||54224==d||54252==d||54280==d||54308==d||54336==d||54364==d||54392==d||54420==d||54448==d||54476==d||54504==d||54532==d||54560==d||54588==d||54616==d||54644==d||54672==d||54700==d||54728==d||54756==d||54784==d||54812==d||54840==d||54868==d||54896==d||54924==d||54952==
d||54980==d||55008==d||55036==d||55064==d||55092==d||55120==d||55148==d||55176==d?9:44033<=d&&44059>=d||44061<=d&&44087>=d||44089<=d&&44115>=d||44117<=d&&44143>=d||44145<=d&&44171>=d||44173<=d&&44199>=d||44201<=d&&44227>=d||44229<=d&&44255>=d||44257<=d&&44283>=d||44285<=d&&44311>=d||44313<=d&&44339>=d||44341<=d&&44367>=d||44369<=d&&44395>=d||44397<=d&&44423>=d||44425<=d&&44451>=d||44453<=d&&44479>=d||44481<=d&&44507>=d||44509<=d&&44535>=d||44537<=d&&44563>=d||44565<=d&&44591>=d||44593<=d&&44619>=
d||44621<=d&&44647>=d||44649<=d&&44675>=d||44677<=d&&44703>=d||44705<=d&&44731>=d||44733<=d&&44759>=d||44761<=d&&44787>=d||44789<=d&&44815>=d||44817<=d&&44843>=d||44845<=d&&44871>=d||44873<=d&&44899>=d||44901<=d&&44927>=d||44929<=d&&44955>=d||44957<=d&&44983>=d||44985<=d&&45011>=d||45013<=d&&45039>=d||45041<=d&&45067>=d||45069<=d&&45095>=d||45097<=d&&45123>=d||45125<=d&&45151>=d||45153<=d&&45179>=d||45181<=d&&45207>=d||45209<=d&&45235>=d||45237<=d&&45263>=d||45265<=d&&45291>=d||45293<=d&&45319>=d||
45321<=d&&45347>=d||45349<=d&&45375>=d||45377<=d&&45403>=d||45405<=d&&45431>=d||45433<=d&&45459>=d||45461<=d&&45487>=d||45489<=d&&45515>=d||45517<=d&&45543>=d||45545<=d&&45571>=d||45573<=d&&45599>=d||45601<=d&&45627>=d||45629<=d&&45655>=d||45657<=d&&45683>=d||45685<=d&&45711>=d||45713<=d&&45739>=d||45741<=d&&45767>=d||45769<=d&&45795>=d||45797<=d&&45823>=d||45825<=d&&45851>=d||45853<=d&&45879>=d||45881<=d&&45907>=d||45909<=d&&45935>=d||45937<=d&&45963>=d||45965<=d&&45991>=d||45993<=d&&46019>=d||46021<=
d&&46047>=d||46049<=d&&46075>=d||46077<=d&&46103>=d||46105<=d&&46131>=d||46133<=d&&46159>=d||46161<=d&&46187>=d||46189<=d&&46215>=d||46217<=d&&46243>=d||46245<=d&&46271>=d||46273<=d&&46299>=d||46301<=d&&46327>=d||46329<=d&&46355>=d||46357<=d&&46383>=d||46385<=d&&46411>=d||46413<=d&&46439>=d||46441<=d&&46467>=d||46469<=d&&46495>=d||46497<=d&&46523>=d||46525<=d&&46551>=d||46553<=d&&46579>=d||46581<=d&&46607>=d||46609<=d&&46635>=d||46637<=d&&46663>=d||46665<=d&&46691>=d||46693<=d&&46719>=d||46721<=d&&
46747>=d||46749<=d&&46775>=d||46777<=d&&46803>=d||46805<=d&&46831>=d||46833<=d&&46859>=d||46861<=d&&46887>=d||46889<=d&&46915>=d||46917<=d&&46943>=d||46945<=d&&46971>=d||46973<=d&&46999>=d||47001<=d&&47027>=d||47029<=d&&47055>=d||47057<=d&&47083>=d||47085<=d&&47111>=d||47113<=d&&47139>=d||47141<=d&&47167>=d||47169<=d&&47195>=d||47197<=d&&47223>=d||47225<=d&&47251>=d||47253<=d&&47279>=d||47281<=d&&47307>=d||47309<=d&&47335>=d||47337<=d&&47363>=d||47365<=d&&47391>=d||47393<=d&&47419>=d||47421<=d&&47447>=
d||47449<=d&&47475>=d||47477<=d&&47503>=d||47505<=d&&47531>=d||47533<=d&&47559>=d||47561<=d&&47587>=d||47589<=d&&47615>=d||47617<=d&&47643>=d||47645<=d&&47671>=d||47673<=d&&47699>=d||47701<=d&&47727>=d||47729<=d&&47755>=d||47757<=d&&47783>=d||47785<=d&&47811>=d||47813<=d&&47839>=d||47841<=d&&47867>=d||47869<=d&&47895>=d||47897<=d&&47923>=d||47925<=d&&47951>=d||47953<=d&&47979>=d||47981<=d&&48007>=d||48009<=d&&48035>=d||48037<=d&&48063>=d||48065<=d&&48091>=d||48093<=d&&48119>=d||48121<=d&&48147>=d||
48149<=d&&48175>=d||48177<=d&&48203>=d||48205<=d&&48231>=d||48233<=d&&48259>=d||48261<=d&&48287>=d||48289<=d&&48315>=d||48317<=d&&48343>=d||48345<=d&&48371>=d||48373<=d&&48399>=d||48401<=d&&48427>=d||48429<=d&&48455>=d||48457<=d&&48483>=d||48485<=d&&48511>=d||48513<=d&&48539>=d||48541<=d&&48567>=d||48569<=d&&48595>=d||48597<=d&&48623>=d||48625<=d&&48651>=d||48653<=d&&48679>=d||48681<=d&&48707>=d||48709<=d&&48735>=d||48737<=d&&48763>=d||48765<=d&&48791>=d||48793<=d&&48819>=d||48821<=d&&48847>=d||48849<=
d&&48875>=d||48877<=d&&48903>=d||48905<=d&&48931>=d||48933<=d&&48959>=d||48961<=d&&48987>=d||48989<=d&&49015>=d||49017<=d&&49043>=d||49045<=d&&49071>=d||49073<=d&&49099>=d||49101<=d&&49127>=d||49129<=d&&49155>=d||49157<=d&&49183>=d||49185<=d&&49211>=d||49213<=d&&49239>=d||49241<=d&&49267>=d||49269<=d&&49295>=d||49297<=d&&49323>=d||49325<=d&&49351>=d||49353<=d&&49379>=d||49381<=d&&49407>=d||49409<=d&&49435>=d||49437<=d&&49463>=d||49465<=d&&49491>=d||49493<=d&&49519>=d||49521<=d&&49547>=d||49549<=d&&
49575>=d||49577<=d&&49603>=d||49605<=d&&49631>=d||49633<=d&&49659>=d||49661<=d&&49687>=d||49689<=d&&49715>=d||49717<=d&&49743>=d||49745<=d&&49771>=d||49773<=d&&49799>=d||49801<=d&&49827>=d||49829<=d&&49855>=d||49857<=d&&49883>=d||49885<=d&&49911>=d||49913<=d&&49939>=d||49941<=d&&49967>=d||49969<=d&&49995>=d||49997<=d&&50023>=d||50025<=d&&50051>=d||50053<=d&&50079>=d||50081<=d&&50107>=d||50109<=d&&50135>=d||50137<=d&&50163>=d||50165<=d&&50191>=d||50193<=d&&50219>=d||50221<=d&&50247>=d||50249<=d&&50275>=
d||50277<=d&&50303>=d||50305<=d&&50331>=d||50333<=d&&50359>=d||50361<=d&&50387>=d||50389<=d&&50415>=d||50417<=d&&50443>=d||50445<=d&&50471>=d||50473<=d&&50499>=d||50501<=d&&50527>=d||50529<=d&&50555>=d||50557<=d&&50583>=d||50585<=d&&50611>=d||50613<=d&&50639>=d||50641<=d&&50667>=d||50669<=d&&50695>=d||50697<=d&&50723>=d||50725<=d&&50751>=d||50753<=d&&50779>=d||50781<=d&&50807>=d||50809<=d&&50835>=d||50837<=d&&50863>=d||50865<=d&&50891>=d||50893<=d&&50919>=d||50921<=d&&50947>=d||50949<=d&&50975>=d||
50977<=d&&51003>=d||51005<=d&&51031>=d||51033<=d&&51059>=d||51061<=d&&51087>=d||51089<=d&&51115>=d||51117<=d&&51143>=d||51145<=d&&51171>=d||51173<=d&&51199>=d||51201<=d&&51227>=d||51229<=d&&51255>=d||51257<=d&&51283>=d||51285<=d&&51311>=d||51313<=d&&51339>=d||51341<=d&&51367>=d||51369<=d&&51395>=d||51397<=d&&51423>=d||51425<=d&&51451>=d||51453<=d&&51479>=d||51481<=d&&51507>=d||51509<=d&&51535>=d||51537<=d&&51563>=d||51565<=d&&51591>=d||51593<=d&&51619>=d||51621<=d&&51647>=d||51649<=d&&51675>=d||51677<=
d&&51703>=d||51705<=d&&51731>=d||51733<=d&&51759>=d||51761<=d&&51787>=d||51789<=d&&51815>=d||51817<=d&&51843>=d||51845<=d&&51871>=d||51873<=d&&51899>=d||51901<=d&&51927>=d||51929<=d&&51955>=d||51957<=d&&51983>=d||51985<=d&&52011>=d||52013<=d&&52039>=d||52041<=d&&52067>=d||52069<=d&&52095>=d||52097<=d&&52123>=d||52125<=d&&52151>=d||52153<=d&&52179>=d||52181<=d&&52207>=d||52209<=d&&52235>=d||52237<=d&&52263>=d||52265<=d&&52291>=d||52293<=d&&52319>=d||52321<=d&&52347>=d||52349<=d&&52375>=d||52377<=d&&
52403>=d||52405<=d&&52431>=d||52433<=d&&52459>=d||52461<=d&&52487>=d||52489<=d&&52515>=d||52517<=d&&52543>=d||52545<=d&&52571>=d||52573<=d&&52599>=d||52601<=d&&52627>=d||52629<=d&&52655>=d||52657<=d&&52683>=d||52685<=d&&52711>=d||52713<=d&&52739>=d||52741<=d&&52767>=d||52769<=d&&52795>=d||52797<=d&&52823>=d||52825<=d&&52851>=d||52853<=d&&52879>=d||52881<=d&&52907>=d||52909<=d&&52935>=d||52937<=d&&52963>=d||52965<=d&&52991>=d||52993<=d&&53019>=d||53021<=d&&53047>=d||53049<=d&&53075>=d||53077<=d&&53103>=
d||53105<=d&&53131>=d||53133<=d&&53159>=d||53161<=d&&53187>=d||53189<=d&&53215>=d||53217<=d&&53243>=d||53245<=d&&53271>=d||53273<=d&&53299>=d||53301<=d&&53327>=d||53329<=d&&53355>=d||53357<=d&&53383>=d||53385<=d&&53411>=d||53413<=d&&53439>=d||53441<=d&&53467>=d||53469<=d&&53495>=d||53497<=d&&53523>=d||53525<=d&&53551>=d||53553<=d&&53579>=d||53581<=d&&53607>=d||53609<=d&&53635>=d||53637<=d&&53663>=d||53665<=d&&53691>=d||53693<=d&&53719>=d||53721<=d&&53747>=d||53749<=d&&53775>=d||53777<=d&&53803>=d||
53805<=d&&53831>=d||53833<=d&&53859>=d||53861<=d&&53887>=d||53889<=d&&53915>=d||53917<=d&&53943>=d||53945<=d&&53971>=d||53973<=d&&53999>=d||54001<=d&&54027>=d||54029<=d&&54055>=d||54057<=d&&54083>=d||54085<=d&&54111>=d||54113<=d&&54139>=d||54141<=d&&54167>=d||54169<=d&&54195>=d||54197<=d&&54223>=d||54225<=d&&54251>=d||54253<=d&&54279>=d||54281<=d&&54307>=d||54309<=d&&54335>=d||54337<=d&&54363>=d||54365<=d&&54391>=d||54393<=d&&54419>=d||54421<=d&&54447>=d||54449<=d&&54475>=d||54477<=d&&54503>=d||54505<=
d&&54531>=d||54533<=d&&54559>=d||54561<=d&&54587>=d||54589<=d&&54615>=d||54617<=d&&54643>=d||54645<=d&&54671>=d||54673<=d&&54699>=d||54701<=d&&54727>=d||54729<=d&&54755>=d||54757<=d&&54783>=d||54785<=d&&54811>=d||54813<=d&&54839>=d||54841<=d&&54867>=d||54869<=d&&54895>=d||54897<=d&&54923>=d||54925<=d&&54951>=d||54953<=d&&54979>=d||54981<=d&&55007>=d||55009<=d&&55035>=d||55037<=d&&55063>=d||55065<=d&&55091>=d||55093<=d&&55119>=d||55121<=d&&55147>=d||55149<=d&&55175>=d||55177<=d&&55203>=d?10:9757==
d||9977==d||9994<=d&&9997>=d||127877==d||127938<=d&&127940>=d||127943==d||127946<=d&&127948>=d||128066<=d&&128067>=d||128070<=d&&128080>=d||128110==d||128112<=d&&128120>=d||128124==d||128129<=d&&128131>=d||128133<=d&&128135>=d||128170==d||128372<=d&&128373>=d||128378==d||128400==d||128405<=d&&128406>=d||128581<=d&&128583>=d||128587<=d&&128591>=d||128675==d||128692<=d&&128694>=d||128704==d||128716==d||129304<=d&&129308>=d||129310<=d&&129311>=d||129318==d||129328<=d&&129337>=d||129341<=d&&129342>=d||
129489<=d&&129501>=d?13:127995<=d&&127999>=d?14:8205==d?15:9792==d||9794==d||9877<=d&&9878>=d||9992==d||10084==d||127752==d||127806==d||127859==d||127891==d||127908==d||127912==d||127979==d||127981==d||128139==d||128187<=d&&128188>=d||128295==d||128300==d||128488==d||128640==d||128658==d?16:128102<=d&&128105>=d?17:11}this.vN=function(d,e){void 0===e&&(e=0);if(0>e)return 0;if(e>=d.length-1)return d.length;var f=c(a(d,e)),g=[];for(e+=1;e<d.length;e++){var h=d,k=e-1;if(!(55296<=h.charCodeAt(k)&&56319>=
h.charCodeAt(k)&&56320<=h.charCodeAt(k+1)&&57343>=h.charCodeAt(k+1))){h=c(a(d,e));if(b(f,g,h))return e;g.push(h)}}return d.length};this.Q4=function(d){for(var e=[],f=0,g;(g=this.vN(d,f))<d.length;)e.push(d.slice(f,g)),f=g;f<d.length&&e.push(d.slice(f));return e};this.m4=function(d){var e=0,f={next:function(){var g;if((g=this.vN(d,e))<d.length){var h=d.slice(e,g);e=g;return{value:h,done:!1}}return e<d.length?(h=d.slice(e),e=d.length,{value:h,done:!1}):{value:void 0,done:!0}}.bind(this)};"undefined"!==
typeof Symbol&&Symbol.iterator&&(f[Symbol.iterator]=function(){return f});return f};this.w3=function(d){for(var e=0,f=0,g;(g=this.vN(d,f))<d.length;)f=g,e++;f<d.length&&e++;return e};return this};"use strict";function Qb(a,b,c,d){var e=b[0]-a[0];b=b[1]-a[1];var f=d[0]-c[0],g=d[1]-c[1];if(0===f*b-g*e)return!1;d=(e*(c[1]-a[1])+b*(a[0]-c[0]))/(f*b-g*e);a=(f*(a[1]-c[1])+g*(c[0]-a[0]))/(g*e-f*b);return 0<=d&&1>=d&&0<=a&&1>=a}function Rb(a,b,c){return(b[0]-a[0])*(c[1]-a[1])-(c[0]-a[0])*(b[1]-a[1])}
var Sb=[],Tb=[];function Ub(a,b){var c=b[0]-a[0];a=b[1]-a[1];return c*c+a*a}function x(a,b){var c=a.length;return a[0>b?b%c+c:b%c]}function Vb(a,b,c,d){for(;c<d;c++)a.push(b[c])}var Wb=[],Xb=[];function Yb(a,b,c,d){d=d||[];d.length=0;if(b<c)for(var e=b;e<=c;e++)d.push(a[e]);else{for(e=0;e<=c;e++)d.push(a[e]);for(e=b;e<a.length;e++)d.push(a[e])}return d}
function Zb(a){for(var b=[],c,d,e=[],f=Number.MAX_VALUE,g=0;g<a.length;++g)if(0>Rb(x(a,g-1),x(a,g),x(a,g+1)))for(var h=0;h<a.length;++h){a:{d=a;var k=g,l=h;if(0<=Rb(x(d,k+1),x(d,k),x(d,l))&&0>=Rb(x(d,k-1),x(d,k),x(d,l)))c=!1;else{c=Ub(x(d,k),x(d,l));for(var m=0;m!==d.length;++m)if((m+1)%d.length!==k&&m!==k&&0<=Rb(x(d,k),x(d,l),x(d,m+1))&&0>=Rb(x(d,k),x(d,l),x(d,m))){Wb[0]=x(d,k);Wb[1]=x(d,l);Xb[0]=x(d,m);Xb[1]=x(d,m+1);var n=Wb;var p=Xb;var q=[0,0];var u=n[1][1]-n[0][1];var r=n[0][0]-n[1][0];var t=
u*n[0][0]+r*n[0][1];var v=p[1][1]-p[0][1];n=p[0][0]-p[1][0];var w=v*p[0][0]+n*p[0][1];p=u*n-v*r;0>=Math.abs(p-0)||(q[0]=(n*t-r*w)/p,q[1]=(u*w-v*t)/p);r=q;if(Ub(x(d,k),r)<c){c=!1;break a}}c=!0}}if(c){c=Zb(Yb(a,g,h,e));d=Zb(Yb(a,h,g,e));for(k=0;k<d.length;k++)c.push(d[k]);c.length<f&&(b=c,f=c.length,b.push([x(a,g),x(a,h)]))}}return b}
function $b(a,b){if(0===b.length)return[a];if(b instanceof Array&&b.length&&b[0]instanceof Array&&2===b[0].length&&b[0][0]instanceof Array){a=[a];for(var c=0;c<b.length;c++)for(var d=b[c],e=0;e<a.length;e++){var f=$b(a[e],d);if(f){a.splice(e,1);a.push(f[0],f[1]);break}}return a}d=b;c=a.indexOf(d[0]);e=a.indexOf(d[1]);return-1!==c&&-1!==e?[Yb(a,c,e),Yb(a,e,c)]:!1}
function ac(a,b,c,d){var e=b[1]-a[1];b=a[0]-b[0];a=e*a[0]+b*a[1];var f=d[1]-c[1];d=c[0]-d[0];c=f*c[0]+d*c[1];var g=e*d-f*b;return 0>=Math.abs(g-0)?[0,0]:[(d*a-b*c)/g,(e*c-f*a)/g]}
function bc(a,b,c,d,e,f,g){f=f||100;g=g||0;e=e||25;b="undefined"!==typeof b?b:[];c=c||[];d=d||[];var h=[0,0],k=[0,0],l=[0,0],m,n=0,p=0,q=0,u=[],r=[];if(3>a.length)return b;g++;if(g>f)return console.warn("quickDecomp: max level ("+f+") reached."),b;for(var t=0;t<a.length;++t)if(0>Rb(x(a,t-1),x(a,t),x(a,t+1))){c.push(a[t]);var v=m=Number.MAX_VALUE;for(var w=0;w<a.length;++w){if(0<Rb(x(a,t-1),x(a,t),x(a,w))&&0>=Rb(x(a,t-1),x(a,t),x(a,w-1))&&(l=ac(x(a,t-1),x(a,t),x(a,w),x(a,w-1)),0>Rb(x(a,t+1),x(a,t),
l))){var A=Ub(a[t],l);A<m&&(m=A,k=l,p=w)}0<Rb(x(a,t+1),x(a,t),x(a,w+1))&&0>=Rb(x(a,t+1),x(a,t),x(a,w))&&(l=ac(x(a,t+1),x(a,t),x(a,w),x(a,w+1)),0<Rb(x(a,t-1),x(a,t),l)&&(A=Ub(a[t],l),A<v&&(v=A,h=l,n=w)))}if(p===(n+1)%a.length)l[0]=(k[0]+h[0])/2,l[1]=(k[1]+h[1])/2,d.push(l),t<n?(Vb(u,a,t,n+1),u.push(l),r.push(l),0!==p&&Vb(r,a,p,a.length),Vb(r,a,0,t+1)):(0!==t&&Vb(u,a,t,a.length),Vb(u,a,0,n+1),u.push(l),r.push(l),Vb(r,a,p,t+1));else{p>n&&(n+=a.length);h=Number.MAX_VALUE;if(n<p)return b;for(w=p;w<=n;++w)if(0<=
Rb(x(a,t-1),x(a,t),x(a,w))&&0>=Rb(x(a,t+1),x(a,t),x(a,w))){A=Ub(x(a,t),x(a,w));if(p=A<h)a:{for(p=0;p!==a.length;++p)if(p!==t&&p!==w&&(p+1)%a.length!==t&&(p+1)%a.length!==w&&Qb(x(a,t),x(a,w),x(a,p),x(a,p+1))){p=!1;break a}p=!0}p&&(h=A,q=w%a.length)}t<q?(Vb(u,a,t,q+1),0!==q&&Vb(r,a,q,a.length),Vb(r,a,0,t+1)):(0!==t&&Vb(u,a,t,a.length),Vb(u,a,0,q+1),Vb(r,a,q,t+1))}u.length<r.length?(bc(u,b,c,d,e,f,g),bc(r,b,c,d,e,f,g)):(bc(r,b,c,d,e,f,g),bc(u,b,c,d,e,f,g));return b}b.push(a);return b}
self.via={Aga:function(a){var b=Zb(a);return 0<b.length?$b(a,b):[a]},Cia:bc,xha:function(a){var b;for(b=0;b<a.length-1;b++)for(var c=0;c<b-1;c++)if(Qb(a[b],a[b+1],a[c],a[c+1]))return!1;for(b=1;b<a.length-2;b++)if(Qb(a[0],a[a.length-1],a[b],a[b+1]))return!1;return!0},Gia:function(a,b){for(var c=0,d=a.length-1;3<a.length&&0<=d;--d){var e=x(a,d-1);var f=x(a,d),g=x(a,d+1),h=b;h?(Sb[0]=f[0]-e[0],Sb[1]=f[1]-e[1],Tb[0]=g[0]-f[0],Tb[1]=g[1]-f[1],e=Math.acos((Sb[0]*Tb[0]+Sb[1]*Tb[1])/(Math.sqrt(Sb[0]*Sb[0]+
Sb[1]*Sb[1])*Math.sqrt(Tb[0]*Tb[0]+Tb[1]*Tb[1])))<h):e=0===Rb(e,f,g);e&&(a.splice(d%a.length,1),c++)}return c},Hia:function(a,b){for(var c=a.length-1;1<=c;--c)for(var d=a[c],e=c-1;0<=e;--e){var f=d,g=a[e];Math.abs(f[0]-g[0])<=(b||0)&&Math.abs(f[1]-g[1])<=(b||0)&&a.splice(c,1)}},Xha:function(a){for(var b=0,c=1;c<a.length;++c)if(a[c][1]<a[b][1]||a[c][1]===a[b][1]&&a[c][0]>a[b][0])b=c;if(0<Rb(x(a,b-1),x(a,b),x(a,b+1)))return!1;b=[];c=a.length;for(var d=0;d!==c;d++)b.push(a.pop());for(d=0;d!==c;d++)a[d]=
b[d];return!0}};"use strict";const cc=Symbol("Construct internal API token");let dc=14;function ec(){if(0>=dc)throw Error("cannot obtain internal API token");--dc;return cc}const fc=self.B=class{constructor(){throw TypeError("static class can't be instantiated");}};fc.MA=!1;fc.gN=!1;fc.hardwareConcurrency=navigator.hardwareConcurrency||2;self.bf={};"use strict";const gc=self.B;
gc.KP=class{constructor(a){this.L2=a;this.Ca=new Map;a=this.L2;if(a.startsWith("?")||a.startsWith("#"))a=a.substr(1);a=a.split("&");for(const c of a)if(c)if(c.includes("=")){var b=c.indexOf("=");a=decodeURIComponent(c.substring(0,b));b=decodeURIComponent(c.substring(b+1));this.Ca.set(a,b)}else this.Ca.set(c,null)}Xw(a){return this.Ca.has(a)}T(a){a=this.Ca.get(a);return"undefined"===typeof a?null:a}};gc.fC=new gc.KP(location.search);gc.q$=new gc.KP(location.hash);gc.fC.Xw("perf")&&(gc.iN=!0);gc.fC.T("mode");
"use strict";const y=self.B;y.W={Vd:"(unknown)",It:"(unknown)",Za:"(unknown)",lh:"(unknown)",eO:NaN,Eg:"(unknown)",Om:"browser",jH:!0,Qq:!1,iY:!1,rY:!1,gX:async()=>{}};const hc=new Map([[5,"2000"],[5.1,"XP"],[5.2,"XP"],[6,"Vista"],[6.1,"7"],[6.2,"8"],[6.3,"8.1"],[10,"10"]]);function ic(a){const b=parseFloat(a),c=hc.get(b);return c?c:13<=b?"11":"NT "+a}const jc=navigator.userAgent,kc=navigator.userAgentData;
if(kc&&0<kc.brands.length){y.W.Vd=kc.platform;y.W.Qq=kc.mobile;y.W.jH=!y.W.Qq;const a=new Map([["Google Chrome","Chrome"],["Microsoft Edge","Edge"],["Opera","Opera"],["Opera GX","Opera GX"],["Mozilla Firefox","Firefox"],["Apple Safari","Safari"],["NW.js","NW.js"]]),b=new Map([["Chromium","Chromium"],["Gecko","Gecko"],["WebKit","WebKit"]]);function c(e){let f="",g="",h="",k="";for(const l of e)e=a.get(l.brand),!f&&e&&(f=e,g=l.version),e=b.get(l.brand),!h&&e&&(h=e,k=l.version);f||"Chromium"!==h||(y.W.Za=
"Chromium",y.W.lh=k);y.W.Za=f||"(unknown)";y.W.lh=g||"(unknown)";y.W.Eg=h||"(unknown)"}c(kc.brands);let d=!1;y.W.gX=async()=>{if(!d)try{const e=await navigator.userAgentData.getHighEntropyValues(["platformVersion","fullVersionList"]);c(e.fullVersionList);y.W.It="Windows"===y.W.Vd?ic(e.platformVersion):e.platformVersion;d=!0}catch(e){console.warn("Failed to get detailed user agent information: ",e)}}}else{function a(l,m){l=Array.isArray(l)?l:[l];for(const n of l)if(l=n.exec(jc)){m(l);break}}a(/windows\s+nt\s+([\d\.]+)/i,
l=>{y.W.Vd="Windows";y.W.It=ic(l[1])});a(/mac\s+os\s+x\s+([\d\._]+)/i,l=>{y.W.Vd="macOS";y.W.It=l[1].replace(/_/g,".")});a(/CrOS/,()=>{y.W.Vd="Chrome OS"});a(/linux|openbsd|freebsd|netbsd/i,()=>{y.W.Vd="Linux"});a(/android/i,()=>{y.W.Vd="Android"});a(/android\s+([\d\.]+)/i,l=>{y.W.Vd="Android";y.W.It=l[1]});"(unknown)"===y.W.Vd&&(a(/(iphone|ipod|ipad)/i,()=>{y.W.Vd="iOS"}),a([/iphone\s+os\s+([\d\._]+)/i,/ipad[^)]*os\s+([\d\._]+)/i],l=>{y.W.Vd="iOS";y.W.It=l[1].replace(/_/g,".")}));const b=/chrome\//i.test(jc),
c=/chromium\//i.test(jc),d=/edg\//i.test(jc),e=/OPR\//.test(jc),f=/nwjs/i.test(jc),g=/safari\//i.test(jc),h=/webkit/i.test(jc);d||e||a(/chrome\/([\d\.]+)/i,l=>{y.W.Za="Chrome";y.W.lh=l[1];y.W.Eg="Chromium"});a(/edg\/([\d\.]+)/i,l=>{y.W.Za="Edge";y.W.lh=l[1];y.W.Eg="Chromium"});a(/OPR\/([\d\.]+)/,l=>{y.W.Za="Opera";y.W.lh=l[1];y.W.Eg="Chromium"});a(/chromium\/([\d\.]+)/i,l=>{y.W.Za="Chromium";y.W.lh=l[1];y.W.Eg="Chromium"});a(/nwjs\/[0-9.]+/i,l=>{y.W.Za="NW.js";y.W.lh=l[1];y.W.Eg="Chromium";y.W.Om=
"nwjs"});a(/firefox\/([\d\.]+)/i,l=>{y.W.Za="Firefox";y.W.lh=l[1];y.W.Eg="Gecko"});!g||b||c||d||e||f||(y.W.Za="Safari",y.W.Eg="WebKit",a(/version\/([\d\.]+)/i,l=>{y.W.lh=l[1]}),a(/crios\/([\d\.]+)/i,l=>{y.W.Za="Chrome for iOS";y.W.lh=l[1]}),a(/fxios\/([\d\.]+)/i,l=>{y.W.Za="Firefox for iOS";y.W.lh=l[1]}),a(/edgios\/([\d\.]+)/i,l=>{y.W.Za="Edge for iOS";y.W.lh=l[1]}));"(unknown)"===y.W.Eg&&h&&(y.W.Eg="WebKit");"Android"===y.W.Vd&&"Safari"===y.W.Za&&(y.W.Za="Stock");const k=(new Set(["Windows","macOS",
"Linux","Chrome OS"])).has(y.W.Vd)||"nwjs"===y.W.Om;y.W.jH=k;y.W.Qq=!k}"Chrome"===y.W.Za&&"browser"===y.W.Om&&/wv\)/.test(jc)&&(y.W.Om="webview");"nwjs"!==y.W.Om&&"undefined"!==typeof window&&(window.matchMedia&&window.matchMedia("(display-mode: standalone)").matches||navigator.standalone)&&(y.W.Om="webapp");y.W.eO=parseFloat(y.W.lh);"macOS"===y.W.Vd&&navigator.maxTouchPoints&&2<navigator.maxTouchPoints&&(y.W.Vd="iOS",y.W.It=y.W.lh,y.W.jH=!1,y.W.Qq=!0,y.W.rY=!0);y.W.iY="macOS"===y.W.Vd||"iOS"===y.W.Vd;
"use strict";const lc=new Map,mc="undefined"!==typeof IDBObjectStore&&"function"===typeof IDBObjectStore.prototype.getAll,nc="undefined"!==typeof IDBObjectStore&&"function"===typeof IDBObjectStore.prototype.getAllKeys;function oc(a){return new Promise((b,c)=>{a.onsuccess=()=>b(a.result);a.onerror=()=>c(a.error)})}function pc(a){return new Promise((b,c)=>{a.oncomplete=()=>b();a.onerror=()=>c(a.error);a.onabort=()=>c(a.error)})}function qc(a,b){return rc(a,b)}function sc(a,b){return rc(a,b,!0)}
async function rc(a,b,c=!1,d=!0){const e=await tc(a);try{const f=e.transaction(["keyvaluepairs"],c?"readwrite":"readonly");return b(f)}catch(f){if(d&&"InvalidStateError"===f.name)return lc.delete(a),rc(a,b,c,!1);throw f;}}function tc(a){uc(a);let b=lc.get(a);b instanceof Promise||(b=vc(a),lc.set(a,b),b.catch(()=>lc.delete(a)));return b}
async function vc(a){uc(a);const b=indexedDB.open(a,2);b.addEventListener("upgradeneeded",c=>{try{c.target.result.createObjectStore("keyvaluepairs")}catch(d){console.error(`Failed to create objectstore for database ${a}`,d)}});return oc(b)}function uc(a){if("string"!==typeof a)throw new TypeError("expected string");}
function wc(a,b){const c=a.objectStore("keyvaluepairs").openCursor();return new Promise(d=>{const e=[];c.onsuccess=f=>{if(f=f.target.result){switch(b){case "entries":e.push([f.key,f.value]);break;case "keys":e.push(f.key);break;case "values":e.push(f.value)}f.continue()}else d(e)}})}
class xc{constructor(a){uc(a);this.name=a}async ready(){await tc(this.name)}set(a,b){uc(a);return sc(this.name,async c=>{var d=c.objectStore("keyvaluepairs").put(b,a);d=oc(d);c=pc(c);await Promise.all([c,d])})}get(a){uc(a);return qc(this.name,async b=>{var c=b.objectStore("keyvaluepairs").get(a);c=oc(c);b=pc(b);[,b]=await Promise.all([b,c]);return b})}delete(a){uc(a);return sc(this.name,async b=>{var c=b.objectStore("keyvaluepairs").delete(a);c=oc(c);b=pc(b);await Promise.all([b,c])})}clear(){return sc(this.name,
async a=>{var b=a.objectStore("keyvaluepairs").clear();b=oc(b);a=pc(a);await Promise.all([a,b])})}keys(){return qc(this.name,async a=>{if(nc){var b=a.objectStore("keyvaluepairs").getAllKeys();b=oc(b)}else b=wc(a,"keys");a=pc(a);[,a]=await Promise.all([a,b]);return a})}values(){return qc(this.name,async a=>{if(mc){var b=a.objectStore("keyvaluepairs").getAll();b=oc(b)}else b=wc(a,"values");a=pc(a);[,a]=await Promise.all([a,b]);return a})}entries(){return qc(this.name,async a=>{var b=wc(a,"entries");
a=pc(a);[,b]=await Promise.all([a,b]);return b})}}self.zY=xc;"use strict";const yc=self.zY,zc=[/no available storage method found/i,/an attempt was made to break through the security policy of the user agent/i,/the user denied permission to access the database/i,/a mutation operation was attempted on a database that did not allow mutations/i,/idbfactory\.open\(\) called in an invalid security context/i],Ac=new WeakMap;let Bc=!1;"undefined"===typeof indexedDB&&(Bc=!0,console.warn("Unable to use local storage because indexedDB is not defined"));
function Cc(a){throw Error(`"${a}" is not implemented`);}function Dc(a){if("function"===typeof a)throw Error("localforage callback API is not implemented; please use the promise API instead");}function Ec(a){return"object"===typeof a?new Promise(b=>{const {port1:c,port2:d}=new MessageChannel;d.onmessage=e=>b(e.data);c.postMessage(a)}):Promise.resolve(a)}
function Fc(a){if(!Bc)for(const b of zc)if(a&&b.test(a.message)){console.error("Unable to use local storage, reverting to in-memory store: ",a,a.message);Bc=!0;break}}async function Gc(a,b){a=Ac.get(a).get(b);a=await Ec(a);return"undefined"===typeof a?null:a}async function Hc(a,b,c){c=await Ec(c);Ac.get(a).set(b,c)}
class Ic{constructor(a){this.ia=a;Ac.set(this,new Map)}async getItem(a,b){Dc(b);if(Bc)return await Gc(this,a);let c;try{c=await this.ia.get(a)}catch(d){Fc(d);if(Bc)return await Gc(this,a);console.error(`Error reading '${a}' from storage, returning null: `,d);return null}return"undefined"===typeof c?null:c}async setItem(a,b,c){Dc(c);"undefined"===typeof b&&(b=null);if(Bc)await Hc(this,a,b);else try{await this.ia.set(a,b)}catch(d){if(Fc(d),Bc)await Hc(this,a,b);else throw d;}}async removeItem(a,b){Dc(b);
if(Bc)Ac.get(this).delete(a);else try{await this.ia.delete(a)}catch(c){Fc(c),Bc?Ac.get(this).delete(a):console.error(`Error removing '${a}' from storage: `,c)}}async clear(a){Dc(a);if(Bc)Ac.get(this).clear();else try{await this.ia.clear()}catch(b){Fc(b),Bc?Ac.get(this).clear():console.error("Error clearing storage: ",b)}}async keys(a){Dc(a);if(Bc)return Array.from(Ac.get(this).keys());a=[];try{a=await this.ia.keys()}catch(b){Fc(b);if(Bc)return Array.from(Ac.get(this).keys());console.error("Error getting storage keys: ",
b)}return a}ready(a){Dc(a);return Bc?Promise.resolve(!0):this.ia.ready()}SM(a){if("object"!==typeof a)throw new TypeError("invalid options object");a=a.name;if("string"!==typeof a)throw new TypeError("invalid store name");a=new yc(a);return new Ic(a)}length(){Cc("localforage.length()")}key(){Cc("localforage.key()")}iterate(){Cc("localforage.iterate()")}config(){Cc("localforage.config()")}supports(){Cc("localforage.supports()")}dropInstance(){Cc("localforage.dropInstance()")}}self.localforage=new Ic(new yc("localforage"));
"use strict";const Jc=self.B;Jc.qb={};Jc.qb.Nfa=(()=>{try{if("undefined"===typeof document)return!1;const a=document.createElement("div");return"undefined"===typeof a.animate?!1:"undefined"!==typeof a.animate([{opacity:"0"},{opacity:"1"}],1E3).reverse}catch(a){return!1}})();Jc.qb.s7="undefined"!==typeof HTMLDialogElement;Jc.qb.xba=!!self.requestIdleCallback;Jc.qb.ImageBitmap=!!self.createImageBitmap;Jc.qb.ImageBitmapOptions=!1;Jc.qb.TB=!1;
if(Jc.qb.ImageBitmap){try{self.createImageBitmap(new ImageData(32,32),{premultiplyAlpha:"none"}).then(()=>{Jc.qb.ImageBitmapOptions=!0}).catch(()=>{Jc.qb.ImageBitmapOptions=!1})}catch(a){Jc.qb.ImageBitmapOptions=!1}try{self.createImageBitmap(new ImageData(32,32),{resizeWidth:10,resizeHeight:10}).then(a=>{Jc.qb.TB=10===a.width&&10===a.height}).catch(()=>{Jc.qb.TB=!1})}catch(a){Jc.qb.TB=!1}}Jc.qb.v6=!(!navigator.clipboard||!navigator.clipboard.readText);Jc.qb.$Z=!(!navigator.permissions||!navigator.permissions.query);
Jc.qb.hO=!1;Jc.qb.$Z&&navigator.permissions.query({name:"clipboard-read"}).then(()=>{Jc.qb.hO=!0}).catch(()=>{Jc.qb.hO=!1});Jc.qb.D5=!!(navigator.permissions&&navigator.clipboard&&self.ClipboardItem);Jc.qb.JP="undefined"!==typeof Proxy;Jc.qb.w7="undefined"===typeof document?!1:"undefined"!==typeof document.createElement("a").download;Jc.qb.I7="function"===typeof fetch;Jc.qb.waa=!!(self.isSecureContext&&"Opera"!==Jc.W.Za&&navigator.storage&&navigator.storage.persist);
Jc.qb.tea=!!(self.isSecureContext&&navigator.storage&&navigator.storage.estimate);var Kc;if("undefined"===typeof document||"iOS"===Jc.W.Vd)Kc=!1;else{var Lc=document.documentElement;Kc=!!(Lc.requestFullscreen||Lc.msRequestFullscreen||Lc.mozRequestFullScreen||Lc.webkitRequestFullscreen)}Jc.qb.X7=Kc;Jc.qb.S8="undefined"!==typeof self.ImageDecoder;Jc.qb.Ofa=!!self.VideoEncoder;Jc.qb.F$=!!self.showOpenFilePicker;Jc.qb.fba=!!self.queryLocalFonts;Jc.qb.UserActivation=!!navigator.userActivation;
Jc.qb.gO=!1;(async()=>{let a;"undefined"===typeof document?a=new OffscreenCanvas(32,32):(a=document.createElement("canvas"),a.width=32,a.height=32);var b=a.getContext("2d");b.fillStyle="blue";b.fillRect(0,0,32,32);b=null;try{a.convertToBlob?b=await a.convertToBlob({type:"image/webp",quality:1}):a.toBlob&&(b=await new Promise(c=>a.toBlob(c,"image/webp",1))),Jc.qb.gO=b&&"image/webp"===b.type}catch(c){Jc.qb.gO=!1}})();"use strict";const Mc=self.B;
if(!String.prototype.trimStart){const a=/^[\x09\x0A\x0B\x0C\x0D\x20\xA0\u1680\u180E\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u202F\u205F\u3000\u2028\u2029\uFEFF]*/;String.prototype.trimStart=function(){return this.replace(a,"")}}if(!String.prototype.trimEnd){const a=/[\x09\x0A\x0B\x0C\x0D\x20\xA0\u1680\u180E\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u202F\u205F\u3000\u2028\u2029\uFEFF]*$/;String.prototype.trimEnd=function(){return this.replace(a,"")}}
String.prototype.replaceAll||(String.prototype.replaceAll=function(a,b){return this.replace(new RegExp(Mc.ww(a),"g"),b)});Array.prototype.values||(Array.prototype.values=function*(){for(const a of this)yield a});if(!Array.prototype.flat){function a(b,c){return b.reduce((d,e)=>{0<c&&Array.isArray(e)?Array.prototype.push.apply(d,a(e,c-1)):d.push(e);return d},[])}Array.prototype.flat=function(b=1){return a(this,b)}}
Array.prototype.at||(Array.prototype.at=function(a){a=Math.trunc(a)||0;0>a&&(a+=this.length);if(!(0>a||a>=this.length))return this[a]});String.prototype.at||(String.prototype.at=function(a){a=Math.trunc(a)||0;0>a&&(a+=this.length);if(!(0>a||a>=this.length))return this[a]});RegExp.escape||(RegExp.escape=function(a){return String(a).replace(/[\\^$*+?.()|[\]{}]/g,"\\$&")});
Set.prototype.nN||(Set.prototype.nN=function(a){if(!(a instanceof Set))throw new TypeError("argument must be a Set");for(const b of this)if(!a.has(b))return!1;return!0});navigator.storage&&!navigator.storage.estimate&&navigator.webkitTemporaryStorage&&navigator.webkitTemporaryStorage.queryUsageAndQuota&&(navigator.storage.estimate=function(){return new Promise((a,b)=>navigator.webkitTemporaryStorage.queryUsageAndQuota((c,d)=>a({usage:c,quota:d}),b))});
"undefined"===typeof self.isSecureContext&&(self.isSecureContext="https:"===location.protocol);"undefined"===typeof self.globalThis&&(self.globalThis=self);"use strict";const Oc=self.B;self.assert=function(a,b){a||console.error("Assertion failure: "+b+"\n\nStack trace:\n"+Oc.yB())};"use strict";const z=self.B,Pc=self.bf;z.No=function(a){return"number"===typeof a};z.tc=function(a){return z.No(a)&&isFinite(a)};z.th=function(a){if(!z.No(a))throw new TypeError("expected number");};z.SP=function(){};
z.Tba=function(a,b,c){if(!z.No(a)||isNaN(a)||b>a||c<a)throw new RangeError("number outside of range");};z.Fba=function(...a){for(let b of a);};z.gf=function(a){if(!z.tc(a))throw new TypeError("expected finite number");};z.PP=function(){};z.Cba=function(...a){for(let b of a);};z.dj=function(a){return"string"===typeof a};z.zd=function(a){if(!z.dj(a))throw new TypeError("expected string");};z.UP=function(){};z.Hba=function(...a){for(let b of a);};
z.cP=function(a){return"object"!==typeof a||null===a?!1:(a=Object.getPrototypeOf(a))?a.constructor===Object:null===a};z.gca=function(a){if(!z.cP(a))throw new TypeError("expected simple object");};z.dca=function(a){if(!z.ff(a)&&!z.cP(a))throw new TypeError("expected simple object");};z.bP=function(a){return"object"===typeof a&&null!==a&&!Array.isArray(a)};z.NP=function(a){if(!z.bP(a))throw new TypeError("expected object");};z.TP=function(){};z.Gba=function(...a){for(let b of a);};
z.kH=function(a){return z.$H(a,Blob)&&"string"===typeof a.name};z.Rba=function(a){if(!z.kH(a))throw new TypeError("expected file");};z.bca=function(){};z.Zm=function(a){return Array.isArray(a)};z.iC=function(a){if(!z.Zm(a))throw new TypeError("expected array");};z.OP=function(){};z.Bba=function(...a){for(let b of a);};z.hY=function(a){return z.Zm(a)?a.length?z.Zm(a[0])?!0:!1:!0:!1};
z.Aba=function(a){if(!z.hY(a))throw new TypeError("expected 2d array");for(let b of a)if(!z.Zm(b))throw new TypeError("expected 2d array");};z.Uba=function(){};z.lH=function(a){return"function"===typeof a};z.Ml=function(a,b){if(!z.lH(a))throw new TypeError("expected function");if(!z.ff(b)&&a!==b)throw new TypeError("expected same function reference");};z.QP=function(){};z.Dba=function(...a){for(let b of a);};
z.Jba=function(a,...b){if(!z.lH(a))throw new TypeError("expected function");if(!b.length)throw Error("missing comparison functions");for(let c of b)if(!z.ff(c)&&a===c)return;throw new TypeError("expected same function reference");};z.Vba=function(...a){if(!z.ff(a))for(let b of a);};z.Oq=function(a,b){return a instanceof b};z.aP=function(a,...b){for(let c of b)if(z.Oq(a,c))return!0;return!1};z.jC=function(a,b){if(!z.Oq(a,b))throw new TypeError("unexpected type");};z.RP=function(){};
z.Eba=function(a,...b){for(let c of b);};z.Kba=function(a,...b){if(!z.aP(a,...b))throw new TypeError("unexpected type");};z.Lba=function(a,...b){if(!z.ff(a)&&!z.aP(a,...b))throw new TypeError("unexpected type");};z.j9=function(a,b){for(let c of a)if(!z.Oq(c,b))return!1;return!0};z.k9=function(a){for(let b of a)if(!z.tc(b))return!1;return!0};z.Mba=function(a){for(let b of a);};z.Wba=function(a){if(!z.ff(a))for(let b of a);};z.Yba=function(a){if(!z.ff(a))for(let b of a);};
z.Nba=function(a){for(let b of a);};z.Xba=function(a){if(!z.ff(a))for(let b of a);};z.n9=function(a,b){return z.ff(a)||!z.dj(a.nodeName)?!1:!b||z.vd(a.nodeName,b)};z.Oba=function(a,b){if(z.ff(a)||!z.dj(a.nodeName))throw new TypeError("expected DOM node");if(b&&!z.vd(a.nodeName,b))throw new TypeError(`expected DOM '${b}' node`);};z.Zba=function(){};z.mH=function(a,b){return z.ff(a)||!z.dj(a.tagName)?!1:!b||z.vd(a.tagName,b)};
z.Sba=function(a,b){if(z.ff(a)||!z.dj(a.tagName))throw new TypeError("expected HTML element");if(b&&!z.vd(a.tagName,b))throw new TypeError(`expected HTML '${b}' element`);};z.cca=function(){};z.ZO=function(a){return z.mH(a,"img")||z.mH(a,"canvas")||z.mH(a,"video")||"undefined"!==typeof OffscreenCanvas&&a instanceof OffscreenCanvas||"undefined"!==typeof ImageBitmap&&a instanceof ImageBitmap};z.Pba=function(a){if(!z.ZO(a))throw new TypeError("expected drawable");};z.$ba=function(){};
z.$O=function(a){return a instanceof ImageData?!0:z.ZO(a)};z.Qba=function(a){if(!z.$O(a))throw new TypeError("expected drawable or image data");};z.aca=function(a){if(!z.ff(a)&&!z.$O(a))throw new TypeError("expected drawable or image data");};z.vY=function(a){return"string"===typeof a||z.PB&&a instanceof z.PB||a instanceof z.Nm};z.hca=function(a){if(!z.vY(a))throw new TypeError("expected string-like");};z.eca=function(){};z.Iba=function(...a){for(let b of a);};
z.fca=function(){throw Error("must be overridden");};z.H$=function(){throw Error("not yet implemented");};z.p9=function(a,...b){if("undefined"===typeof a)return!1;for(let c of b){if("undefined"===typeof a[c])return!1;a=a[c]}return!0};z.ff=function(a){return"undefined"===typeof a||null===a};z.z5=function(a){let b=a[0].constructor;for(let c of a)if(c.constructor!==b)return!1;return b};z.A5=function(a,b){for(let c of a)if(!(c instanceof b))return!1;return!0};const Qc=Object.getPrototypeOf(Uint8Array);
z.O9=function(a){return z.Oq(a,Qc)};z.ica=function(){};z.Mfa=function(a){z.vQ(a,Qc)};z.Lfa=function(a,...b){if(!z.w0(a,...b))throw new TypeError("unexpected type");};z.w0=function(a,...b){for(const c of b)if(z.$H(a,c))return!0;return!1};z.vQ=function(a,b){if(!z.$H(a,b))throw new TypeError("unexpected type");};z.$H=function(a,b){for(;a=Object.getPrototypeOf(a);)if(a.constructor.name===b.name)return!0;return!1};Pc.th=z.th;Pc.SP=z.SP;Pc.gf=z.gf;Pc.PP=z.PP;Pc.zd=z.zd;Pc.UP=z.UP;Pc.NP=z.NP;Pc.TP=z.TP;
Pc.iC=z.iC;Pc.OP=z.OP;Pc.Ml=z.Ml;Pc.QP=z.QP;Pc.jC=z.jC;Pc.RP=z.RP;Pc.ff=z.ff;"use strict";const C=self.B,Rc=new Map;C.x6=function(a,b){console.log(`%c${a}`,`font-weight: bold; color:${b}`)};C.iba=function(a,...b){Rc.has(a)||Rc.set(a,-1);-1===Rc.get(a)&&Rc.set(a,requestAnimationFrame(()=>{console.log(`%c${a}`,"font-weight: bold",...b);Rc.set(a,-1)}))};let Sc;C.qea=function(a){performance.mark(a);Sc||(Sc=new Map);Sc.has(a)||Sc.set(a,{current:0,total:0,lU:0,NM:1,toString:function(){return`${a} :: current => ${this.current.toPrecision(3)} :: average => ${this.lU.toPrecision(3)} :: calls => ${this.NM}`}})};
C.y7=function(a){performance.measure(`measure-${a}`,a);const b=performance.getEntriesByName(`measure-${a}`)[0],c=Sc.get(a);c.current=b.duration;c.total+=c.current;c.lU=c.total/c.NM;console.log(c.toString());c.NM++;performance.clearMarks(a);performance.clearMeasures(`measure-${a}`)};C.yB=function(){return Error().stack};C.o7=function(){debugger};C.nga=function(a,b){return a&&a instanceof b?a:null};
C.Mm=function(a){return"undefined"===typeof a?"undefined":null===a?"null":"boolean"===typeof a?"<boolean>":C.No(a)?"<number>":C.dj(a)?"<string>":C.Zm(a)?"<array>":"symbol"===typeof a?"<"+a.toString()+">":C.lH(a)?a.name&&"Function"!==a.name?a.name:"<anonymous function>":"object"===typeof a?a.constructor&&a.constructor.name&&"Object"!==a.constructor.name?a.constructor.name:"<anonymous object>":"<unknown>"};C.getType=function(a){return null===a?"null":Array.isArray(a)?"array":typeof a};
C.range=function*(a,b){if(!isFinite(Math.abs(a-b)))throw Error("Invalid parameters");if(a>b)for(--a;a>=b;a--)yield a;else for(;a<b;a++)yield a};let Tc=new Map,Uc=new Map,Vc=new WeakMap,Wc=new WeakMap;C.ot={};const Xc=new Set(["then","splice"]);function Yc(a){console.warn("[Defence] "+a+" @",C.yB())}
C.ot.get=function(a,b){b in a||"symbol"===typeof b||Xc.has(b)||Yc(`Accessed missing property '${b}' from defended object '${C.Mm(a)}', returning undefined`);Wc.has(a)&&"symbol"!==typeof b&&!Xc.has(b)&&Yc(`Accessed property '${b}' on a released object '${C.Mm(a)}'\nObject was originally released at: ${Wc.get(a)})\nCall stack at access: `);return a[b]};
C.ot.set=function(a,b,c){b in a||Tc.has(a)||Yc(`Set non-existent property '${b}' to '${c}' on defended object '${C.Mm(a)}'`);let d=C.getType(a[b]),e=C.getType(c);"null"===d||"null"===e||("undefined"===d||"undefined"===e?0:d===e)||Tc.has(a)||Yc(`Set '${C.getType(a[b])}' property '${b}' to type '${C.getType(c)}' on defended object '${C.Mm(a)}'`);Wc.has(a)&&Yc(`Set property '${b}' on a released object '${C.Mm(a)}'\nObject was originally released at: ${Wc.get(a)})\nCall stack at access: `);a[b]=c;return!0};
C.ot.deleteProperty=function(a,b){throw new ReferenceError(`Cannot delete property '${b}' from defended object '${C.Mm(a)}'`);};C.ot.defineProperty=function(a,b){throw new ReferenceError(`Cannot define property '${b}' on defended object '${C.Mm(a)}'`);};C.ot.Kga=function(a){throw new ReferenceError(`Cannot enumerate defended object '${C.Mm(a)}'`);};let Zc=-1;
function $c(){Zc=-1;if(0<Tc.size||0<Uc.size){let a=[...(new Set([...Tc.keys()].map(b=>C.Mm(b))))].join();console.warn(`An object derived from DefendedBase was not protected with debugDefend(). This will disable some checks. See the coding guidelines! Possible affected class names: ${a}`);Tc.clear();Uc.clear()}}
C.ta=class{constructor(){if(C.gN&&C.qb.JP){var a=new.target;a=Object.create(a.prototype);var b=new Proxy(a,C.ot);Tc.set(a,b);Uc.set(b,a);Vc.set(b,a);-1===Zc&&(Zc=requestAnimationFrame($c));return b}}};C.y3=function(a){if(C.gN&&C.qb.JP&&a instanceof C.ta){if(!Uc.has(a))return a;let b=Uc.get(a);Uc.delete(a);Tc.delete(b);return a}return C.MA?Object.seal(a):a};
C.A=function(a,...b){let c;try{c=new a(...b)}catch(f){throw Uc.clear(),Tc.clear(),f;}if(C.gN){b=c;var d=new Set;for(e in b)d.add(e);var e=d;if(b=ad.get(a)){d=[];for(let f of b.values())e.has(f)?e.delete(f):d.push(f);C.wo(d,[...e]);d.length&&console.warn(`[Defence] '${C.Mm(a)}' constructor creates inconsistent properties: ${d.join(", ")}`)}else ad.set(a,e)}return C.y3(c)};C.m=function(a){(a=Vc.get(a))&&Wc.set(a,C.yB())};C.kn=function(){let a=Vc.get(void 0);return a?!!Wc.get(a):!1};let ad=new Map;
C.uaa=class{constructor(a){this.Ka="";a&&this.start(a)}start(a){C.iN&&(this.Ka=a,performance.mark(this.Ka+"-Start"))}end(){C.iN&&(performance.mark(this.Ka+"-End"),performance.measure(this.Ka,this.Ka+"-Start",this.Ka+"-End"))}next(a){C.iN&&(this.end(),this.Ka=a,performance.mark(this.Ka+"-Start"))}};"use strict";const D=self.B,bd=2*Math.PI,cd=Math.PI/180,dd=180/Math.PI;
D.wrap=function(a,b,c){a=Math.floor(a);b=Math.floor(b);c=Math.floor(c);const d=c-b;return 0===d?c:a<b?(a=c-(b-a)%d,a===c?0:a):b+(a-b)%d};D.u4=function(a,b,c,d){c-=b;return 0===c?a:(a-b)*(d-0)/c};D.normalize=function(a,b,c){return 0===b-c?1:(a-b)/(c-b)};D.X=function(a,b,c){return a<b?b:a>c?c:a};D.le=function(a){a%=bd;0>a&&(a+=bd);return a};D.Vb=function(a){return a*cd};D.Wj=function(a){return a*dd};D.C3=function(a,b,c,d){return Math.hypot(c-a,d-b)};D.vU=function(a,b,c,d){a=c-a;b=d-b;return a*a+b*b};
D.MM=function(a,b,c,d){return Math.atan2(d-b,c-a)};D.Ys=function(a,b){if(a===b)return 0;a=Math.sin(a)*Math.sin(b)+Math.cos(a)*Math.cos(b);return 1<=a?0:-1>=a?Math.PI:Math.acos(a)};D.LM=function(a,b,c){let d=Math.sin(a),e=Math.cos(a),f=Math.sin(b),g=Math.cos(b);return Math.acos(d*f+e*g)>c?0<e*f-d*g?D.le(a+c):D.le(a-c):D.le(b)};D.Bg=function(a,b){return 0>=Math.cos(a)*Math.sin(b)-Math.sin(a)*Math.cos(b)};D.KM=function(a,b,c,d=0){let e=D.Ys(a,b);d*=bd;return D.Bg(b,a)?D.le(a+(e+d)*c):D.le(a-(e+d)*c)};
D.i3=function(a,b,c,d=0){const e=D.Ys(a,b);d*=bd;return D.Bg(b,a)?D.le(a+(e+d)*c):D.le(a+(bd-e+d)*c)};D.h3=function(a,b,c,d=0){const e=D.Ys(a,b);d*=bd;return D.Bg(b,a)?D.le(a-(-bd+e-d)*c):D.le(a-(e+d)*c)};D.jU=function(a,b){const c=D.Ys(a,b);return D.Bg(a,b)?D.le(b-c):D.le(b+c)};D.Af=function(a,b,c){return a+c*(b-a)};D.sG=function(a,b,c){return a===b?0:(c-a)/(b-a)};D.K4=function(a,b,c,d){return D.Af(0,d,D.sG(a,b,c))};D.lG=function(a,b,c,d){return D.Af(D.Af(a,b,d),D.Af(b,c,d),d)};
D.tU=function(a,b,c,d,e){return D.Af(D.lG(a,b,c,e),D.lG(b,c,d,e),e)};D.qU=function(a,b,c){return(a+b+(a-b)*Math.cos(c*Math.PI))/2};D.Tj=function(a){return 0<a&&0===(a-1&a)};D.bt=function(a){--a;for(let b=1;32>b;b<<=1)a|=a>>b;return a+1};D.Uia=function(a,b){return Math.round(a*b)/b};D.Rga=function(a,b){return Math.floor(a*b)/b};D.aV=function(a){var b=Math.max(Math.floor(6),0);b=Math.pow(10,b);return Math.round(a*b)/b};
D.qga=function(a){return Math.floor(a)!==a?a.toString().split(".")[1].length||0:0};D.toFixed=function(a,b){a=a.toFixed(b);for(b=a.length-1;0<=b&&"0"===a.charAt(b);--b);0<=b&&"."===a.charAt(b)&&--b;return 0>b?a:a.substr(0,b+1)};D.ZZ=function(a,b,c){return D.X(a,0,255)|D.X(b,0,255)<<8|D.X(c,0,255)<<16};
D.cC=function(a,b,c,d){a=D.X(Math.floor(1024*a),-8192,8191);b=D.X(Math.floor(1024*b),-8192,8191);c=D.X(Math.floor(1024*c),-8192,8191);d=D.X(Math.floor(1023*d),0,1023);0>a&&(a+=16384);0>b&&(b+=16384);0>c&&(c+=16384);return-(274877906944*a+16777216*b+1024*c+d)};D.GP=function(a,b,c){return D.cC(a,b,c,1)};D.VG=function(a){if(0<=a)return(a&255)/255;a=Math.floor(-a/274877906944);8191<a&&(a-=16384);return a/1024};
D.PG=function(a){if(0<=a)return((a&65280)>>8)/255;a=Math.floor(-a%274877906944/16777216);8191<a&&(a-=16384);return a/1024};D.LG=function(a){if(0<=a)return((a&16711680)>>16)/255;a=Math.floor(-a%16777216/1024);8191<a&&(a-=16384);return a/1024};D.YW=function(a){return 0===a&&0>1/a?0:0<=a?1:Math.floor(-a%1024)/1023};D.X3=function(a,b){a=Math.floor(a);for(b=Math.floor(b);0!==b;){let c=b;b=a%b;a=c}return a};const ed=[[3,2],[4,3],[5,4],[5,3],[6,5],[14,9],[16,9],[16,10],[21,9]];
D.fha=function(a,b){a=Math.floor(a);b=Math.floor(b);if(a===b)return[1,1];for(var c of ed){let d=a/c[0]*c[1];if(1>Math.abs(b-d))return c.slice(0);d=a/c[1]*c[0];if(1>Math.abs(b-d))return[c[1],c[0]]}c=D.X3(a,b);return[a/c,b/c]};
D.$ia=function(a,b,c,d,e,f,g,h){var k=Math.min(a,c),l=Math.max(e,g);if(Math.max(a,c)<Math.min(e,g)||k>l)return!1;k=Math.min(b,d);l=Math.max(f,h);if(Math.max(b,d)<Math.min(f,h)||k>l)return!1;k=e-a+g-c;l=f-b+h-d;a=c-a;b=d-b;e=g-e;f=h-f;h=Math.abs(b*e-f*a);return Math.abs(e*l-f*k)>h?!1:Math.abs(a*l-b*k)<=h};
D.Co=function(a,b,c,d,e,f,g,h,k,l,m,n){const p=Math.max(k,m);if(f<Math.min(k,m)||e>p)return!1;e=Math.max(l,n);if(h<Math.min(l,n)||g>e)return!1;g=k-a+m-c;h=l-b+n-d;a=c-a;b=d-b;k=m-k;l=n-l;n=Math.abs(b*k-l*a);return Math.abs(k*h-l*g)>n?!1:Math.abs(a*h-b*g)<=n};
D.oG=function(a,b,c,d,e){const f=Math.min(a,c),g=Math.max(a,c),h=Math.min(b,d),k=Math.max(b,d),l=e.Zb,m=e.$b,n=e.$c,p=e.ad,q=e.Uc,u=e.Vc,r=e.Sc;e=e.Tc;return D.Co(a,b,c,d,f,g,h,k,l,m,n,p)||D.Co(a,b,c,d,f,g,h,k,n,p,q,u)||D.Co(a,b,c,d,f,g,h,k,q,u,r,e)||D.Co(a,b,c,d,f,g,h,k,r,e,l,m)};
D.Zia=function(a,b,c,d,e){const f=Math.min(a,c),g=Math.max(a,c),h=Math.min(b,d),k=Math.max(b,d);let l=0;for(let m=e.length-4;l<=m;l+=2)if(D.Co(a,b,c,d,f,g,h,k,e[l],e[l+1],e[l+2],e[l+3]))return!0;return D.Co(a,b,c,d,f,g,h,k,e[l],e[l+1],e[0],e[1])};D.I4=function(a,b,c,d,e,f,g,h){c-=a;f=h-f;const k=c*f-(d-b)*(g-e);if(0===k)return 2;d=((b-d)*(g-a)+c*(h-b))/k;return 0<d&&1.000001>d?(f*(g-a)+(e-g)*(h-b))/k:2};D.VA=function(a,b,c,d,e,f,g,h,k){const l=(g-e)*k;k*=h-f;return D.I4(a,b,c,d,e-l,f-k,g+l,h+k)};
D.i4=function(a,b,c,d,e,f,g,h){e-=c;f-=d;g-=c;h-=d;a-=c;c=b-d;b=e*e+f*f;d=e*g+f*h;e=e*a+f*c;f=g*g+h*h;g=g*a+h*c;h=1/(b*f-d*d);f=(f*e-d*g)*h;e=(b*g-d*e)*h;return 0<=f&&0<=e&&1>=f+e};D.a5=function(a,b,c,d,e,f,g,h){e-=c;f-=d;g-=c;h-=d;a-=c;const k=b-d;b=e*e+f*f;d=e*g+f*h;c=g*g+h*h;e=a*e+k*f;f=a*g+k*h;g=b*c-d*d;h=(c*e-d*f)/g;e=(b*f-d*e)/g;return[1-h-e,h,e]};D.Z4=function(a,b,c,d,e,f,g,h,k,l,m,n){return[a*d+b*g+c*l,a*e+b*h+c*m,a*f+b*k+c*n]};"use strict";const E=self.B;let fd=null,gd="";
if("undefined"!==typeof document){fd=document;const a=document.querySelector("base");if(gd=a&&a.hasAttribute("href")?a.getAttribute("href"):"")gd.startsWith("/")&&(gd=gd.substr(1)),gd.endsWith("/")||(gd+="/")}E.e8=function(){return gd};E.f8=function(){if(!fd)return"";const a=fd.location;return E.sX(a.origin+a.pathname)+gd};E.sX=function(a){if(!a.length||a.endsWith("/")||a.endsWith("\\"))return a;const b=Math.max(a.lastIndexOf("/"),a.lastIndexOf("\\"));return-1===b?"":a.substr(0,b+1)};
E.k8=function(a){if(!a.length)return a;if(a.endsWith("/")||a.endsWith("\\"))return"";const b=Math.max(a.lastIndexOf("/"),a.lastIndexOf("\\"));return-1===b?a:a.substr(b+1)};E.lX=function(a){let b=a.lastIndexOf(".");return 1>b?"":a.substr(b)};E.ada=function(a,b){const c=a.lastIndexOf(".");return-1===c?a+"."+b:a.substr(0,c+1)+b};E.EB=function(a){let b=a.lastIndexOf(".");return 1>b?a:a.substr(0,b)};E.ZY=function(a){return a.replace(/\\/g,"/")};E.s9=function(a,b){return b===(a?E.lX(a).slice(1):"")};
E.L7=function(a,b){let c,d;E.kH(a)&&(c=E.EB(a.name));E.dj(a)&&(c=E.EB(a));E.kH(b)&&(d=E.EB(b.name));E.dj(b)&&(d=E.EB(b));return c===d};
E.qaa=function(a){a=E.ZY(a);let b=/^\w:\//.exec(a);b?(b=b[0],a=a.slice(3),"/"!==a[0]&&(a="/"+a)):b="";a=a.replace(/\/{2,}/g,"/");1<a.length&&"/"===a.slice(-1)&&(a=a.slice(0,-1));var c=a.lastIndexOf("/")+1;let d="",e=a,f="";0<c&&(d=a.slice(0,c),e=a.slice(c));a=e;c=e.lastIndexOf(".");0<c&&(f=e.slice(c),a=e.slice(0,-f.length));return{dir:d,ega:e,name:a,root:b,ext:f,cha:b+d+e}};E.ZH=function(a,b){return new Promise(c=>{self.setTimeout(c,a,b)})};
E.qja=function(a){try{a()}catch(b){E.MA&&console.warn("Swallowed exception: ",b)}};E.fia=function(){};E.vd=function(a,b){return"string"!==typeof a||"string"!==typeof b?!1:a===b||a.normalize().toLowerCase()===b.normalize().toLowerCase()};E.Lga=function(a,b){return"string"!==typeof a||"string"!==typeof b?!1:a===b?!0:a.normalize()===b.normalize()};
E.b5=function(a,b){var c=0;a[c++]=b[0];a[c++]=b[1];a[c++]=b[2];a[c++]=b[3];a[c++]=b[4];a[c++]=b[5];a[c++]=b[6];a[c++]=b[7];a[c++]=b[8];a[c++]=b[9];a[c++]=b[10];a[c++]=b[11];a[c++]=b[12];a[c++]=b[13];a[c++]=b[14];a[c]=b[15]};E.$e=function(a,b){a.length=b};E.H=function(a){a&&0!==a.length&&E.$e(a,0)};E.r3=function(a){if(a){for(let b=0;b<a.length;b++)E.$e(a[b],0);E.$e(a,0)}};E.IA=function(a,b,c){b|=0;var d=a.length;if(!(b<=d))for(;d<b;++d)a.push(c)};
E.WA=function(a,b,c){b|=0;const d=a.length;b<d?E.$e(a,b):b>d&&E.IA(a,b,c)};E.wd=function(a,b){E.H(a);E.wo(a,b)};E.wo=function(a,b){if(1E4>b.length)a.push(...b);else for(let c=0,d=b.length;c<d;++c)a.push(b[c])};E.m3=function(a,b){b=Math.floor(b);if(!(0>b||b>=a.length)){for(var c=a.length-1;b<c;++b)a[b]=a[b+1];E.$e(a,c)}};E.Km=function(a,b){b=a.indexOf(b);0<=b&&a.splice(b,1)};E.n3=function(a,b){let c=a.length;if(b.length!==c)return!1;for(let d=0;d<c;++d)if(a[d]!==b[d])return!1;return!0};
E.l3=function(a,b){let c=[],d=0;for(let e=0,f=a.length;e<f;++e){let g=a[e];b(g)?c.push(g):(a[d]=g,++d)}E.$e(a,d);return c};E.Yh=function(a,b){const c=a.length;let d=0;for(let e=0,f=a.length;e<f;++e){let g=a[e];b.has(g)||(a[d++]=g)}E.$e(a,d);return c-d};E.e4=function(a,b){return a!==Math.floor(a)?!1:0<=a&&a<b.length};E.Jja=function(a,b){if(!E.e4(a,b))throw new RangeError("array index out of bounds");};E.xo=function(a){return a.slice()};
E.z3=function(a,b){let c=[];for(let d of a)if(E.bP(d)){a=b(d);if(!a)throw Error("missing clone");if(a.constructor!==d.constructor)throw Error("object is not a clone");c.push(a)}else E.Zm(d)?c.push(E.z3(d,b)):c.push(d);return c};E.pga=function(a){let b=[];for(let c of a)b.push(c.slice());return b};E.TN=function(a){return a?a.split(" ").map(b=>b.trim()).filter(b=>!!b):[]};E.Pga=function(a,b,c){const d=new Set;for(const e of a.values())b(e)&&(c?d.add(c(e)):d.add(e));return d};
E.aia=function(a,b){return a.union?a.union(b):new Set([...a,...b])};E.bia=function(a,b){for(const c of b)a.add(c);return a};E.first=function(a){for(let b of a)return b;return null};E.xor=function(a,b){return!a!==!b};E.compare=function(a,b,c){switch(b){case 0:return a===c;case 1:return a!==c;case 2:return a<c;case 3:return a<=c;case 4:return a>c;case 5:return a>=c;default:return!1}};E.oha=function(a){for(let b in a)if(a.hasOwnProperty(b))return!0;return!1};
E.h_=function(a,b){return a.length?new Promise((c,d)=>{const e=[];let f=0,g=!1;for(let h=0,k=a.length;h<k;++h)e.push(void 0),a[h].then(l=>{g||(e[h]=l,++f,f===a.length?c(e):b(f,a.length))}).catch(l=>{g=!0;d(l)})}):Promise.resolve([])};let hd=[];E.o5=function(a){hd.push(a)};E.i8=function(){let a=0;for(let b of hd){let c=b();a+=c}return Math.floor(a)};let id=1;const jd=new Map,kd=new MessageChannel;kd.port2.onmessage=function(a){a=a.data;const b=jd.get(a);jd.delete(a);b&&b(performance.now())};
E.FH=function(a){const b=id++;jd.set(b,a);kd.port1.postMessage(b);return b};E.fW=function(a){jd.delete(a)};E.f_=E.FH;E.v0=function(){return new Promise(a=>E.f_(a))};const ld=new Set;E.zba=function(a){const b=self.requestAnimationFrame(async c=>{await E.v0();ld.has(b)&&(ld.delete(b),a(c))});ld.add(b);return b};E.b6=function(a){ld.has(a)&&(self.cancelAnimationFrame(a),ld.delete(a))};"use strict";const F=self.B;
F.hH=function(a){return/^(?:[a-z\-]+:)?\/\//.test(a)||"data:"===a.substr(0,5)||"blob:"===a.substr(0,5)};F.YB=function(a){return!F.hH(a)};F.g0=function(a){if(!a.ok)throw Error(`fetch '${a.url}' response returned ${a.status} ${a.statusText}`);};F.vB=function(a){return fetch(a,void 0).then(b=>{F.g0(b);return b})};F.zw=function(a){return F.vB(a).then(b=>b.text())};F.vO=function(a){return F.vB(a).then(b=>b.json())};F.Pm=function(a){return F.vB(a).then(b=>b.blob())};
F.yw=function(a){return F.vB(a).then(b=>b.arrayBuffer())};F.LW=function(a){return new Promise((b,c)=>{const d=new Image;d.onload=()=>b(d);d.onerror=e=>c(e);d.src=a})};F.$V=function(a){return"function"===typeof a.arrayBuffer?a.arrayBuffer():new Promise((b,c)=>{const d=new FileReader;d.onload=()=>b(d.result);d.onerror=()=>c(d.error);d.readAsArrayBuffer(a)})};
F.dO=function(a){return"function"===typeof a.text?a.text():new Promise((b,c)=>{const d=new FileReader;d.onload=()=>b(d.result);d.onerror=()=>c(d.error);d.readAsText(a)})};F.R5=function(a){return F.dO(a).then(b=>JSON.parse(b))};F.cO=async function(a){a=URL.createObjectURL(a);try{const b=await F.LW(a);URL.revokeObjectURL(a);a="";return b}finally{a&&URL.revokeObjectURL(a)}};
F.mh=function(a,b){if("undefined"!==typeof document&&"function"===typeof document.createElement){const c=document.createElement("canvas");c.width=a;c.height=b;return c}return new OffscreenCanvas(a,b)};F.gB=function(a,b,c){"number"!==typeof c&&(c=1);b=b||"image/png";c=F.X(c,0,1);if(a.convertToBlob)return a.convertToBlob({type:b,quality:c});if(a.toBlob)return new Promise(d=>a.toBlob(d,b,c));throw Error("could not convert canvas to blob");};
F.pO=function(a,b,c){const d=F.mh(a.width,a.height);d.getContext("2d").drawImage(a,0,0);return F.gB(d,b,c)};F.Q8=function(a,b,c){if(F.qb.ImageBitmapOptions)return createImageBitmap(a,{premultiplyAlpha:"none"}).then(e=>F.pO(e,b,c));if(F.qb.ImageBitmap)return createImageBitmap(a).then(e=>F.pO(e,b,c));const d=F.mh(a.width,a.height);d.getContext("2d").putImageData(a,0,0);return F.gB(d,b,c)};F.xW=function(a,b){a.clear();for(const c of b)a.add(c)};
F.u$=function(a){const b=Object.create(null);for(const [c,d]of a.entries())b[c]=d;return b};F.I$=function(a,b){b.clear();for(const [c,d]of Object.entries(a))b.set(c,d)};F.WH=function md(a){if("object"===typeof a&&null!==a){if(a instanceof Set)return{_c3type_:"set",data:[...a].map(d=>md(d))};if(a instanceof Map)return{_c3type_:"map",data:[...a].map(d=>[d[0],md(d[1])])};const c=Object.create(null);for(const [d,e]of Object.entries(a))c[d]=md(e);return c}return a};
F.KG=function nd(a){if("object"===typeof a&null!==a){if("set"===a._c3type_)return new Set(a.data.map(d=>nd(d)));if("map"===a._c3type_)return new Map(a.data.map(d=>[d[0],nd(d[1])]));const c=Object.create(null);for(const [d,e]of Object.entries(a))c[d]=nd(e);return c}return a};F.eB=function(a){if(a.startsWith("--"))return a;let b="",c=!1,d=0;for(const e of a)"-"===e?0<d&&(c=!0):c?(b+=e.toUpperCase(),c=!1):b+=e,++d;return b};F.bn=function(a){return"object"===typeof a&&"function"===typeof a.next};
F.ji=function(a,b){const c=[];if("function"===typeof b)for(var d=0;d<a;++d)c.push(b());else for(d=0;d<a;++d)c.push(b);return c};"use strict";const od=self.B;function pd(a,b,c,d,e){a.ab=+b;a.ib=+c;a.$a=+d;a.Xa=+e;a.X()}function qd(a,b,c,d){a.ab=+b;a.ib=+c;a.$a=+d;a.X()}function rd(a,b,c,d){a.ab+=+b;a.ib+=+c;a.$a+=+d;a.Xa+=0;a.X()}function sd(a,b){a.ab=b.ab;a.ib=b.ib;a.$a=b.$a}function td(a,b){a.Xa=od.X(+b,0,1)}function ud(a,b){return a.ab===b.ab&&a.ib===b.ib&&a.$a===b.$a}
function vd(a,b,c,d,e){return a.ab===b&&a.ib===c&&a.$a===d&&a.Xa===e}function wd(a){a.ab*=a.Xa;a.ib*=a.Xa;a.$a*=a.Xa}function xd(a,b){a.ab=od.VG(b);a.ib=od.PG(b);a.$a=od.LG(b);a.Xa=od.YW(b)}function yd(a){return`rgb(${100*(od.tc()?NaN:a.ab)}%, ${100*(od.tc()?NaN:a.ib)}%, ${100*(od.tc()?NaN:a.$a)}%)`}
function zd(a){var b=Ad;if("string"===typeof a){a=a.replace(/^rgb\(|\)|%/,"");var c=a.split(",");if(!(3>c.length)){a=parseInt(c[0].trim(),10)/255;var d=parseInt(c[1].trim(),10)/255;c=parseInt(c[2].trim(),10)/255;isFinite(a)&&(b.ab=od.X(+a,0,1));isFinite(d)&&(b.ib=od.X(+d,0,1));isFinite(c)&&(b.$a=od.X(+c,0,1));td(b,1)}}}function Bd(a,b){!Array.isArray(b)||3>b.length||(a.ab=b[0],a.ib=b[1],a.$a=b[2],a.Xa=4<=b.length?b[3]:1)}function Cd(a,b){return od.X(Math.max(a,b)-Math.min(a,b),0,1)}
od.bb=class{constructor(a,b,c,d){this.Xa=this.$a=this.ib=this.ab=0;a instanceof od.bb?this.set(a):pd(this,a||0,b||0,c||0,d||0)}set(a){this.ab=a.ab;this.ib=a.ib;this.$a=a.$a;this.Xa=a.Xa;return this}wa(a){return this.set(a)}add(a){this.ab+=a.ab;this.ib+=a.ib;this.$a+=a.$a;this.Xa+=a.Xa;this.X()}clone(){return od.A(od.bb,this.ab,this.ib,this.$a,this.Xa)}toArray(){return[this.ab,this.ib,this.$a,this.Xa]}de(a,b){a[b++]=this.ab;a[b++]=this.ib;a[b++]=this.$a;a[b]=this.Xa}Fd(a){return this.ab===a.ab&&this.ib===
a.ib&&this.$a===a.$a&&this.Xa===a.Xa}XM(a,b){return a[b]===Math.fround(this.ab)&&a[b+1]===Math.fround(this.ib)&&a[b+2]===Math.fround(this.$a)&&a[b+3]===Math.fround(this.Xa)}multiply(a){this.ab*=a.ab;this.ib*=a.ib;this.$a*=a.$a;this.Xa*=a.Xa}X(){this.ab=od.X(this.ab,0,1);this.ib=od.X(this.ib,0,1);this.$a=od.X(this.$a,0,1);this.Xa=od.X(this.Xa,0,1);return this}toJSON(){return[this.ab,this.ib,this.$a,this.Xa]}set r(a){this.ab=od.X(+a,0,1)}get r(){return this.ab}set b(a){this.$a=od.X(+a,0,1)}get b(){return this.$a}set a(a){td(this,
a)}get a(){return this.Xa}};od.bb.Pfa=Object.freeze(od.A(od.bb,1,1,1,1));od.bb.Q5=Object.freeze(od.A(od.bb,0,0,0,1));od.bb.ofa=Object.freeze(od.A(od.bb,0,0,0,0));"use strict";const Dd=self.B;
Dd.hr=class{constructor(a,b){this.ca=this.ka=0;a instanceof Dd.hr?this.wa(a):this.set(a||0,b||0)}set(a,b){this.ka=+a;this.ca=+b}wa(a){this.ka=a.ka;this.ca=a.ca}Fd(a){return this.ka===a.ka&&this.ca===a.ca}XM(a,b){return a[b]===Math.fround(this.ka)&&a[b+1]===Math.fround(this.ca)}toArray(){return[this.ka,this.ca]}de(a,b){a[b++]=this.ka;a[b]=this.ca}offset(a,b){this.ka+=+a;this.ca+=+b}scale(a,b){this.ka*=a;this.ca*=b}sl(a,b){this.ka/=a;this.ca/=b}round(){this.ka=Math.round(this.ka);this.ca=Math.round(this.ca)}floor(){this.ka=
Math.floor(this.ka);this.ca=Math.floor(this.ca)}ceil(){this.ka=Math.ceil(this.ka);this.ca=Math.ceil(this.ca)}angle(){return Dd.MM(0,0,this.ka,this.ca)}length(){return Math.hypot(this.ka,this.ca)}rotate(a){if(0!==a){var b=Math.sin(a);a=Math.cos(a);const c=this.ka*a-this.ca*b;this.ca=this.ca*a+this.ka*b;this.ka=c}}move(a,b){0!==b&&(this.ka+=Math.cos(a)*b,this.ca+=Math.sin(a)*b)}normalize(){const a=this.length();0!==a&&1!==a&&(this.ka/=a,this.ca/=a)}X(a,b){this.ka=Dd.X(this.ka,a,b);this.ca=Dd.X(this.ca,
a,b)}zo(a){return this.ka*a.ka+this.ca*a.ca}reverse(){this.ka=-this.ka;this.ca=-this.ca}};"use strict";const Ed=self.B;function Fd(a,b,c,d,e){b=+b;c=+c;a.$=b;a.V=c;a.ja=b+ +d;a.da=c+ +e}function Gd(a,b,c,d,e){return a.$===b&&a.V===c&&a.width()===d&&a.height()===e}function Hd(a,b,c){b=+b;c=+c;a.$-=b;a.V-=c;a.ja+=b;a.da+=c}function Id(a){a.V=1-a.V;a.da=1-a.da}function Jd(){var a=Kd;a.$=Math.floor(a.$);a.V=Math.floor(a.V);a.ja=Math.ceil(a.ja);a.da=Math.ceil(a.da)}
function Ld(a,b){return!(b.ja<a.$||b.da<a.V||b.$>a.ja||b.V>a.da)}
Ed.Rect=class{constructor(a,b,c,d){this.da=this.ja=this.V=this.$=0;a instanceof Ed.Rect?this.wa(a):this.set(a||0,b||0,c||0,d||0)}set(a,b,c,d){this.$=+a;this.V=+b;this.ja=+c;this.da=+d}wa(a){this.$=+a.$;this.V=+a.V;this.ja=+a.ja;this.da=+a.da}clone(){return new Ed.Rect(this.$,this.V,this.ja,this.da)}Fd(a){return this.$===a.$&&this.V===a.V&&this.ja===a.ja&&this.da===a.da}XM(a,b){return a[b]===Math.fround(this.$)&&a[b+1]===Math.fround(this.V)&&a[b+2]===Math.fround(this.ja)&&a[b+3]===Math.fround(this.da)}toArray(){return[this.$,
this.V,this.ja,this.da]}de(a,b){a[b++]=this.$;a[b++]=this.V;a[b++]=this.ja;a[b]=this.da}width(){return this.ja-this.$}height(){return this.da-this.V}kw(){return(this.$+this.ja)/2}lw(){return(this.V+this.da)/2}offset(a,b){a=+a;b=+b;this.$+=a;this.V+=b;this.ja+=a;this.da+=b}offsetLeft(a){this.$+=+a}offsetTop(a){this.V+=+a}multiply(a,b){this.$*=a;this.V*=b;this.ja*=a;this.da*=b}sl(a,b){this.$/=a;this.V/=b;this.ja/=a;this.da/=b}round(){this.$=Math.round(this.$);this.V=Math.round(this.V);this.ja=Math.round(this.ja);
this.da=Math.round(this.da)}floor(){this.$=Math.floor(this.$);this.V=Math.floor(this.V);this.ja=Math.floor(this.ja);this.da=Math.floor(this.da)}ceil(){this.$=Math.ceil(this.$);this.V=Math.ceil(this.V);this.ja=Math.ceil(this.ja);this.da=Math.ceil(this.da)}X(a,b,c,d){this.$=Math.max(this.$,+a);this.V=Math.max(this.V,+b);this.ja=Math.min(this.ja,+c);this.da=Math.min(this.da,+d)}normalize(){if(this.$>this.ja){var a=this.$;this.$=this.ja;this.ja=a}this.V>this.da&&(a=this.V,this.V=this.da,this.da=a)}kh(a,
b){return a>=this.$&&a<=this.ja&&b>=this.V&&b<=this.da}};"use strict";const Md=self.B;function Nd(a,b,c,d){b[c++]=a.Zb;b[c++]=a.$b;b[c++]=d;b[c++]=a.$c;b[c++]=a.ad;b[c++]=d;b[c++]=a.Uc;b[c++]=a.Vc;b[c++]=d;b[c++]=a.Sc;b[c++]=a.Tc;b[c]=d}function Od(a,b,c,d){const e=b.$*c,f=b.V*c,g=b.ja*c;c*=b.da;const h=b.$*d,k=b.V*d,l=b.ja*d;b=b.da*d;a.Zb=h-f;a.$b=k+e;a.$c=l-f;a.ad=k+g;a.Uc=l-c;a.Vc=b+g;a.Sc=h-c;a.Tc=b+e}
function Pd(a,b){var c=b.kw(),d=b.lw();if(a.kh(c,d))return!0;c=a.kw();d=a.lw();if(b.kh(c,d))return!0;c=a.Zb;d=a.$b;const e=a.$c,f=a.ad,g=a.Uc,h=a.Vc,k=a.Sc;a=a.Tc;return Md.oG(c,d,e,f,b)||Md.oG(e,f,g,h,b)||Md.oG(g,h,k,a,b)||Md.oG(k,a,c,d,b)}
Md.Jd=class{constructor(a,b,c,d,e,f,g,h){this.Tc=this.Sc=this.Vc=this.Uc=this.ad=this.$c=this.$b=this.Zb=0;a instanceof Md.Jd?this.wa(a):this.set(a||0,b||0,c||0,d||0,e||0,f||0,g||0,h||0)}set(a,b,c,d,e,f,g,h){this.Zb=+a;this.$b=+b;this.$c=+c;this.ad=+d;this.Uc=+e;this.Vc=+f;this.Sc=+g;this.Tc=+h}wa(a){this.Zb=a.Zb;this.$b=a.$b;this.$c=a.$c;this.ad=a.ad;this.Uc=a.Uc;this.Vc=a.Vc;this.Sc=a.Sc;this.Tc=a.Tc}Fd(a){return this.Zb===a.Zb&&this.$b===a.$b&&this.$c===a.$c&&this.ad===a.ad&&this.Uc===a.Uc&&this.Vc===
a.Vc&&this.Sc===a.Sc&&this.Tc===a.Tc}toArray(){return[this.Zb,this.$b,this.$c,this.ad,this.Uc,this.Vc,this.Sc,this.Tc]}de(a,b){a[b++]=this.Zb;a[b++]=this.$b;a[b++]=this.$c;a[b++]=this.ad;a[b++]=this.Uc;a[b++]=this.Vc;a[b++]=this.Sc;a[b]=this.Tc}offset(a,b){a=+a;b=+b;this.Zb+=a;this.$b+=b;this.$c+=a;this.ad+=b;this.Uc+=a;this.Vc+=b;this.Sc+=a;this.Tc+=b}round(){this.Zb=Math.round(this.Zb);this.$b=Math.round(this.$b);this.$c=Math.round(this.$c);this.ad=Math.round(this.ad);this.Uc=Math.round(this.Uc);
this.Vc=Math.round(this.Vc);this.Sc=Math.round(this.Sc);this.Tc=Math.round(this.Tc)}floor(){this.Zb=Math.floor(this.Zb);this.$b=Math.floor(this.$b);this.$c=Math.floor(this.$c);this.ad=Math.floor(this.ad);this.Uc=Math.floor(this.Uc);this.Vc=Math.floor(this.Vc);this.Sc=Math.floor(this.Sc);this.Tc=Math.floor(this.Tc)}ceil(){this.Zb=Math.ceil(this.Zb);this.$b=Math.ceil(this.$b);this.$c=Math.ceil(this.$c);this.ad=Math.ceil(this.ad);this.Uc=Math.ceil(this.Uc);this.Vc=Math.ceil(this.Vc);this.Sc=Math.ceil(this.Sc);
this.Tc=Math.ceil(this.Tc)}Dg(a){this.Zb=a.$;this.$b=a.V;this.$c=a.ja;this.ad=a.V;this.Uc=a.ja;this.Vc=a.da;this.Sc=a.$;this.Tc=a.da}cN(a){a.set(Math.min(this.Zb,this.$c,this.Uc,this.Sc),Math.min(this.$b,this.ad,this.Vc,this.Tc),Math.max(this.Zb,this.$c,this.Uc,this.Sc),Math.max(this.$b,this.ad,this.Vc,this.Tc))}kh(a,b){var c=this.$c-this.Zb,d=this.ad-this.$b;const e=this.Uc-this.Zb,f=this.Vc-this.$b;a-=this.Zb;b-=this.$b;var g=c*c+d*d;let h=c*e+d*f;d=c*a+d*b;const k=e*e+f*f,l=e*a+f*b;let m=1/(g*
k-h*h);c=(k*d-h*l)*m;g=(g*l-h*d)*m;if(0<=c&&0<g&&1>c+g)return!0;c=this.Sc-this.Zb;d=this.Tc-this.$b;g=c*c+d*d;h=c*e+d*f;d=c*a+d*b;m=1/(g*k-h*h);c=(k*d-h*l)*m;g=(g*l-h*d)*m;return 0<=c&&0<g&&1>c+g}kw(){return(this.Zb+this.$c+this.Uc+this.Sc)/4}lw(){return(this.$b+this.ad+this.Vc+this.Tc)/4}};"use strict";const Qd=self.B,Rd=[0,0,1,0,1,1,0,1],Sd=Qd.A(Qd.Jd);function Td(a,b){a.Be.length===b.length?a.Be.set(b):a.Be=Float64Array.from(b);a.On=!0}
function Ud(a,b,c,d){Sd.wa(b);Sd.offset(c,d);Td(a,Sd.toArray());a.On=!0}function Vd(a,b,c,d,e){const f=a.Be;for(let g=0,h=f.length;g<h;g+=2){const k=g+1,l=f[g]*b,m=f[k]*c;f[g]=l*e-m*d;f[k]=m*e+l*d}a.On=!0}
function Wd(a,b,c,d){const e=b.Be,f=a.Be;if(a.kh(e[0]+c,e[1]+d)||b.kh(f[0]-c,f[1]-d))return!0;for(let h=0,k=f.length;h<k;h+=2){var g=(h+2)%k;a=f[h];b=f[h+1];const l=f[g];g=f[g+1];let m,n,p,q;a<l?(m=a,p=l):(m=l,p=a);b<g?(n=b,q=g):(n=g,q=b);for(let u=0,r=e.length;u<r;u+=2){const t=(u+2)%r;if(Qd.Co(a,b,l,g,m,p,n,q,e[u]+c,e[u+1]+d,e[t]+c,e[t+1]+d))return!0}}return!1}
Qd.Dq=class extends Qd.ta{constructor(a,b=!0){super();a||(a=Rd);this.Be=Float64Array.from(a);this.OC=new Qd.Rect;this.On=!0;this.xi=b}m(){}wa(a){Td(this,a.Be)}Dg(a){let b=this.Be;8!==b.length&&(this.Be=b=new Float64Array(8));b[0]=a.$-NaN;b[1]=a.V-NaN;b[2]=a.ja-NaN;b[3]=a.V-NaN;b[4]=a.ja-NaN;b[5]=a.da-NaN;b[6]=a.$-NaN;b[7]=a.da-NaN;this.OC.wa(a);this.OC.offset(NaN,NaN);this.On=!1}transform(a,b,c){let d=0,e=1;0!==c&&(d=Math.sin(c),e=Math.cos(c));Vd(this,a,b,d,e)}offset(a,b){const c=this.Be;for(let d=
0,e=c.length;d<e;d+=2)c[d]+=a,c[d+1]+=b}kh(a,b){const c=this.Be;if(a===c[0]&&b===c[1])return!0;if(this.On){var d=this.Be,e=d[0],f=d[1],g=e,h=f;for(let w=0,A=d.length;w<A;w+=2){var k=d[w],l=d[w+1];k<e&&(e=k);k>g&&(g=k);l<f&&(f=l);l>h&&(h=l)}this.OC.set(e,f,g,h);this.On=!1}g=this.OC;d=g.$-110;e=g.V-101;f=g.ja+131;g=g.da+120;let m,n,p,q,u;d<a?(h=d,l=a):(h=a,l=d);e<b?(k=e,m=b):(k=b,m=e);f<a?(n=f,q=a):(n=a,q=f);g<b?(p=g,u=b):(p=b,u=g);let r=0,t=0;for(let w=0,A=c.length;w<A;w+=2){var v=(w+2)%A;const G=
c[w],H=c[w+1],T=c[v];v=c[v+1];Qd.Co(d,e,a,b,h,l,k,m,G,H,T,v)&&++r;Qd.Co(f,g,a,b,n,q,p,u,G,H,T,v)&&++t}return 1===r%2||1===t%2}$m(){return this.xi}};"use strict";const Xd=self.B;function Yd(a,b){a=a.Ik;const c=a.get(b);c&&(c.clear(),a.delete(b));for(const [d,e]of a.entries())e.delete(b)&&0===e.size&&a.delete(d)}
Xd.lx=class extends Xd.ta{constructor(a){super();this.Ik=new Map;if(a)for(const [b,c,d]of a)this.Set(b,c,d)}m(){this.fe();this.Ik=null}cj(){return 0===this.Ik.size}fe(){const a=this.Ik;for(const b of a.values())b.clear();a.clear()}Set(a,b,c){const d=this.Ik;let e=d.get(a);e||(e=new Map,d.set(a,e));e.set(b,c)}T(a,b){return(a=this.Ik.get(a))?a.get(b):a}Xw(a){return(a=this.Ik.get(a))?a.has(void 0):!1}Eo(a,b){const c=this.Ik,d=c.get(a);if(!d)return!1;(b=d.delete(b))&&0===d.size&&c.delete(a);return b}gi(){let a=
0;for(const b of this.Ik.values())a+=b.size;return a}*values(){for(const a of this.Ik.values())yield*a.values()}*entries(){for(const [a,b]of this.Ik.entries())for(const [c,d]of b.entries())yield[a,c,d]}};"use strict";const Zd=self.B;function $d(a){if(a.Az){const b=a.Ad;Zd.H(b);for(const c of a.$p)b.push(c);a.Az=!1}return a.Ad}
Zd.zG=class extends Zd.ta{constructor(){super();this.$p=new Set;this.Ad=[];this.Az=!1}m(){this.fe()}fe(){this.$p.clear();Zd.H(this.Ad);this.Az=!1}Gb(a){this.$p.has(a)||(this.$p.add(a),this.Az||this.Ad.push(a))}Xw(a){return this.$p.has(a)}Eo(a){this.$p.delete(a)&&(this.Az=!0)}gi(){return this.$p.size}cj(){return 0===this.$p.size}};"use strict";const ae=self.B,be=new Map,ce=new Map,de=new Map,ee=new Map,fe=new Map,ge=new Map,he=new Map,ie=new Map,je=new Map;je.set("linear","noease");
je.set("default","noease");
self.Eq=class a{constructor(){}static sY(b){this.dI();return[...ce.keys()].includes(b)}static U0(b){const c=je.get(b);if(c)return be.get(c);if(a.sY(b))return be.get(b);if(he.has(b))return he.get(b)}static Wm(b){this.dI();const c=a.U0(b);return c?c:fe.get(b)}static dI(){0===be.size&&(this.ac("default",()=>{}),this.ac("noease",[{x:0,y:0,sax:.336,say:0,eax:0,eay:0,se:!0,ee:!1},{x:1,y:1,sax:0,say:0,eax:-.336,eay:0,se:!1,ee:!0}],!0),this.ac("easeinsine",[{x:0,y:0,sax:.485,say:0,eax:0,eay:0,se:!0,ee:!1},
{x:1,y:1,sax:0,say:0,eax:-.038,eay:0,se:!1,ee:!0}]),this.ac("easeoutsine",[{x:0,y:0,sax:.038,say:0,eax:0,eay:0,se:!0,ee:!1},{x:1,y:1,sax:0,say:0,eax:-.485,eay:0,se:!1,ee:!0}]),this.ac("easeinoutsine",[{x:0,y:0,sax:.336,say:0,eax:0,eay:0,se:!0,ee:!1},{x:1,y:1,sax:0,say:0,eax:-.336,eay:0,se:!1,ee:!0}]),this.ac("easeinelastic",[{x:0,y:0,sax:.018,say:0,eax:0,eay:0,se:!0,ee:!1},{x:.116,y:.002,sax:.025,say:0,eax:-.025,eay:0,se:!0,ee:!0},{x:.266,y:-.005,sax:.024,say:0,eax:-.021,eay:0,se:!0,ee:!0},{x:.416,
y:.016,sax:.024,say:0,eax:-.026,eay:0,se:!0,ee:!0},{x:.566,y:-.045,sax:.061,say:0,eax:-.025,eay:0,se:!0,ee:!0},{x:.716,y:.132,sax:.072,say:-.004,eax:-.045,eay:0,se:!0,ee:!0},{x:.866,y:-.373,sax:.06,say:0,eax:-.049,eay:-.002,se:!0,ee:!0},{x:1,y:1,sax:0,say:0,eax:-.038,eay:-.263,se:!1,ee:!0}]),this.ac("easeoutelastic",[{x:0,y:0,sax:.038,say:.263,eax:0,eay:0,se:!0,ee:!1},{x:.136,y:1.373,sax:.049,say:.002,eax:-.06,eay:0,se:!0,ee:!0},{x:.286,y:.868,sax:.045,say:0,eax:-.072,eay:.004,se:!0,ee:!0},{x:.436,
y:1.045,sax:.025,say:0,eax:-.061,eay:0,se:!0,ee:!0},{x:.586,y:.984,sax:.026,say:0,eax:-.024,eay:0,se:!0,ee:!0},{x:.736,y:1.005,sax:.021,say:0,eax:-.024,eay:0,se:!0,ee:!0},{x:.886,y:.998,sax:.025,say:0,eax:-.025,eay:0,se:!0,ee:!0},{x:1,y:1,sax:0,say:0,eax:-.018,eay:0,se:!1,ee:!0}]),this.ac("easeinoutelastic",[{x:0,y:0,sax:.025,say:0,eax:0,eay:0,se:!0,ee:!1},{x:.067,y:.001,sax:.025,say:0,eax:-.025,eay:0,se:!0,ee:!0},{x:.18,y:-.005,sax:.025,say:0,eax:-.025,eay:0,se:!0,ee:!0},{x:.292,y:.025,sax:.053,
say:0,eax:-.025,eay:0,se:!0,ee:!0},{x:.405,y:-.118,sax:.069,say:0,eax:-.027,eay:0,se:!0,ee:!0},{x:.597,y:1.118,sax:.027,say:0,eax:-.069,eay:0,se:!0,ee:!0},{x:.71,y:.975,sax:.025,say:0,eax:-.053,eay:0,se:!0,ee:!0},{x:.822,y:1.005,sax:.025,say:0,eax:-.025,eay:0,se:!0,ee:!0},{x:.935,y:.999,sax:.025,say:0,eax:-.025,eay:0,se:!0,ee:!0},{x:1,y:1,sax:0,say:0,eax:-.025,eay:0,se:!1,ee:!0}]),this.ac("easeinback",[{x:0,y:0,sax:.35,say:0,eax:0,eay:0,se:!0,ee:!1},{x:1,y:1,sax:0,say:0,eax:-.34,eay:-1.579,se:!1,
ee:!0}]),this.ac("easeoutback",[{x:0,y:0,sax:.34,say:1.579,eax:0,eay:0,se:!0,ee:!1},{x:1,y:1,sax:0,say:0,eax:-.35,eay:0,se:!1,ee:!0}]),this.ac("easeinoutback",[{x:0,y:0,sax:.035,say:0,eax:0,eay:0,se:!0,ee:!1},{x:.242,y:-.1,sax:.258,say:0,eax:-.025,eay:0,se:!0,ee:!0},{x:.76,y:1.1,sax:.025,say:0,eax:-.26,eay:0,se:!0,ee:!0},{x:1,y:1,sax:0,say:0,eax:-.035,eay:0,se:!1,ee:!0}]),this.ac("easeinbounce",[{x:0,y:0,sax:.033,say:.025,eax:0,eay:0,se:!0,ee:!1},{x:.092,y:0,sax:.026,say:.078,eax:-.033,eay:.025,se:!0,
ee:!0},{x:.274,y:0,sax:.097,say:.319,eax:-.026,eay:.078,se:!0,ee:!0},{x:.637,y:0,sax:.105,say:.625,eax:-.097,eay:.319,se:!0,ee:!0},{x:1,y:1,sax:0,say:0,eax:-.125,eay:-.004,se:!1,ee:!0}]),this.ac("easeoutbounce",[{x:0,y:0,sax:.125,say:.004,eax:0,eay:0,se:!0,ee:!1},{x:.365,y:1,sax:.097,say:-.319,eax:-.105,eay:-.625,se:!0,ee:!0},{x:.728,y:1,sax:.026,say:-.078,eax:-.097,eay:-.319,se:!0,ee:!0},{x:.91,y:1,sax:.033,say:-.025,eax:-.026,eay:-.078,se:!0,ee:!0},{x:1,y:1,sax:0,say:0,eax:-.033,eay:-.025,se:!1,
ee:!0}]),this.ac("easeinoutbounce",[{x:0,y:0,sax:.01,say:.006,eax:0,eay:0,se:!0,ee:!1},{x:.046,y:0,sax:.021,say:.038,eax:-.01,eay:.006,se:!0,ee:!0},{x:.137,y:0,sax:.059,say:.158,eax:-.021,eay:.038,se:!0,ee:!0},{x:.319,y:0,sax:.117,say:.744,eax:-.059,eay:.158,se:!0,ee:!0},{x:.683,y:1,sax:.059,say:-.158,eax:-.117,eay:-.744,se:!0,ee:!0},{x:.865,y:1,sax:.021,say:-.038,eax:-.059,eay:-.158,se:!0,ee:!0},{x:.956,y:1,sax:.01,say:-.006,eax:-.021,eay:-.038,se:!0,ee:!0},{x:1,y:1,sax:0,say:0,eax:-.01,eay:-.006,
se:!1,ee:!0}]),this.ac("easeincubic",[{x:0,y:0,sax:.75,say:0,eax:0,eay:0,se:!0,ee:!1},{x:1,y:1,sax:0,say:0,eax:-.138,eay:-.321,se:!1,ee:!0}]),this.ac("easeoutcubic",[{x:0,y:0,sax:.138,say:.321,eax:0,eay:0,se:!0,ee:!1},{x:1,y:1,sax:0,say:0,eax:-.75,eay:0,se:!1,ee:!0}]),this.ac("easeinoutcubic",[{x:0,y:0,sax:.285,say:0,eax:0,eay:0,se:!0,ee:!1},{x:.5,y:.5,sax:.081,say:.272,eax:-.081,eay:-.272,se:!0,ee:!0},{x:1,y:1,sax:0,say:0,eax:-.285,eay:0,se:!1,ee:!0}]),this.ac("easeinquad",[{x:0,y:0,sax:.4,say:0,
eax:0,eay:0,se:!0,ee:!1},{x:1,y:1,sax:0,say:0,eax:-.178,eay:-.392,se:!1,ee:!0}]),this.ac("easeoutquad",[{x:0,y:0,sax:.178,say:.392,eax:0,eay:0,se:!0,ee:!1},{x:1,y:1,sax:0,say:0,eax:-.4,eay:0,se:!1,ee:!0}]),this.ac("easeinoutquad",[{x:0,y:0,sax:.25,say:0,eax:0,eay:0,se:!0,ee:!1},{x:.5,y:.5,sax:.03,say:.065,eax:-.03,eay:-.065,se:!0,ee:!0},{x:1,y:1,sax:0,say:0,eax:-.25,eay:0,se:!1,ee:!0}]),this.ac("easeinquart",[{x:0,y:0,sax:.25,say:1,eax:0,eay:0,se:!0,ee:!1},{x:1,y:1,sax:0,say:0,eax:-.5,eay:0,se:!1,
ee:!0}]),this.ac("easeoutquart",[{x:0,y:0,sax:.5,say:0,eax:0,eay:0,se:!0,ee:!1},{x:1,y:1,sax:0,say:0,eax:-.25,eay:-1,se:!1,ee:!0}]),this.ac("easeinoutquart",[{x:0,y:0,sax:.765,say:.03,eax:0,eay:0,se:!0,ee:!1},{x:1,y:1,sax:0,say:0,eax:-.765,eay:-.03,se:!1,ee:!0}]),this.ac("easeinquint",[{x:0,y:0,sax:.6,say:0,eax:0,eay:0,se:!0,ee:!1},{x:1,y:1,sax:0,say:0,eax:-.2,eay:-1,se:!1,ee:!0}]),this.ac("easeoutquint",[{x:0,y:0,sax:.2,say:1,eax:0,eay:0,se:!0,ee:!1},{x:1,y:1,sax:0,say:0,eax:-.6,eay:0,se:!1,ee:!0}]),
this.ac("easeinoutquint",[{eax:0,eay:0,ee:!1,sax:.84,say:0,se:!0,x:0,y:0},{eax:-.84,eay:0,ee:!0,sax:0,say:0,se:!1,x:1,y:1}]),this.ac("easeincirc",[{x:0,y:0,sax:.25,say:0,eax:0,eay:0,se:!0,ee:!1},{x:1,y:1,sax:0,say:0,eax:-.024,eay:-.808,se:!1,ee:!0}]),this.ac("easeoutcirc",[{x:0,y:0,sax:.024,say:.808,eax:0,eay:0,se:!0,ee:!1},{x:1,y:1,sax:0,say:0,eax:-.25,eay:0,se:!1,ee:!0}]),this.ac("easeinoutcirc",[{x:0,y:0,sax:.125,say:0,eax:0,eay:0,se:!0,ee:!1},{x:.5,y:.5,sax:.02,say:.428,eax:-.02,eay:-.428,se:!0,
ee:!0},{x:1,y:1,sax:0,say:0,eax:-.125,eay:0,se:!1,ee:!0}]),this.ac("easeinexpo",[{x:0,y:0,sax:.66,say:0,eax:0,eay:0,se:!0,ee:!1},{x:1,y:1,sax:0,say:0,eax:-.14,eay:-1,se:!1,ee:!0}]),this.ac("easeoutexpo",[{x:0,y:0,sax:.14,say:1,eax:0,eay:0,se:!0,ee:!1},{x:1,y:1,sax:0,say:0,eax:-.66,eay:0,se:!1,ee:!0}]),this.ac("easeinoutexpo",[{eax:0,eay:0,ee:!1,sax:.345,say:0,se:!0,x:0,y:0},{eax:-.06,eay:-.5,ee:!0,sax:.06,say:.5,se:!0,x:.5,y:.5},{eax:-.335,eay:0,ee:!0,sax:0,say:0,se:!1,x:1,y:1}]),this.BQ("cubicbezier",
this.DW),this.BQ("spline",this.EW))}static ac(b,c,d=!1){if("function"===typeof c)a.Dx(b,c,"predefined");else if(ae.Zm(c))if(self.bW){const e=ae.A(self.bW,b,d);e.jda(c);a.Dx(b,(f,g,h,k)=>e.Ja(f,g,h,k),"predefined");ie.set(b,e)}else{const e=ae.A(ae.YH,[b,c.map(f=>[f.x,f.y,f.sax,f.say,f.eax,f.eay,f.se,f.ee])],!1);e.CS=!!d;a.Dx(b,(f,g,h,k)=>e.Ja(f,g,h,k),"predefined")}else throw Error("unexpected arguments");}static BQ(b,c){a.Dx(b,c,"private")}static EV(b,c,d){this.dI();a.Dx(b,c,"custom",null,d)}static Dx(b,
c,d,e,f){switch(d){case "predefined":be.set(b,c);ce.set(b,c);break;case "custom":e?(de.has(e)||de.set(e,new Map),ee.has(e)||ee.set(e,new Map),de.get(e).set(b,c),ee.get(e).set(b,f)):(fe.set(b,c),ge.set(b,f));break;case "private":be.set(b,c);he.set(b,c);break;default:throw Error("unexpected ease mode");}}static hP(b,c,d,e){return 0===e?c:d*b/e+c}static DW(b,c,d,e,f){return c+3*b*(d-c)+3*b**2*(c+e-2*d)+b**3*(f-c+3*d-3*e)}static EW(b,c,d,e,f,g,h,k,l,m){if(e===f&&g===h)d=b;else{if(1==b)b=1;else{for(var n=
0,p=1,q=m[p];10!=p&&q<=b;)p++,q=m[p],n+=.1;p--;q=m[p];m=n+(b-q)/(m[p+1]-q)*.1;k=k-3*g+3*e-c;g=3*g-6*e+3*c;c=3*(e-c);e=3*k*m*m+2*g*m+c;if(0!==e)if(.01<=e)for(n=0;4>n;++n)m-=(((k*m+g)*m+c)*m-b)/(3*k*m*m+2*g*m+c);else{e=n;n+=.1;p=0;let u;do m=e+(n-e)/2,q=((k*m+g)*m+c)*m-b,0<q?n=m:e=m,q=1E-7<Math.abs(q),u=10>++p;while(q&&u)}b=m}d=(((l-3*h+3*f-d)*b+(3*h-6*f+3*d))*b+3*(f-d))*b}return d}static dX(b,c,d,e){const f=[];e=e-3*d+3*c-b;d=3*d-6*c+3*b;b=3*(c-b);for(let g=0;11>g;++g)c=.1*g,f.push(((e*c+d)*c+b)*c);
return f}};"use strict";const ke=self.B;ke.Zaa=class{constructor(a){this.oS=[];this.Ka=a||""}m(){this.fe();this.oS=null}ea(){return this.Ka}fe(){ke.r3(this.oS)}};"use strict";let le=0;
self.B.v_=class{constructor(a,b){this.g=a;this.Pa=b;this.Lb=le++;ne(this.g,"runtime","screen-reader-text",{type:"create",id:this.Lb,text:this.Pa})}m(){ne(this.g,"runtime","screen-reader-text",{type:"release",id:this.Lb});this.g=null;this.Pa="";this.Lb=-1}Ql(a){this.Pa!==a&&(this.Pa=a,ne(this.g,"runtime","screen-reader-text",{type:"update",id:this.Lb,text:this.Pa}))}};"use strict";
self.B.Event=class{constructor(a,b){this.type=a;this.cancelable=!!b;this.f4=this.GN=this.defaultPrevented=!1}preventDefault(){if(!this.cancelable)throw Error(`event '${this.type}' is not cancelable`);this.defaultPrevented=!0}stopPropagation(){if(!this.cancelable)throw Error(`event '${this.type}' cannot be stopped`);if(this.f4)throw Error(`cannot stop async event '${this.type}' propagation`);this.GN=!0}};"use strict";const oe=self.B;
function pe(a,b,c){0<a.Hk?a.Bv.push({BN:"add",Sj:b,capture:c}):c?a.nu.has(b)||(a.Vg.push(b),a.nu.add(b)):a.jv.has(b)||(a.ah.push(b),a.jv.add(b))}function qe(a){a.Hk--;if(0===a.Hk&&0<a.Bv.length){const b=new Set,c=new Set;for(const d of a.Bv)if("add"===d.BN)pe(a,d.Sj,d.capture),d.capture?c.delete(d.Sj):b.delete(d.Sj);else if("remove"===d.BN)d.capture?(a.nu.delete(d.Sj),c.add(d.Sj)):(a.jv.delete(d.Sj),b.add(d.Sj));else throw Error("invalid op");oe.Yh(a.ah,b);oe.Yh(a.Vg,c);oe.H(a.Bv)}}
function re(a,b){const c=[];a.Hk++;for(let e=0,f=a.Vg.length;e<f;++e){var d=a.Vg[e](b);d instanceof Promise&&c.push(d)}for(let e=0,f=a.ah.length;e<f;++e)d=a.ah[e](b),d instanceof Promise&&c.push(d);qe(a);return c.length?Promise.all(c).then(()=>!b.defaultPrevented):!b.defaultPrevented}async function se(a,b){return await re(a,b)}
async function te(a,b){a.Hk++;for(let d=0,e=a.Vg.length;d<e;++d){var c=a.Vg[d](b);c instanceof Promise&&await c}for(let d=0,e=a.ah.length;d<e;++d)c=a.ah[d](b),c instanceof Promise&&await c;qe(a);return!b.defaultPrevented}function*ue(a,b){a.Hk++;for(let d=0,e=a.Vg.length;d<e;++d){var c=a.Vg[d](b);oe.bn(c)&&(yield*c)}for(let d=0,e=a.ah.length;d<e;++d)c=a.ah[d](b),oe.bn(c)&&(yield*c);qe(a)}
oe.Event.AX=class extends oe.ta{constructor(a){super();this.oa=a;this.Vg=[];this.nu=new Set;this.ah=[];this.jv=new Set;this.Hk=0;this.Bv=[]}m(){0<this.Hk||(oe.H(this.Vg),this.nu.clear(),oe.H(this.ah),this.jv.clear(),oe.H(this.Bv),oe.m(this))}Nt(a){a?this.Hk++:qe(this)}};"use strict";const ve=self.B;function we(a,b,c){let d=a.dm.get(b);return d?d:c?(d=ve.A(ve.Event.AX,b),a.dm.set(b,d),d):null}async function xe(a,b){return(a=we(a,b.type,!1))?await se(a,b):!0}
async function ye(a,b){(a=we(a,b.type,!1))&&await te(a,b)}function ze(a,b){a=we(a,b.type,!1);if(!a)return null;if(b.cancelable)throw Error("not supported");return ue(a,b)}
ve.Event.cb=class extends ve.ta{constructor(){super();this.dm=new Map;this.rJ=!1}m(){if(this.rJ)throw Error("already released");if(this.dm){for(let a of this.dm.values())a.m();this.dm.clear()}this.rJ=!0;ve.m(this)}kn(){return this.rJ}addEventListener(a,b,c){pe(we(this,a,!0),b,!!c)}removeEventListener(a,b,c){let d=we(this,a,!1);d&&(c=!!c,0<d.Hk?d.Bv.push({BN:"remove",Sj:b,capture:c}):c?d.nu.has(b)&&(d.nu.delete(b),oe.Km(d.Vg,b)):d.jv.has(b)&&(d.jv.delete(b),oe.Km(d.ah,b)),d.Vg.length||d.ah.length||
this.dm.delete(a))}dispatchEvent(a){const b=we(this,a.type,!1);if(b)if(a.cancelable){b.Hk++;let c=!1;for(let d=0,e=b.Vg.length;d<e;++d)if(b.Vg[d](a),a.GN){c=!0;break}if(!c)for(let d=0,e=b.ah.length;d<e&&(b.ah[d](a),!a.GN);++d);qe(b);a=!a.defaultPrevented}else{b.Hk++;for(let c=0,d=b.Vg.length;c<d;++c)b.Vg[c](a);for(let c=0,d=b.ah.length;c<d;++c)b.ah[c](a);qe(b);a=!0}else a=!0;return a}Nt(a){for(const b of this.dm.values())b.Nt(a)}};"use strict";const Ae=self.B,Be="undefined"!==typeof requestIdleCallback;
let Ce=[],De=-1,Ee=0;function Fe(a){De=Be&&0===Ee?requestIdleCallback(Ge,{timeout:35}):setTimeout(Ge,0<Ee?1:a)}function Ge(a){De=-1;if(Ce.length){var b=performance.now(),c=0;do{He(Ce.shift());var d=performance.now();++c;var e=(d-b)/c*1.1}while(Ce.length&&(Be&&0===Ee&&"undefined"!==typeof a?e<a.timeRemaining():12>d-b+e));-1===De&&Ce.length&&Fe(Math.max(16-(d-b),4))}}function He(a){let b;try{b=a.Sj()}catch(c){a.reject(c);return}a.resolve(b)}let Ie=Ae.fC.Xw("disable-asyncify");Ie&&console.warn("[Asyncify] Asyncify has been disabled due to disable-asyncify in the query string. Some work will now be done synchronously.");
Ae.qw=function(a){let b=null;Ae.MA&&(b=Ae.yB());return new Promise((c,d)=>{Ce.push({Sj:a,resolve:c,reject:d,stack:b});Ie?He(Ce.pop()):-1===De&&Fe(16)})};Ae.qw.bQ=function(a){if(a)++Ee;else if(--Ee,0>Ee)throw Error("already turned off high throughput mode");};"use strict";const Je=self.B;let Ke=-1;function Le(){Ke=-1}Je.uB=function(){-1===Ke&&(Ke=Date.now(),self.setTimeout(Le,16));return Ke};let Me=-1,Ne=-1,Oe=new Set;
function Pe(){Ne=Me=-1;let a=Date.now();for(let d of Oe){var b=d;var c=a;c>=b.Ir?b.mu()?(b.Ir=c+b.iq,b=!0):b=b.Pb=!1:b=!0;if(b){if(b=d.Ir,-1===Ne||b<Ne)Ne=b}else Oe.delete(d)}-1!==Ne&&(Me=self.setTimeout(Pe,Math.max(Ne-a+100,1E3)))}
Je.TX=class{constructor(a,b){this.mu=a;this.iq=1E3*b;this.Ir=0;this.Pb=!1}Dc(){let a=Je.uB();this.Ir=a+this.iq;this.Pb||(Oe.add(this),this.Pb=!0);-1===Me?(Ne=this.Ir,Me=self.setTimeout(Pe,this.iq+100)):this.Ir<Ne&&Ne>a+1E3&&(self.clearTimeout(Me),Ne=this.Ir,Me=self.setTimeout(Pe,this.iq+100))}m(){this.Pb&&(Oe.delete(this),this.Pb=!1,0===Oe.size&&-1!==Me&&(self.clearTimeout(Me),Ne=Me=-1));this.mu=null}};"use strict";const Qe=self.B;
Qe.Gg=class a{constructor(b){this.xu=!1;this.sD=b}rB(){this.xu||(this.xu=!0,this.sD&&(this.sD(),this.sD=null))}m(){this.rB()}static m(b){return new a(()=>b.m())}static bk(b,c,d){if("undefined"===typeof e||null===e)var e=!1;else if("boolean"!==typeof e&&"object"!==typeof e)throw new TypeError("invalid event listener options");if(c.includes(" ")){c=c.split(" ");const f=new Qe.jB;for(let g of c)b.addEventListener(g,d,e),f.Gb(Qe.A(Qe.Gg,()=>b.removeEventListener(g,d,e)));return f}b.addEventListener(c,
d,e);return Qe.A(Qe.Gg,()=>b.removeEventListener(c,d,e))}};function Re(a,b){a.sD=b}Qe.Bea=class extends Qe.Gg{};Qe.jB=class extends Qe.Gg{constructor(...a){super();this.og=new Set;for(let b of a)this.Gb(b)}Gb(...a){if(this.xu)throw Error("already disposed");for(let b of a)this.og.add(b)}Ef(a){if(this.xu)throw Error("already disposed");this.og.delete(a)}rB(){if(this.xu)throw Error("already disposed");this.xu=!0;for(let a of this.og)a.rB();this.og.clear();this.og=null}m(){this.rB()}};"use strict";
const Se=self.B;Se.ix=class extends Se.ta{constructor(){super();this.cq=this.Ps=this.ca=this.ku=0}Gb(a){this.ca=+a-this.ku;this.Ps=this.cq+this.ca;this.ku=this.Ps-this.cq-this.ca;this.cq=this.Ps}T(){return this.cq}Dc(){this.cq=this.Ps=this.ca=this.ku=0}Set(a){this.Ps=this.ca=this.ku=0;this.cq=+a}rw(a){this.ku=a.ku;this.ca=a.ca;this.Ps=a.Ps;this.cq=a.cq}m(){}};"use strict";
const Te=self.B,Ue={BH:function(a){this.pV=a;this.left=this.right=this.pV.Db;this.parent=null;this.color=!1;this.key=null},Xq:function(a){this.size=0;this.Db=new Ue.BH(this);this.Db.color=!1;this.root=this.Db;this.root.parent=this.Db;this.compare=a||this.A3}};aa=Ue.Xq.prototype;aa.A3=function(a,b){return a<b?-1:b<a?1:0};
aa.clone=function(){var a=new Ue.Xq(this.compare);if("array"==Ue.WN(this))for(var b=0;b<this.length;b++)a.fw(this[b]);else if("function"==Ue.WN(this.forEach))this.forEach(a.fw,a);else if("function"==Ue.WN(this.dN)){var c=this.dN();for(b=0;b<c.length;b++)a.fw(c[b])}else if("object"==Ue.WN(this))for(b in this)a.fw(this[b]);return a};aa.clear=function(){this.size=0;this.Db=new Ue.BH(this);this.Db.color=!1;this.root=this.Db;this.root.parent=this.Db};
function Ve(a,b){var c=b.right;b.right=c.left;c.left!=a.Db&&(c.left.parent=b);c.parent=b.parent;b.parent==a.Db?a.root=c:b==b.parent.left?b.parent.left=c:b.parent.right=c;c.left=b;b.parent=c}function We(a,b){var c=b.left;b.left=c.right;c.right!=a.Db&&(c.right.parent=b);c.parent=b.parent;b.parent==a.Db?a.root=c:b==b.parent.right?b.parent.right=c:b.parent.left=c;c.right=b;b.parent=c}
aa.fw=function(a){if(this.contains(a))Xe(this,a).key=a;else{var b=new Ue.BH(this);b.key=a;a=this.Db;for(var c=this.root;c!=this.Db;)a=c,c=0>this.compare(b.key,c.key)?c.left:c.right;b.parent=a;a==this.Db?this.root=b:0>this.compare(b.key,a.key)?a.left=b:a.right=b;b.left=this.Db;b.right=this.Db;for(b.color=!0;b!=this.Db&&b!=this.root&&1==b.parent.color;)b.parent==b.parent.parent.left?(a=b.parent.parent.right,1==a.color?(b.parent.color=!1,a.color=!1,b.parent.parent.color=!0,b=b.parent.parent):(b==b.parent.right&&
(b=b.parent,Ve(this,b)),b.parent.color=!1,b.parent.parent.color=!0,b.parent.parent!=this.Db&&We(this,b.parent.parent))):(a=b.parent.parent.left,1==a.color?(b.parent.color=!1,a.color=!1,b.parent.parent.color=!0,b=b.parent.parent):(b==b.parent.left&&(b=b.parent,We(this,b)),b.parent.color=!1,b.parent.parent.color=!0,b.parent.parent!=this.Db&&Ve(this,b.parent.parent)));this.root.color=!1;this.size++}};
aa.remove=function(a){var b=Xe(this,a);if(b!=this.Db){a=b.key;var c=b.left==this.Db||b.right==this.Db?b:Ye(this,b);var d=c.left!=this.Db?c.left:c.right;d.parent=c.parent;c.parent==this.Db?this.root=d:c==c.parent.left?c.parent.left=d:c.parent.right=d;c!=b&&(b.key=c.key);if(0==c.color){for(b=d;b!=this.root&&0==b.color;)b==b.parent.left?(c=b.parent.right,1==c.color&&(c.color=!1,b.parent.color=!0,Ve(this,b.parent),c=b.parent.right),0==c.left.color&&0==c.right.color?(c.color=!0,b=b.parent):(0==c.right.color&&
(c.left.color=!1,c.color=!0,We(this,c),c=b.parent.right),c.color=b.parent.color,b.parent.color=!1,c.right.color=!1,Ve(this,b.parent),b=this.root)):(c=b.parent.left,1==c.color&&(c.color=!1,b.parent.color=!0,We(this,b.parent),c=b.parent.left),0==c.right.color&&0==c.left.color?(c.color=!0,b=b.parent):(0==c.left.color&&(c.right.color=!1,c.color=!0,Ve(this,c),c=b.parent.left),c.color=b.parent.color,b.parent.color=!1,c.left.color=!1,We(this,b.parent),b=this.root));b.color=!1}this.size--;return a}return null};
aa.min=function(a){for(;a.left!=this.Db;)a=a.left;return a};aa.max=function(a){for(;a.right!=this.Db;)a=a.right;return a};function Ye(a,b){if(b.right!=a.Db)return a.min(b.right);for(var c=b.parent;c!=a.Db&&b==c.right;)b=c,c=c.parent;return c}function Xe(a,b){for(var c=a.root;c!=a.Db&&0!=a.compare(c.key,b);)c=0>a.compare(b,c.key)?c.left:c.right;return c}aa.contains=function(a){return null!=Xe(this,a).key};aa.dN=function(){var a=[];this.forEach(function(b){a.push(b)});return a};
aa.range=function(a,b){var c=[];Ze(this,function(d){c.push(d)},a,b);return c};function Ze(a,b,c,d){if(0!=a.size)for(c=Xe(a,c),d=Xe(a,d);c!=d&&!b.call(void 0,c.key,a);)c=Ye(a,c)}aa.forEach=function(a,b){if(0!=this.size)for(var c=this.min(this.root);c!=this.Db;c=Ye(this,c))a.call(b,c.key,c.key,this)};aa.some=function(a,b){if(0==this.size)return!1;for(var c=this.min(this.root);c!=this.Db;c=Ye(this,c))if(a.call(b,c.key,c.key,this))return!0;return!1};
aa.every=function(a,b){if(0==this.size)return!1;for(var c=this.min(this.root);c!=this.Db;c=Ye(this,c))if(!a.call(b,c.key,c.key,this))return!1;return!0};aa.map=function(a,b){var c=[];if(0==this.size)return c;for(var d=this.min(this.root);d!=this.Db;d=Ye(this,d))c.push(a.call(b,d.key,d.key,this));return c};aa.filter=function(a,b){var c=[];if(0==this.size)return c;for(var d=this.min(this.root);d!=this.Db;d=Ye(this,d))a.call(b,d.key,d.key,this)&&c.push(d.key);return c};
aa.nN=function(a){if(this.size>Ue.size)return!1;var b=0;if(0==this.size)return!0;for(var c=this.min(this.root);c!=this.Db;c=Ye(this,c))Ue.contains.call(a,a,c.key)&&b++;return b==this.size};function $e(a,b){b=!!b;if(a.Bu!==b&&(a.Bu=b,!b)){for(const c of a.Gs)a.Fj.remove(c);a.Gs.clear();for(const c of a.Fs)a.Fj.fw(c);a.Fs.clear()}}
Te.Xq=class extends Te.ta{constructor(a){super();this.Fj=new Ue.Xq(a);this.Bu=!1;this.Fs=new Set;this.Gs=new Set}Gb(a){this.Bu?this.Fj.contains(a)?this.Gs.delete(a):this.Fs.add(a):this.Fj.fw(a)}Ef(a){this.Bu?this.Fj.contains(a)?this.Gs.add(a):this.Fs.delete(a):this.Fj.remove(a)}Xw(a){return this.Bu?this.Fs.has(a)?!0:!this.Gs.has(a)&&this.Fj.contains(a):this.Fj.contains(a)}fe(){this.Fj.clear();this.Fs.clear();this.Gs.clear()}toArray(){if(this.Bu)throw Error("cannot be used in queueing mode");return this.Fj.dN()}gi(){return this.Fj.size+
this.Fs.size-this.Gs.size}cj(){return 0===this.gi()}*values(){if(!this.cj()){var a=this.Fj;for(let b=a.min(a.root);b!=a.Db;b=Ye(a,b))yield b.key}}[Symbol.iterator](){return this.values()}};"use strict";const af=self.B;async function cf(a){if(a.KL.length&&!(a.AI>=a.v2)){a.AI++;var b=a.KL.shift();try{const c=await b.Sj();b.resolve(c)}catch(c){b.reject(c)}a.AI--;cf(a)}}
af.mx=class{constructor(a=af.hardwareConcurrency){this.v2=a;this.KL=[];this.AI=0}Gb(a){return new Promise((b,c)=>{this.KL.push({Sj:a,resolve:b,reject:c});cf(this)})}};"use strict";const df=self.B;function ef(a){a.eK=!0;const b=a.gy;a.gy=null;b?a.mu(...b):a.mu();a.eK=!1}function ff(a){var b=[];if(-1===a.Qv){a.gy=b;b=df.uB();var c=b-a.tE;var d="undefined"!==typeof df.UV&&df.UV.D9()?a.g2:a.f2;c>=d&&a.B1?(a.tE=b,ef(a)):a.Qv=self.setTimeout(a.IT,Math.max(d-c,4))}}
function gf(a){-1!==a.Qv&&(self.clearTimeout(a.Qv),a.Qv=-1)}df.j_=class{constructor(a,b,c){this.mu=a;this.f2=b;this.g2=c||2*b;this.Qv=-1;this.tE=-Infinity;this.IT=()=>{this.Qv=-1;this.tE=df.uB();ef(this)};this.B1=this.eK=!1;this.gy=null}Dc(){this.eK||(gf(this),this.gy=null,this.tE=df.uB())}m(){gf(this);this.IT=this.gy=this.mu=null}};"use strict";function hf(a,b){if(!a.JR)throw Error("no get base size callback set");return a.JR(b)}
self.B.xca=class{constructor(){this.d2=new Map;this.hT=this.mT=this.JR=null}gC(){if(!this.hT)throw Error("no redraw callback set");this.hT()}};"use strict";
self.B.wca=class{constructor(a,b){this.xe=a;this.L1=b;this.jc=0;hf(this.xe,b).then(()=>{this.xe&&this.xe.gC()}).catch(c=>{console.error("[SVG] Error loading SVG: ",c);this.xe&&this.xe.gC()});this.LL=null}m(){if(0>=this.jc)throw Error("already released");this.jc--;if(0===this.jc){if(this.LL){var a=this.xe;if(!a.mT)throw Error("no release result callback set");a.mT(this.LL);this.LL=null}this.xe.d2.delete(this.L1);this.xe=null}}};"use strict";const I=self.B;I.ufa="\ufeff";const jf=new Set("0123456789");
I.tY=function(a){return jf.has(a)};const kf=new Set(" \t\n\r\u00a0\u0085\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u200b\u2028\u2029\u202f\u205f\u3000");I.hx=function(a){return kf.has(a)};I.N7=function(a){return[...a].filter(b=>!I.hx(b)).join("")};I.uY=function(a){for(const b of a)if(!I.hx(b))return!1;return!0};I.WO=function(a){for(const b of a)if(!I.hx(b))return!1;return!0};I.wY=function(a){return 1===a.length&&32>a.charCodeAt(0)};I.MW=function(a){return[...a].filter(b=>!I.wY(b)).join("")};
const lf=/\p{P}(?<=[\u3000-\u303F\uFF00-\uFFEF])/u;I.mY=function(a){return!I.hx(a)&&lf.test(a)};const mf=new Set("0123456789.+-e");I.N9=function(a){a=a.trim();if(!a.length)return!1;let b=a.charAt(0);if("-"!==b&&!jf.has(b))return!1;for(let c of a)if(!mf.has(c))return!1;return!0};I.l_=function(a){let b=a.length;for(;0<b&&I.tY(a.charAt(b-1));)--b;return a.substr(0,b)};I.VO=function(a){let b=I.l_(a);a=(a=a.substr(b.length))?(parseInt(a,10)+1).toString():"2";return b+a};
const nf=new Map([["&","&amp;"],["<","&lt;"],[">","&gt;"],['"',"&quot;"],["'","&#39;"]]);function of(a){return nf.get(a)}const pf=/[&<>"']/g;I.tB=function(a){return a.replace(pf,of)};I.z7=function(a){a=I.ki(a,"\\","\\\\");a=I.ki(a,'"','\\"');a=I.ki(a,"\t","\\t");a=I.ki(a,"\r","");return I.ki(a,"\n","\\n")};I.A7=function(a){a=I.ki(a,"&","&amp;");a=I.ki(a,"<","&lt;");a=I.ki(a,">","&gt;");return I.ki(a,'"',"&quot;")};const qf=/[-[\]{}()*+?.,\\^$|#\s]/g;I.ww=function(a){return a.replace(qf,"\\$&")};
I.c7=function(a,b){let c=0;for(const d of a)d===b&&++c;return c};I.O7=function(a,b,c=!1){if(!b)return[];c||(a=a.toLowerCase(),b=b.toLowerCase());c=b.length;var d=0;let e=[];for(;-1<(d=a.indexOf(b,d));)e.push(d),d+=c;return e};I.ki=function(a,b,c){return a.replaceAll(b,()=>c)};I.vba=function(a,b,c){return a.replace(new RegExp(I.ww(b),"gi"),()=>c)};
I.Yca=function(a,b){if("string"===typeof b)a.textContent=b;else if(b.kS)a.textContent=b.toString();else if(a.innerHTML=rf(b),b instanceof I.Nm&&b.sz.length)for(let c=0,d=b.sz.length;c<d;++c){const e=b.sz[c];if("function"!==typeof e)continue;const f=a.querySelector(".bblink"+c);if(!f)throw Error("unable to attach BBString link handler");f.onclick=e}};I.xea=function(a,b){return a instanceof I.PB||a instanceof I.Nm?a.Fd(b):b instanceof I.PB||b instanceof I.Nm?b.Fd(a):a===b};
I.yea=function(a,...b){let c=a;for(let d=0,e=b.length;d<e;++d){const f=`{${d}}`;if(!a.includes(f))throw Error(`missing placeholder '${f}' in string substitution`);c=c.replace(f,b[d].toString())}return c};I.zea=function(a,...b){let c=a,d=-1,e=-1;for(let f=0,g=b.length;f<g;++f){const h=`{${f}}`;a.includes(h)?(e=f,c=c.replace(h,b[f].toString())):-1===d&&(d=f)}if(0<=d&&0<=e&&d<e)throw Error(`missing placeholder '${d}' in string substitution`);return c};
I.a0=function(a){var b={"%%SAMPLERFRONT_BINDING%%":"@binding(0) @group(1)","%%TEXTUREFRONT_BINDING%%":"@binding(1) @group(1)","%%SAMPLERBACK_BINDING%%":"@binding(0) @group(2)","%%TEXTUREBACK_BINDING%%":"@binding(1) @group(2)","%%SAMPLERDEPTH_BINDING%%":"@binding(0) @group(3)","%%TEXTUREDEPTH_BINDING%%":"@binding(1) @group(3)","%%SHADERPARAMS_BINDING%%":"@binding(5) @group(0)","%%FRAGMENTINPUT_STRUCT%%":"\nstruct FragmentInput {\n\t@location(0) fragUV : vec2<f32>,\n\t@location(1) fragColor : vec4<f32>,\n\t@builtin(position) fragPos : vec4<f32>\n};\n\nfn c3_getBackUV(fragPos : vec2<f32>, texBack : texture_2d<f32>) -> vec2<f32>\n{\n\treturn fragPos / vec2<f32>(textureDimensions(texBack));\n}\n\nfn c3_getDepthUV(fragPos : vec2<f32>, texDepth : texture_depth_2d) -> vec2<f32>\n{\n\treturn fragPos / vec2<f32>(textureDimensions(texDepth));\n}\n",
"%%FRAGMENTOUTPUT_STRUCT%%":"\nstruct FragmentOutput {\n\t@location(0) color : vec4<f32>\n};\n","%%C3PARAMS_STRUCT%%":"\nstruct C3Params {\n\tsrcStart\t\t\t: vec2<f32>,\n\tsrcEnd\t\t\t\t: vec2<f32>,\n\tsrcOriginStart\t\t: vec2<f32>,\n\tsrcOriginEnd\t\t: vec2<f32>,\n\tlayoutStart\t\t\t: vec2<f32>,\n\tlayoutEnd\t\t\t: vec2<f32>,\n\tdestStart\t\t\t: vec2<f32>,\n\tdestEnd\t\t\t\t: vec2<f32>,\n\tdevicePixelRatio\t: f32,\n\tlayerScale\t\t\t: f32,\n\tlayerAngle\t\t\t: f32,\n\tseconds\t\t\t\t: f32,\n\tzNear\t\t\t\t: f32,\n\tzFar\t\t\t\t: f32,\n\tisSrcTexRotated\t\t: u32\n};\n@binding(4) @group(0) var<uniform> c3Params : C3Params;\n\nfn c3_srcToNorm(p : vec2<f32>) -> vec2<f32>\n{\n\treturn (p - c3Params.srcStart) / (c3Params.srcEnd - c3Params.srcStart);\n}\n\nfn c3_normToSrc(p : vec2<f32>) -> vec2<f32>\n{\n\treturn fma(p, c3Params.srcEnd - c3Params.srcStart, c3Params.srcStart);\n}\n\nfn c3_clampToSrc(p : vec2<f32>) -> vec2<f32>\n{\n\treturn clamp(p, min(c3Params.srcStart, c3Params.srcEnd), max(c3Params.srcStart, c3Params.srcEnd));\n}\n\nfn c3_srcOriginToNorm(p : vec2<f32>) -> vec2<f32>\n{\n\treturn (p - c3Params.srcOriginStart) / (c3Params.srcOriginEnd - c3Params.srcOriginStart);\n}\n\nfn c3_normToSrcOrigin(p : vec2<f32>) -> vec2<f32>\n{\n\treturn fma(p, c3Params.srcOriginEnd - c3Params.srcOriginStart, c3Params.srcOriginStart);\n}\n\nfn c3_clampToSrcOrigin(p : vec2<f32>) -> vec2<f32>\n{\n\treturn clamp(p, min(c3Params.srcOriginStart, c3Params.srcOriginEnd), max(c3Params.srcOriginStart, c3Params.srcOriginEnd));\n}\n\nfn c3_getLayoutPos(p : vec2<f32>) -> vec2<f32>\n{\n\treturn fma(p - c3Params.srcOriginStart, (c3Params.layoutEnd - c3Params.layoutStart) / (c3Params.srcOriginEnd - c3Params.srcOriginStart), c3Params.layoutStart);\n}\n\nfn c3_srcToDest(p : vec2<f32>) -> vec2<f32>\n{\n\treturn fma(p - c3Params.srcStart, (c3Params.destEnd - c3Params.destStart) / (c3Params.srcEnd - c3Params.srcStart), c3Params.destStart);\n}\n\nfn c3_clampToDest(p : vec2<f32>) -> vec2<f32>\n{\n\treturn clamp(p, min(c3Params.destStart, c3Params.destEnd), max(c3Params.destStart, c3Params.destEnd));\n}\n\nfn c3_linearizeDepth(depthSample : f32) -> f32\n{\n\treturn c3Params.zNear * c3Params.zFar / (c3Params.zFar + depthSample * (c3Params.zNear - c3Params.zFar));\n}\n",
"%%C3_UTILITY_FUNCTIONS%%":"\nfn c3_premultiply(c : vec4<f32>) -> vec4<f32>\n{\n\treturn vec4<f32>(c.rgb * c.a, c.a);\n}\n\nfn c3_unpremultiply(c : vec4<f32>) -> vec4<f32>\n{\n\tif (c.a == 0.0)\n\t{\n\t\treturn vec4<f32>(0.0);\n\t}\n\t\n\treturn vec4<f32>(c.rgb / c.a, c.a);\n}\n\nfn c3_grayscale(rgb : vec3<f32>) -> f32\n{\n\treturn dot(rgb, vec3<f32>(0.299, 0.587, 0.114));\n}\n\nfn c3_getPixelSize(t : texture_2d<f32>) -> vec2<f32>\n{\n\treturn vec2<f32>(1.0) / vec2<f32>(textureDimensions(t));\n}\n\nfn c3_clamp2(v : vec2<f32>, l : f32, u : f32) -> vec2<f32>\n{\n\treturn clamp(v, vec2<f32>(l), vec2<f32>(u));\n}\n\nfn c3_mod(x : f32, y : f32) -> f32\n{\n\treturn x - y * floor(x / y);\n}\n\nfn c3_mod2(x : vec2<f32>, y : vec2<f32>) -> vec2<f32>\n{\n\treturn x - y * floor(x / y);\n}\n\nfn c3_RGBtoHSL(color : vec3<f32>) -> vec3<f32>\n{\n\tvar hsl : vec3<f32> = vec3<f32>(0.0);\n\t\n\tvar fmin : f32 = min(min(color.r, color.g), color.b);\n\tvar fmax : f32 = max(max(color.r, color.g), color.b);\n\tvar delta : f32 = fmax - fmin;\n\n\thsl.z = (fmax + fmin) / 2.0;\n\n\tif (delta == 0.0)\n\t{\n\t\thsl.x = 0.0;\n\t\thsl.y = 0.0;\n\t}\n\telse \n\t{\n\t\tif (hsl.z < 0.5)\n\t\t{\n\t\t\thsl.y = delta / (fmax + fmin);\n\t\t}\n\t\telse\n\t\t{\n\t\t\thsl.y = delta / (2.0 - fmax - fmin);\n\t\t}\n\t\t\n\t\tvar dR : f32 = (((fmax - color.r) / 6.0) + (delta / 2.0)) / delta;\n\t\tvar dG : f32 = (((fmax - color.g) / 6.0) + (delta / 2.0)) / delta;\n\t\tvar dB : f32 = (((fmax - color.b) / 6.0) + (delta / 2.0)) / delta;\n\n\t\tif (color.r == fmax)\n\t\t{\n\t\t\thsl.x = dB - dG;\n\t\t}\n\t\telse if (color.g == fmax)\n\t\t{\n\t\t\thsl.x = (1.0 / 3.0) + dR - dB;\n\t\t}\n\t\telse if (color.b == fmax)\n\t\t{\n\t\t\thsl.x = (2.0 / 3.0) + dG - dR;\n\t\t}\n\n\t\tif (hsl.x < 0.0)\n\t\t{\n\t\t\thsl.x = hsl.x + 1.0;\n\t\t}\n\t\telse if (hsl.x > 1.0)\n\t\t{\n\t\t\thsl.x = hsl.x - 1.0;\n\t\t}\n\t}\n\n\treturn hsl;\n}\n\nfn c3_hueToRGB(f1 : f32, f2 : f32, hue_ : f32) -> f32\n{\n\tvar hue : f32 = hue_;\n\tif (hue < 0.0)\n\t{\n\t\thue = hue + 1.0;\n\t}\n\telse if (hue > 1.0)\n\t{\n\t\thue = hue - 1.0;\n\t}\n\t\t\n\tvar ret : f32;\n\t\n\tif ((6.0 * hue) < 1.0)\n\t{\n\t\tret = f1 + (f2 - f1) * 6.0 * hue;\n\t}\n\telse if ((2.0 * hue) < 1.0)\n\t{\n\t\tret = f2;\n\t}\n\telse if ((3.0 * hue) < 2.0)\n\t{\n\t\tret = f1 + (f2 - f1) * ((2.0 / 3.0) - hue) * 6.0;\n\t}\n\telse\n\t{\n\t\tret = f1;\n\t}\n\t\n\treturn ret;\n}\n\nfn c3_HSLtoRGB(hsl : vec3<f32>) -> vec3<f32>\n{\n\tvar rgb : vec3<f32> = vec3<f32>(hsl.z);\n\t\n\tif (hsl.y != 0.0)\n\t{\n\t\tvar f2 : f32;\n\t\t\n\t\tif (hsl.z < 0.5)\n\t\t{\n\t\t\tf2 = hsl.z * (1.0 + hsl.y);\n\t\t}\n\t\telse\n\t\t{\n\t\t\tf2 = (hsl.z + hsl.y) - (hsl.y * hsl.z);\n\t\t}\n\t\t\t\n\t\tvar f1 : f32 = 2.0 * hsl.z - f2;\n\t\t\n\t\trgb.r = c3_hueToRGB(f1, f2, hsl.x + (1.0 / 3.0));\n\t\trgb.g = c3_hueToRGB(f1, f2, hsl.x);\n\t\trgb.b = c3_hueToRGB(f1, f2, hsl.x - (1.0 / 3.0));\n\t}\n\t\n\treturn rgb;\n}\n"};
for(let [c,d]of Object.entries(b))a=a.replaceAll(c,d.toString());return a};I.kea=function(a,b){return a>b?1:a<b?-1:0};I.lea=function(a,b){a=a.toLowerCase();b=b.toLowerCase();return a>b?1:a<b?-1:0};let sf=null,tf=null;self.Intl&&self.Intl.Segmenter?sf=new self.Intl.Segmenter:tf=new self.yX;I.mQ=function(a){if(sf){const b=[];for(const c of sf.segment(a))b.push(c.segment);return b}return tf.Q4(a)};I.R9=function*(a){if(sf)for(const b of sf.segment(a))yield b.segment;else yield*tf.m4(a)};
I.d7=function(a){if(sf){let b=0;for(const c of sf.segment(a))++b;return b}return tf.w3(a)};
I.T7=function(a,b){b="common."+(b?"dataRates":"dataSizes")+".";const c=self.zha;if(1024>a)return c(b+"bytes",a);if(1048576>a)return a/=1024,a=10>a?Math.round(10*a)/10:Math.round(a),c(b+"kilobytes",a);if(1073741824>a)return a/=1048576,a=10>a?Math.round(10*a)/10:Math.round(a),c(b+"megabytes",a);if(1099511627776>a)return a/=1073741824,a=10>a?Math.round(10*a)/10:Math.round(a),c(b+"gigabytes",a);a/=1099511627776;a=10>a?Math.round(10*a)/10:Math.round(a);return c(b+"terabytes",a)};
const uf={j3:!1,x3:!0,Y3:!0,v4:!0,nG:!0};
I.W7=function(a,b){b=Object.assign({},uf,b);I.AY.cba("common.time");const c=[],d=self.lang,e=self.yha;if(b.x3){var f=Math.floor(a/86400);0<f&&(a-=86400*f,c.push(e(".days",null,f)))}b.Y3&&(f=Math.floor(a/3600),0<f||c.length)&&(a-=3600*f,c.push(e(".hours",null,f)));b.v4&&(f=Math.floor(a/60),0<f||c.length||!b.nG)&&(a-=60*f,c.push(e(".minutes",null,f)));b.nG&&c.push(e(".seconds",null,Math.floor(a%60)));a=(b.j3?d(".approx-prefix"):"")+c.join(d(".separator"));I.AY.Raa();return a};
I.Yfa=function(a,b){let c=0>a?"-":"";a=Math.abs(a);a=a.toString();b-=a.length;for(let d=0;d<b;++d)c+="0";return c+a};I.Aea=function(a){return a.toLowerCase().replace(/\b\w/g,b=>b.toUpperCase())};I.R6=function(a,b){a=a.split(".").map(c=>c.trim());b=b.split(".").map(c=>c.trim());I.WA(a,4,"0");I.WA(b,4,"0");a=a.map(c=>parseInt(c,10));b=b.map(c=>parseInt(c,10));for(let c=0;4>c;++c){const d=a[c]-b[c];if(0!==d)return 0>d?-1:1}return 0};
I.e7=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,a=>{const b=Math.floor(16*Math.random());return("x"===a?b:b&3|8).toString(16)})};I.vea=function(a,b){if(a.length!==b.length)throw Error("strings must be same length");let c=0;for(let d=0,e=a.length;d<e;++d)a.charAt(d)!==b.charAt(d)&&++c;return c};
I.wea=function(a,b){if(0===a.length)return b.length;if(0===b.length)return a.length;let c,d,e,f;if(a.length>b.length){var g=a;a=b;b=g}f=Array(a.length+1);for(g=0;g<=a.length;g++)f[g]=g;for(g=1;g<=b.length;g++){d=g;for(c=1;c<=a.length;c++)e=b[g-1]===a[c-1]?f[c-1]:Math.min(f[c-1]+1,Math.min(d+1,f[c]+1)),f[c-1]=d,d=e;f[a.length]=d}return f[a.length]};"use strict";
const vf=self.B,wf=new Map([["b","strong"],["i","em"],["s","s"],["u","u"],["sub","sub"],["sup","sup"],["small","small"],["mark","mark"],["code","code"],["a1","a"],["a2","a"],["a3","a"],["a4","a"],["a5","a"],["a6","a"],["a7","a"],["a8","a"],["a9","a"],["tip1","abbr"],["tip2","abbr"],["tip3","abbr"],["tip4","abbr"],["tip5","abbr"],["tip6","abbr"],["tip7","abbr"],["tip8","abbr"],["tip9","abbr"],["bad",["span","bbCodeBad"]],["good",["span","bbCodeGood"]],["info",["span","bbCodeInfo"]],["h1",["span","bbCodeH1"]],
["h2",["span","bbCodeH2"]],["h3",["span","bbCodeH3"]],["h4",["span","bbCodeH4"]],["item",["span","bbCodeItem"]]]),xf=new Set(["icon"]),yf=/\[(\/?)([a-zA-Z0-9]+)\]/g,zf=/\[(\/?)([^\[\n]*?)\]/g;let Af=null,Bf=null,Cf=0;
function Df(a,b,c){var d=wf.get(c);if(d){if("string"===typeof d){if("a"===d&&0===Af.length||"abbr"===d&&0===Bf.length)return a;if("a"!==d||b){if("abbr"!==d||b)return"<"+b+d+">";b=parseInt(c.substring(3),10)-1;if(0>b||b>=Bf.length)throw Error("invalid bbcode tip substitution");b=Bf[b];d="";"string"===typeof b?d=b:"function"===typeof b&&(d=b());if("string"!==typeof d)throw new TypeError("invalid bbcode tip");return`<abbr title="${vf.ki(d,'"',"&quot;")}">`}b=parseInt(c.substring(1),10)-1;if(0>b||b>=
Af.length)throw Error("invalid bbcode link substitution");d=Af[b];if("string"===typeof d)return`<a href="${Af[b]}">`;if("function"===typeof d)return`<a class="bblink${b}">`;throw new TypeError("invalid bbcode link action");}if(Array.isArray(d))return a=d[0],d=d[1],b?"</"+a+">":`<${a} class="${d}">`}else return"class"===c?b?"</span>":`<span class="bbclass${Cf++}">`:a}const Ef=/\n/g;
function rf(a){if(a.kS)return a.nj;if(!a.aK&&a.nj){let b=a.nj;a.NR&&(Cf=0,Af=a.sz,Bf=a.KT,b=b.replace(yf,Df),Bf=Af=null);a.PS&&(b=b.replace(Ef,"<br>"));a.aK=b}return a.aK}function Ff(a){a=vf.ki(a,"\\[","[");return vf.ki(a,"\\\\","\\")}
function Gf(a){if(a.QR)return a.Ur;const b=[],c=a.nj,d=[];let e=zf.lastIndex=0;for(var f=null;null!==(f=zf.exec(c));){var g=f.index;if(0<g&&"\\"===c.charAt(g-1))continue;var h=f[1],k=f[2];const l=c.substring(e,g);e=g+f[0].length;l&&b.push({text:l,Ze:d.slice(0)});if(k)if(h)for(k=k.toLowerCase(),f=d.length-1;0<=f;--f){if(d[f].tag===k){d.splice(f,1);break}}else if(f=k,g=null,h=k.indexOf("="),-1!==h?(f=k.substring(0,h).toLowerCase(),g=k.substring(h+1)):f=f.toLowerCase(),xf.has(f))if("icon"===f)b.push({icon:g,
Ze:d.slice(0)});else throw Error(`unknown self-closing tag ${f}`);else d.push({tag:f,bg:g})}e<c.length&&b.push({text:c.substring(e),Ze:d.slice(0)});for(const l of b)l.text&&(l.text=Ff(l.text));a.Ur=b.map(l=>l.icon?vf.A(vf.UO,{icon:l.icon,Ze:l.Ze}):vf.A(vf.mi,{Ui:vf.mQ(l.text),Ze:l.Ze}));a.QR=!0;return a.Ur}
vf.Nm=class{constructor(a,b){this.nj=b&&b.RU?a:vf.tB(a);this.aK="";this.gR=!1;this.sz=[];this.KT=[];if(b){this.gR=!!b.pU;if(b.links){if(9<b.links.length)throw Error("too many links");this.sz=b.links}if(b.lV){if(9<b.lV.length)throw Error("too many tips");this.KT=b.lV}}this.NR=this.nj.includes("[");this.PS=this.gR&&this.nj.includes("\n");this.kS=!this.NR&&!this.PS&&!this.nj.includes("&");this.QR=!1;this.Ur=[]}toString(){return this.nj}valueOf(){return this.nj}Fd(a){return a instanceof vf.PB?rf(this)===
rf(a):a instanceof vf.Nm?this.nj===a.nj:this.nj===a}};"use strict";const Hf=self.B;function If(a){return"\u00a0"===a||"\u202f"===a?!1:Hf.hx(a)}const Jf=new Set("\u3008\u300a\u300c\u300e\u3010\u3014\u3016\u3018\u301a\u301d");function Kf(a){return"\n"===a||"\r\n"===a}
function Lf(a,b,c){let d=0,e=0,f=0,g=0,h=0;for(const k of b)-1===k.M()&&(b=c(k),k.vh(b.height),k.Rr=b.fontBoundingBoxAscent||0,k.gm=b.fontBoundingBoxDescent||0,k.jq=b.ul||0,k.ig()?k.Og(b.width):k.an()&&(b=Mf(k,a.jm),k.P=b?k.S*b.M()/b.K():0)),d+=k.M(),e=Math.max(e,k.K()),f=Math.max(f,k.Rr),g=Math.max(g,k.gm),h=Math.max(h,k.jq);return{width:d,height:e,fontBoundingBoxAscent:f,fontBoundingBoxDescent:g,ul:h}}
function Nf(a,b,c,d,e,f,g){a.vj.push(Hf.A(Hf.Cx.pH,{uq:b,width:c,height:d,fontBoundingBoxAscent:e,fontBoundingBoxDescent:f,ul:g}))}function Of(a){const b=[];for(const c of a)c.ig()?Hf.wo(b,c.kf.map(d=>[Hf.A(Hf.mi,{Ui:[d],Ze:c.Jj})])):b.push([c]);return b}function Pf(a){return a.map(b=>b.bI())}function Qf(a,b){var c=a.length?a.at(-1):null;let d=0;c&&c.ig()&&b[0].ig()&&b[0].Jj===c.Jj&&(Rf.wo(c.kf,b[0].kf),c.P=-1,c.S=-1,c.Rr=-1,c.gm=-1,c.jq=-1,d=1);for(c=b.length;d<c;++d)a.push(b[d].bI())}
function Sf(a){return a.vj.reduce((b,c)=>Math.max(b,c.M()),0)}function Tf(a){return a.vj.reduce((b,c)=>b+c.K(),0)}
Hf.Cx=class{constructor(){this.vj=[];this.jm=null}xx(a){this.jm=a}Cx(a,b,c,d,e){"string"===typeof a&&(a=[Hf.A(Hf.mi,{Ui:Hf.mQ(a)})]);Hf.H(this.vj);if(!(!a.length||1===a.length&&a[0].ig()&&a[0].cj()||2>c)){if(1===a.length){var f=a[0];if(f.ig()&&100>=f.Nw()&&!f.kf.includes("\n")){let {width:n,height:p,fontBoundingBoxAscent:q,fontBoundingBoxDescent:u,ul:r}=b(f);n+=e;f.Og(n);f.vh(p);f.Rr=q||0;f.gm=u||0;f.jq=r||0;if(n<=c){Nf(this,[f],n,p,q,u,r);return}}}if("word"===d){d=a;var g=[],h=[];a=!1;for(l of d)if(d=
l.Jj,l.an())0<h.length&&g.push(h),g.push([l]),h=[];else for(var k of l.kf)Kf(k)?(0<h.length&&g.push(h),g.push([Hf.A(Hf.mi,{Ui:["\n"],Ze:d})]),h=[]):0===h.length?(h.push(Hf.A(Hf.mi,{Ui:[k],Ze:d})),a=If(k)):(f=If(k),f===a?(f=h.at(-1),f.Jj===d?f.kf.push(k):h.push(Hf.A(Hf.mi,{Ui:[k],Ze:d}))):(g.push(h),h=[Hf.A(Hf.mi,{Ui:[k],Ze:d})],a=f));0<h.length&&g.push(h);var l=g}else if("cjk"===d){d=a;l=[];k=[];a=!1;for(g of d)if(d=g.Jj,g.an())0<k.length&&l.push(k),l.push([g]),k=[];else for(h of g.kf)Kf(h)?(0<k.length&&
l.push(k),l.push([Hf.A(Hf.mi,{Ui:["\n"],Ze:d})]),k=[]):(0===k.length?k.push(Hf.A(Hf.mi,{Ui:[h],Ze:d})):a||Hf.mY(h)&&!Jf.has(h)?(a=k.at(-1),a.Jj===d?a.kf.push(h):k.push(Hf.A(Hf.mi,{Ui:[h],Ze:d}))):(l.push(k),k=[Hf.A(Hf.mi,{Ui:[h],Ze:d})]),a=Jf.has(h));0<k.length&&l.push(k)}else l=Of(a);f=l;l=[];d=a=h=g=k=0;for(var m of f){if(1===m.length&&m[0].ig()&&1===m[0].Nw()&&Kf(m[0].kf[0])){0===g&&(g=Hf.A(Hf.mi,{Ui:[" "],Ze:m[0].Jj}),d=b(g),g=d.height,h=d.fontBoundingBoxAscent||0,a=d.fontBoundingBoxDescent||
0,d=d.ul||0);Nf(this,l,k,g,h,a,d);l=[];d=a=h=g=k=0;continue}f=Pf(l);Qf(f,m);const n=Lf(this,f,b),p=n.width;p>=c?(0<l.length&&Nf(this,l,k,g,h,a,d),l=[],m[0].ig()&&Hf.WO(m[0].kf)?d=a=h=g=k=0:(Qf(l,m),d=Lf(this,l,b),k=d.width,g=d.height,h=d.fontBoundingBoxAscent,a=d.fontBoundingBoxDescent,d=d.ul)):(l=f,k=p,g=n.height,h=n.fontBoundingBoxAscent,a=n.fontBoundingBoxDescent,d=n.ul)}0<l.length&&Nf(this,l,k,g,h,a,d);for(const n of this.vj)if(c=n.Ur,c.length&&(m=c.at(-1),m.ig())){l=m.kf;for(k=l.slice(0);0<k.length&&
If(k.at(-1));)k.pop();0===k.length?(n.jk(-m.M()),c.pop()):k.length<l.length&&(m.kf=k,l=b(m).width,k=m.M()-l,m.Og(l),n.jk(-k));0!==e&&0<c.length&&(m=c.at(-1),m.jk(e),n.jk(e))}}}fe(){Hf.H(this.vj)}};"use strict";function*Uf(a){a=a.Ur;for(let b=a.length-1;0<=b;--b)yield a[b]}
self.B.Cx.pH=class{constructor(a){this.Ur=a.uq||[];this.P=a.width||-1;this.S=a.height||-1;this.Rr=a.fontBoundingBoxAscent||-1;this.gm=a.fontBoundingBoxDescent||-1;this.jq=a.ul||-1;this.Sp=this.Rp=0}uq(){return this.Ur.values()}jk(a){this.P+=a}M(){return this.P}K(){return this.S}zx(a){this.Rp=a}Ax(a){this.Sp=a}};"use strict";function Vf(a,b){a=a.Jj;for(let c=a.length-1;0<=c;--c){const d=a[c];if(d.tag===b)return d}return null}
function Wf(a){const b=new Map;for(const c of a.Jj)b.set(c.tag,c.bg);return b}self.B.yO=class{constructor(a){this.Jj=a.Ze||[];this.P=a.width||-1;this.S=a.height||-1;this.Rr=a.fontBoundingBoxAscent||-1;this.gm=a.fontBoundingBoxDescent||-1;this.jq=a.ul||-1;this.Sp=this.Rp=0}ig(){return!1}an(){return!1}jk(a){this.P+=a}Og(a){this.P=a}M(){return this.P}vh(a){this.S=a}K(){return this.S}zx(a){this.Rp=a}Ax(a){this.Sp=a}};"use strict";const Rf=self.B;
Rf.mi=class extends Rf.yO{constructor(a){super(a);this.kf=a.Ui}ig(){return!0}bI(){return Rf.A(Rf.mi,{Ui:this.kf.slice(0),Ze:this.Jj,width:this.P,height:this.S,fontBoundingBoxAscent:this.Rr,fontBoundingBoxDescent:this.gm,ul:this.jq})}Nw(){return this.kf.length}cj(){return 0===this.kf.length}};"use strict";const Xf=self.B;
function Mf(a,b){if(!b)return null;let c=Number(a.Vy);return String(c)===a.Vy?(c=Math.floor(c),a=Math.floor(c),0>a||a>=b.Yr.length?null:b.Yr[a]):b.dK.get(a.Vy.toLowerCase())||null}Xf.UO=class extends Xf.yO{constructor(a){super(a);this.Vy=a.icon}an(){return!0}bI(){return Xf.A(Xf.UO,{icon:this.Vy,Ze:this.Jj,width:this.P,height:this.S,fontBoundingBoxAscent:this.Rr,fontBoundingBoxDescent:this.gm,ul:this.jq})}MG(a){return(a=Mf(this,a))?a.MG():null}Nw(){return 1}};"use strict";const Yf=self.B;
function Zf(a,b){var c=a.Qu.get(b);if(c)return c;c=a.X1(b);c=Yf.A(Yf.f0,a,{source:b,Z3:c});a.Qu.set(b,c);return c}function $f(a,b){const c=a.Qu.get(b);c&&c.m();a.Qu.delete(b)}async function ag(a,b){return await a.W1(b)}Yf.e0=class{constructor(a){this.Qu=new Map;this.X1=a.R3;this.W1=a.Q3}m(){for(const a of this.Qu.values())a.m();this.Qu.clear()}};"use strict";const bg=self.B;
async function cg(a){if(!a.ZJ){a.ZJ=!0;a.Mh=!0;var b=await ag(a.lo,a.aA);if(a.lo){b=b.eN;for(let c=0,d=Math.min(b.length,a.Yr.length);c<d;++c)a.Yr[c].sR=b[c].E3;a.Mh=!1}}}function dg(a){a.Gi||(a.Gi=cg(a));return a.Gi}
bg.f0=class{constructor(a,b){this.lo=a;this.aA=b.source;this.Yr=[];this.dK=new Map;this.Mh=this.ZJ=!1;this.Gi=null;a=b.Z3.eN;for(let c=0,d=a.length;c<d;++c){b=a[c];const e=bg.A(bg.d0,this,{index:c,tag:b.tag,source:b.source,width:b.width,height:b.height});this.Yr.push(e);b.tag&&this.dK.set(b.tag.toLowerCase(),e)}}m(){for(const a of this.Yr)a.m();bg.H(this.Yr);this.dK.clear();this.aA=this.lo=null}};"use strict";
self.B.d0=class{constructor(a,b){this.aA=b.source||null;this.la=b.index;this.$d=b.tag;this.P=b.width;this.S=b.height;this.sR=null}m(){this.S=this.P=0}M(){return this.P}K(){return this.S}MG(){return this.sR}};"use strict";const eg=self.B,fg=self.me,gg=fg.tG,hg=fg.ZA,ig=fg.tl,jg=gg.create(),kg=gg.create(),lg=gg.create(),mg=hg.create(),ng=ig.create(),og=gg.create(),pg=gg.create(),qg=gg.create(),rg=gg.create(),sg=gg.create(),tg=gg.create(),ug=gg.create(),vg=gg.create(),wg=hg.Cg(0,0,1,1);
function xg(a,b,c,d,e,f,g){ig.multiply(ng,e,d);if(null===ig.hw(ng,ng))return!1;mg[0]=(a-f[0])/f[2]*2-1;mg[1]=(b-f[1])/f[3]*2-1;mg[2]=2*c-1;mg[3]=1;hg.VN(mg,mg,ng);if(0===mg[3])return!1;mg[3]=1/mg[3];g[0]=mg[0]*mg[3];g[1]=mg[1]*mg[3];g[2]=mg[2]*mg[3];return!0}
eg.R={dC(a,b,c,d,e,f,g){const h=d[0]*a+d[4]*b+d[8]*c+d[12],k=d[1]*a+d[5]*b+d[9]*c+d[13],l=d[2]*a+d[6]*b+d[10]*c+d[14];d=d[3]*a+d[7]*b+d[11]*c+d[15];a=e[0]*h+e[4]*k+e[8]*l+e[12]*d;b=e[1]*h+e[5]*k+e[9]*l+e[13]*d;c=e[2]*h+e[6]*k+e[10]*l+e[14]*d;e=e[3]*h+e[7]*k+e[11]*l+e[15]*d;if(0===e)return!1;e=1/e;g[0]=(a*e*.5+.5)*f[2]+f[0];g[1]=(b*e*.5+.5)*f[3]+f[1];g[2]=.5*(1+c*e);return!0}};
function yg(a,b,c,d){gg.Do(jg,c,b);gg.Do(kg,a,b);gg.TM(lg,jg,kg);gg.normalize(lg,lg);d.set(lg[0],lg[1],lg[2],gg.zo(a,lg))}function zg(a,b,c,d,e,f,g){const h=g.x,k=g.y,l=g.z,m=g.w,n=g.xV,p=g.yV;g=g.zV;const q=1-n,u=1-p,r=1-g;return h*a*n+h*d*q+k*b*p+k*e*u+l*c*g+l*f*r>=m?!0:h*d*n+h*a*q+k*e*p+k*b*u+l*f*g+l*c*r>m}class Ag{constructor(){this.zV=this.yV=this.xV=this.w=this.z=this.y=this.x=NaN}set(a,b,c,d){this.x=a;this.y=b;this.z=c;this.w=d;this.xV=0<a?1:0;this.yV=0<b?1:0;this.zV=0<c?1:0}}
eg.R.u0=class{constructor(){this.zS=new Ag;this.LT=new Ag;this.oT=new Ag;this.aR=new Ag;this.oL=new Ag;this.yR=new Ag}};"use strict";const Bg=self.B,Cg=self.me,Dg=Cg.tG,Eg=Cg.ZA,Fg=Cg.tl,Gg=Fg.create(),Hg=Dg.Cg(0,0,0),Ig=Dg.Cg(0,0,0),Jg=Dg.Cg(0,0,0),Kg=Dg.Cg(0,1,0);Eg.Cg(0,0,0,0);new Bg.Jd;new Bg.Rect;const Lg=new Bg.Jd(0,0,1,0,1,1,0,1),Mg={uN:1,YM:1E4},Ng=Fg.Cg(1,0,0,0,0,1,0,0,0,0,.5,0,0,0,.5,1);
function Og(a){let b=0,c=a.length,d=0;for(;b<c;)a[b++]=d,a[b++]=d+1,a[b++]=d+2,a[b++]=d,a[b++]=d+2,a[b++]=d+3,d+=4}function Pg(a){a.Eh=0;a.Fn=0;a.Ks=null;a.dA=null;a.cA=null;Bg.H(a.tr);a.Vz.clear()}function Qg(a){for(const b of a.tr)b.m();Pg(a)}function Rg(a,b,c,d=.5,e=.5){const f=a.Jp,g=a.mp;var h=a.Sr;.5===d&&.5===e?a.Ud()?Fg.E4(b,h,c,f,g):Fg.perspective(b,h,c,f,g):(d=1-d,h=a.hA*f,c*=h,Fg.P3(b,(2*d-2)*c,2*d*c,(2*e-2)*h,2*e*h,f,g),a.Ud()&&Fg.Bo(b,Ng,b))}
function Sg(a,b,c,d,e,f){let g=1;!a.Xs&&(g=200*a.hA/f);Dg.set(Jg,g,-g,1);Dg.multiply(Hg,c,Jg);Dg.multiply(Ig,d,Jg);Fg.r4(b,Hg,Ig,e||Kg);Jg[2]=1;Fg.scale(b,b,Jg)}function Tg(a,b,c,d,e,f,g){Dg.set(Hg,b,c,d);Dg.set(Ig,e,f,0);Sg(a,Gg,Hg,Ig,Kg,g);return Gg}function Ug(a,b){a.tr.push(b);a.Vz.set(b.ea(),b)}function Vg(a){a.Ol(a.Ks)}function Wg(a,b){--b.jc;0===b.jc&&(a.ng===b&&(a.ng=null),a.Os.delete(Xg(b.Uz,b.Sg,b.tb,b.ud)),b.m())}
function Yg(a,b){Bg.H(a.QC);a.OS.clear();let c=0;for(const d of b){b=d[0];const e=d[1],f=d[2];a.QC.push([e,f]);a.OS.set(b,{hia:c,ija:e,Cga:f});c++}}function Zg(a,b){a.Fn=b;a.ng=null}function $g(a,b,c,d,e,f,g){var h=a.WK;b=b+h-g;c=c+h-f;d=d+h+g;e=e+h+f;h=2*g;const k=2*f;a.nx(b+f,c-g,0,d+f,e-g,0,d-f-h,e+g-k,0,b-f+h,c+g+k,0,Lg)}function ah(a,b,c,d,e,f,g){const h=a.WK;b=b+h-g;c=c+h-f;d=d+h+g;e=e+h+f;a.nx(b+f,c-g,0,d+f,e-g,0,d-f,e+g,0,b-f,c+g,0,Lg)}
function bh(a,b,c,d,e,f,g){const h=a.WK;b+=h;c+=h;d+=h;e+=h;a.nx(b+f,c-g,0,d+f,e-g,0,d-f,e+g,0,b-f,c+g,0,Lg)}function ch(a){var b=dh,c=b.$,d=b.V,e=b.ja;b=b.da;const f=.5*a.BS,g=a.AS;2===g?($g(a,c,d,e,d,0,f),$g(a,e,d,e,b,f,0),$g(a,e,b,c,b,0,-f),$g(a,c,b,c,d,-f,0)):1===g?(ah(a,c,d,e,d,0,f),ah(a,e,d,e,b,f,0),ah(a,e,b,c,b,0,-f),ah(a,c,b,c,d,-f,0)):(bh(a,c,d,e,d,0,f),bh(a,e,d,e,b,f,0),bh(a,e,b,c,b,0,-f),bh(a,c,b,c,d,-f,0))}
Bg.R.MP=class{constructor(a){a=Object.assign({},Mg,a);this.S=this.P=0;this.Sr=Bg.Vb(45);this.hA=Math.tan(this.Sr/2);this.os=Fg.create();this.pv=Fg.create();this.Xs=!1;this.Jp=a.uN;this.mp=a.YM;this.tr=[];this.Vz=new Map;this.cA=this.dA=this.Ks=null;this.Os=new Map;this.ng=null;this.QC=[];this.OS=new Map;this.Fn=this.Eh=0;this.AS=this.BS=1;this.WK=.5;this.Mf=0;this.Or=!0;this.XJ=!1}Mq(){Pg(this);this.ng=null}M(){return this.P}K(){return this.S}Ee(a){return this.Xs?a/(2*this.hA):100}NH(a){this.Sr=a;
this.hA=Math.tan(this.Sr/2)}pH(a,b,c,d){var e=Bg.MM(a,b,c,d),f=.5*this.BS;const g=Math.sin(e)*f;e=Math.cos(e)*f;f=this.AS;2===f?$g(this,a,b,c,d,g,e):1===f?ah(this,a,b,c,d,g,e):bh(this,a,b,c,d,g,e)}Fo(){this.ne(!0);this.Mf++}PH(a){this.Or=!!a}ej(){return!1}Ud(){return!1}NG(){}};"use strict";
self.B.R.jQ=class{constructor(a,b){this.Ka=b.name;this.O=a;this.R1=b.Mga||0;this.S1=b.Nga||0;this.hJ=!!b.sga;this.z2=!!b.cia;this.xv=!!b.wia;this.U2=!!b.pja;this.g1=!!b.dga;this.gu=!!b.hga;this.yM=!!b.Ija;this.yA=!1}m(){this.O=null}za(){return this.O}ea(){return this.Ka}Tq(){return this.z2}tQ(){return!1}};"use strict";const eh=self.B;function Xg(a,b,c,d){return("string"===typeof a?a:a.ea())+","+b+","+c.ab+","+c.ib+","+c.$a+","+c.Xa+","+d}
eh.R.Z_=class{constructor(a,b,c,d,e){this.O=a;this.jc=0;this.Ic=null;this.Uz="";this.Sg=c;this.tb=eh.A(eh.bb);this.tb.set(d);this.ud=e;"string"===typeof b?this.Uz=b:(this.Ic=b,this.Uz=this.Ic.ea())}m(){if(0<this.jc)throw Error("releasing state group still in use");this.Ic=this.O=null;this.Uz=""}Wd(){this.Ic=null}$B(a){this.Ic=a.Vz.get(this.Uz)||null;if(!this.Ic)throw Error("failed to restore shader program");}};"use strict";const fh=self.B,gh=fh.A(fh.Jd);
function hh(a,b,c){const d=c.Zb,e=c.$b;return[d+(c.$c-d)*a+(c.Sc-d)*b,e+(c.ad-e)*a+(c.Tc-e)*b]}
fh.R.XY=class{constructor(a){this.gL=a;this.ih=this.gh=this.ud=this.ca=this.ka=0}Hx(a,b,c,d){this.ka=a;this.ca=b;this.gh=c;this.ih=d}Ga(){return this.ka}fj(a){this.ka!==a&&(this.ka=a,this.gL.Lz=!0)}Ha(){return this.ca}uk(a){this.ca!==a&&(this.ca=a,this.gL.Lz=!0)}hb(){return this.ud}Pg(a){this.ud!==a&&(this.ud=Math.max(a,0),this.gL.Lz=!0)}ed(){return{x:this.Ga(),y:this.Ha(),z:this.hb(),u:this.gh,v:this.ih}}mc(a){this.fj(a.x);this.uk(a.y);a.hasOwnProperty("z")&&this.Pg(a.z);this.gh=a.u;this.ih=a.v}};
function kh(a){if(a.Lz){var b=Infinity,c=Infinity,d=-Infinity,e=-Infinity,f=0;for(const g of a.Vp)for(const h of g){const k=h.Ga(),l=h.Ha();b=Math.min(b,k);c=Math.min(c,l);d=Math.max(d,k);e=Math.max(e,l);f=Math.max(f,h.hb())}a.LS=b;a.MS=c;a.HS=d;a.IS=e;a.JS=f;a.Lz=!1}}function lh(a,b,c){b=Math.floor(b);c=Math.floor(c);return 0>b||b>=a.hm||0>c||c>=a.Gm?null:a.Vp[c][b]}
function mh(a,b,c,d){const e=d instanceof fh.Rect;if(b.hm!==a.hm||b.Gm!==a.Gm)throw Error("source mesh wrong size");b=b.Vp;a=a.Vp;for(let k=0,l=a.length;k<l;++k){const m=b[k],n=a[k];for(let p=0,q=n.length;p<q;++p){var f=m[p],g=n[p];if(e){var h=d;[g.ka,g.ca]=hh(f.ka,f.ca,c);g.ud=f.ud;g.gh=fh.Af(h.$,h.ja,f.gh);g.ih=fh.Af(h.V,h.da,f.ih)}else h=d,[g.ka,g.ca]=hh(f.ka,f.ca,c),g.ud=f.ud,[g.gh,g.ih]=hh(f.gh,f.ih,h)}}}
function nh(a){const b=oh.Be,c=[],d=a.hm-1;a=a.Gm-1;const e=1/d,f=1/a,g=d-1,h=a-1;let k=b[0],l=b[1],m=fh.X(Math.floor(k*d),0,g),n=fh.X(Math.floor(l*a),0,h),p=0,q=0,u=0;var r=-1;const t=()=>{k=fh.X(fh.Af(k,p,u),0,1);l=fh.X(fh.Af(l,q,u),0,1);c.push(k,l)};for(let v=0,w=b.length;v<w;v+=2)for(k=b[v],l=b[v+1],c.push(k,l),m=fh.X(Math.floor(k*d),0,g),n=fh.X(Math.floor(l*a),0,h),r=(v+2)%w,p=b[r],q=b[r+1],r=-1;;){if(1E6<c.length)throw Error("Too many mesh poly points");const A=m*e,G=n*f,H=(m+1)*e,T=(n+1)*f;
if(0!==r&&(u=fh.VA(k,l,p,q,A,G,H,T,-.001),0<=u&&.99999999>=u)){t();r=0;continue}if(0<n&&2!==r&&(u=fh.VA(k,l,p,q,A,G,H,G,.001),0<=u&&.99999999>=u)){t();n--;r=4;continue}if(m<g&&3!==r&&(u=fh.VA(k,l,p,q,H,G,H,T,.001),0<=u&&.99999999>=u)){t();m++;r=1;continue}if(0<m&&1!==r&&(u=fh.VA(k,l,p,q,A,G,A,T,.001),0<=u&&.99999999>=u)){t();m--;r=3;continue}if(n<h&&4!==r&&(u=fh.VA(k,l,p,q,A,T,H,T,.001),0<=u&&.99999999>=u)){t();n++;r=2;continue}break}return fh.A(fh.Dq,c)}
function ph(a,b,c){var d=a.hm-1,e=a.Gm-1;const f=1/d,g=1/e;d=fh.X(Math.floor(b*d),0,d-1);const h=fh.X(Math.floor(c*e),0,e-1);e=d*f;const k=h*g,l=(d+1)*f,m=(h+1)*g,n=lh(a,d,h),p=lh(a,d+1,h+1),q=fh.i4(b,c,e,k,l,k,l,m);a=lh(a,d+(q?1:0),h+(q?0:1));const [u,r,t]=fh.a5(b,c,e,k,q?e+f:e,q?k:k+g,l,m);return fh.Z4(u,r,t,n.Ga(),n.Ha(),n.hb(),a.Ga(),a.Ha(),a.hb(),p.Ga(),p.Ha(),p.hb())}
fh.R.fP=class{constructor(a,b,c){if(2>a||2>b)throw Error("invalid mesh size");this.hm=a;this.Gm=b;this.Mb=c||null;this.Vp=[];this.MS=this.LS=0;this.IS=this.HS=1;this.JS=0;this.Lz=!1;c=a-1;const d=b-1;for(let e=0;e<b;++e){const f=[];for(let g=0;g<a;++g){const h=fh.A(fh.R.XY,this,g,e),k=g/c,l=e/d;h.Hx(k,l,k,l);f.push(h)}this.Vp.push(f)}}m(){fh.H(this.Vp)}ci(a){const b=this.Vp;let c=b[0];for(let d=1,e=b.length;d<e;++d){const f=b[d];let g=c[0],h=f[0];for(let k=1,l=f.length;k<l;++k){const m=c[k],n=f[k];
gh.set(g.gh,g.ih,m.gh,m.ih,n.gh,n.ih,h.gh,h.ih);a.nx(g.Ga(),g.Ha(),g.hb(),m.Ga(),m.Ha(),m.hb(),n.Ga(),n.Ha(),n.hb(),h.Ga(),h.Ha(),h.hb(),gh);g=m;h=n}c=f}}ed(){return{cols:this.hm,rows:this.Gm,points:this.Vp.map(a=>a.map(b=>b.ed()))}}mc(a){const b=this.hm,c=this.Gm;if(a.cols!==b||a.rows!==c)throw Error("mesh data wrong size");a=a.points;for(let d=0;d<c;++d){const e=a[d];for(let f=0;f<b;++f)lh(this,f,d).mc(e[f])}}};"use strict";
const qh=self.B,rh=new Set(["rgba8","rgb8","rgba4","rgb5_a1","rgb565"]),sh=new Set(["nearest","bilinear","trilinear"]),th=new Set(["default","low","high"]),uh=new Set(["clamp-to-edge","repeat","mirror-repeat"]);
function vh(a,b){let c,d;switch(a){case "rgba8":a=b.RGBA8;d=c=b.RGBA;b=b.UNSIGNED_BYTE;break;case "rgb8":a=b.RGB8;d=c=b.RGB;b=b.UNSIGNED_BYTE;break;case "rgba4":a=b.RGBA4;d=c=b.RGBA;b=b.UNSIGNED_SHORT_4_4_4_4;break;case "rgb5_a1":a=b.RGB5_A1;d=c=b.RGBA;b=b.UNSIGNED_SHORT_5_5_5_1;break;case "rgb565":a=b.RGB565;d=c=b.RGB;b=b.UNSIGNED_SHORT_5_6_5;break;default:throw Error("invalid pixel format");}return{RN:a,gw:c,format:d,type:b}}
const wh={yq:"clamp-to-edge",zq:"clamp-to-edge",qc:"trilinear",bw:0,EN:"rgba8",Ao:!0,RA:"default",premultiplyAlpha:!0,MU:!1,width:-1,height:-1},xh={premultiplyAlpha:!0,flipY:!1},yh=new Set;function zh(a){return"clamp-to-edge"!==a.Im||"clamp-to-edge"!==a.Jm}
function Ah(a,b){var c=qh.Tj(a.P)&&qh.Tj(a.S);b.texParameteri(b.TEXTURE_2D,b.TEXTURE_WRAP_S,Bh(b,a.Im));b.texParameteri(b.TEXTURE_2D,b.TEXTURE_WRAP_T,Bh(b,a.Jm));"nearest"===a.Yb?(b.texParameteri(b.TEXTURE_2D,b.TEXTURE_MAG_FILTER,b.NEAREST),b.texParameteri(b.TEXTURE_2D,b.TEXTURE_MIN_FILTER,b.NEAREST),a.Nh=!1):(b.texParameteri(b.TEXTURE_2D,b.TEXTURE_MAG_FILTER,b.LINEAR),(c||a.O.Qo())&&a.Nh?(b.hint(b.GENERATE_MIPMAP_HINT,Ch(a,b)),b.generateMipmap(b.TEXTURE_2D),b.texParameteri(b.TEXTURE_2D,b.TEXTURE_MIN_FILTER,
"trilinear"!==a.Yb||a.O.XJ?b.LINEAR_MIPMAP_NEAREST:b.LINEAR_MIPMAP_LINEAR)):(b.texParameteri(b.TEXTURE_2D,b.TEXTURE_MIN_FILTER,b.LINEAR),a.Nh=!1));(c=a.O.Rx)&&0<a.vr&&"nearest"!==a.Yb&&b.texParameterf(b.TEXTURE_2D,c.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(a.vr,a.O.dL))}function Ch(a,b){if("default"===a.rs)return a.rf?b.NICEST:b.FASTEST;if("low"===a.rs)return b.FASTEST;if("high"===a.rs)return b.NICEST;throw Error("invalid mipmap quality");}
function Bh(a,b){if("clamp-to-edge"===b)return a.CLAMP_TO_EDGE;if("repeat"===b)return a.REPEAT;if("mirror-repeat"===b)return a.MIRRORED_REPEAT;throw Error("invalid wrap mode");}function Dh(a){if(0>=a.jc)throw Error("no more references");a.jc--}
qh.R.tC=class{constructor(a){this.O=a;this.Ta=null;this.S=this.P=0;this.rf=!0;this.Jm=this.Im="clamp-to-edge";this.Yb="trilinear";this.vr=0;this.Pp="rgba8";this.Nh=!1;this.rs="default";this.jc=0}cI(a,b,c){c=Object.assign({},wh,c);if(this.Ta)throw Error("already created texture");this.Im=c.yq;this.Jm=c.zq;this.Yb=c.qc;this.Pp=c.EN;this.Nh=!!c.Ao&&this.O.Or;this.rs=c.RA;if(!uh.has(this.Im)||!uh.has(this.Jm))throw Error("invalid wrap mode");if(!sh.has(this.Yb))throw Error("invalid sampling");if(!rh.has(this.Pp))throw Error("invalid pixel format");
if(!th.has(this.rs))throw Error("invalid mipmap quality");this.rf=!1;this.P=Math.floor(a);this.S=Math.floor(b);a=qh.Tj(this.P)&&qh.Tj(this.S);b=this.O.qv;if(0>=this.P||0>=this.S)throw Error("invalid texture size");if(this.P>b||this.S>b)throw Error("texture exceeds maximum texture size");if(!this.O.Qo()&&zh(this)&&!a)throw Error("non-power-of-two tiled textures not supported");a=this.O.ga;b=this.O.bd;this.Ta=a.createTexture();a.bindTexture(a.TEXTURE_2D,this.Ta);a.pixelStorei(a.UNPACK_PREMULTIPLY_ALPHA_WEBGL,
c.premultiplyAlpha);a.pixelStorei(a.UNPACK_FLIP_Y_WEBGL,!1);c=vh(this.Pp,a);a.texImage2D(a.TEXTURE_2D,0,2<=b?c.RN:c.gw,this.P,this.S,0,c.format,c.type,null);Ah(this,a);a.bindTexture(a.TEXTURE_2D,null);this.O.Wk=null;this.jc=1;yh.add(this)}GC(a){if(!("undefined"!==typeof HTMLImageElement&&a instanceof HTMLImageElement||"undefined"!==typeof HTMLVideoElement&&a instanceof HTMLVideoElement||"undefined"!==typeof HTMLCanvasElement&&a instanceof HTMLCanvasElement||"undefined"!==typeof ImageBitmap&&a instanceof
ImageBitmap||"undefined"!==typeof OffscreenCanvas&&a instanceof OffscreenCanvas||a instanceof ImageData))throw Error("invalid texture source");if(!this.Ta||0>=this.jc)throw Error("texture not created");if(this.rf)throw Error("cannot update static texture");var b=Object.assign({},xh,b);const c=a.width||a.videoWidth,d=a.height||a.videoHeight;var e=this.O.bd;const f=this.O.ga;f.bindTexture(f.TEXTURE_2D,this.Ta);f.pixelStorei(f.UNPACK_PREMULTIPLY_ALPHA_WEBGL,b.premultiplyAlpha);f.pixelStorei(f.UNPACK_FLIP_Y_WEBGL,
!!b.flipY);b=vh(this.Pp,f);e=2<=e?b.RN:b.gw;try{if(this.P===c&&this.S===d){const g=qh.Tj(this.P)&&qh.Tj(this.S);f.texSubImage2D(f.TEXTURE_2D,0,0,0,b.format,b.type,a);(g||this.O.Qo())&&this.Nh&&(f.hint(f.GENERATE_MIPMAP_HINT,Ch(this,f)),f.generateMipmap(f.TEXTURE_2D))}else{this.P=c;this.S=d;const g=qh.Tj(this.P)&&qh.Tj(this.S);if(!this.O.Qo()&&zh(this)&&!g)throw Error("non-power-of-two tiled textures not supported");f.texImage2D(f.TEXTURE_2D,0,e,b.format,b.type,a);(g||this.O.Qo())&&this.Nh&&(f.hint(f.GENERATE_MIPMAP_HINT,
Ch(this,f)),f.generateMipmap(f.TEXTURE_2D))}}catch(g){console.error("Error updating WebGL texture: ",g)}f.bindTexture(f.TEXTURE_2D,null);this.O.Wk=null}kr(){if(0<this.jc)throw Error("texture still has references");if(!this.Ta)throw Error("already deleted texture");yh.delete(this);this.O.ga.deleteTexture(this.Ta);this.Ta=null}za(){return this.O}M(){return this.P}K(){return this.S}Hl(){return this.rf}Jw(){let a=this.P*this.S;switch(this.Pp){case "rgba8":a*=4;break;case "rgb8":a*=3;break;case "rgba4":case "rgb5_a1":case "rgb565":a*=
2}this.Nh&&(a+=Math.floor(a/3));return a}static Wd(){yh.clear()}static JM(){return yh.values()}};"use strict";const Eh=self.me.tl,Fh=new Set(["nearest","bilinear","trilinear"]),Gh={qc:"trilinear",alpha:!0,depth:!1,Uj:!0,NA:!0,mw:0},Hh=new Set;function Ih(a){a.O.Sr===a.vE&&a.O.Jp===a.xE&&a.O.mp===a.uE||a.ir();return a.Dj}
self.B.R.xQ=class{constructor(a){this.O=a;this.um=this.Ta=this.Vr=this.Ai=null;this.S=this.P=0;this.Pn=!0;this.Yb="trilinear";this.$t=!0;this.te=!1;this.Ei=!0;this.ye=0;this.Dj=Eh.create();this.uE=this.xE=this.vE=0}Ex(a,b,c){c=Object.assign({},Gh,c);const d=this.O.bd;if(this.Ta||this.um)throw Error("already created render target");this.Yb=c.qc;this.$t=!!c.alpha;this.te=!!c.depth;this.Ei=!!c.Uj;this.Pn=!!c.NA;this.ye=c.mw;if(!Fh.has(this.Yb))throw Error("invalid sampling");if(0<this.ye&&(2>d||this.Ei))throw Error("invalid use of multisampling");
2>d&&(this.Ei=!0);this.P=a;this.S=b;if(0>=this.P||0>=this.S)throw Error("invalid render target size");this.ir();a=this.O.ga;this.Ai=a.createFramebuffer();this.te&&(this.Vr=a.createFramebuffer());this.Ei?(this.Ta=this.O.uw(this.P,this.S,{qc:this.Yb,EN:this.$t?"rgba8":"rgb8",Ao:!1}),b=this.Ta.Ta,a.bindFramebuffer(a.FRAMEBUFFER,this.Ai),a.framebufferTexture2D(a.FRAMEBUFFER,a.COLOR_ATTACHMENT0,a.TEXTURE_2D,b,0),this.te&&(a.bindFramebuffer(a.FRAMEBUFFER,this.Vr),a.framebufferTexture2D(a.FRAMEBUFFER,a.COLOR_ATTACHMENT0,
a.TEXTURE_2D,b,0))):(this.um=a.createRenderbuffer(),a.bindRenderbuffer(a.RENDERBUFFER,this.um),b=this.$t?a.RGBA8:a.RGB8,0<this.ye&&((c=a.getInternalformatParameter(a.RENDERBUFFER,b,a.SAMPLES))&&c[0]?(c=c[0],this.ye>c&&(this.ye=c)):this.ye=0),0===this.ye?a.renderbufferStorage(a.RENDERBUFFER,b,this.P,this.S):a.renderbufferStorageMultisample(a.RENDERBUFFER,this.ye,b,this.P,this.S),a.bindFramebuffer(a.FRAMEBUFFER,this.Ai),a.framebufferRenderbuffer(a.FRAMEBUFFER,a.COLOR_ATTACHMENT0,a.RENDERBUFFER,this.um),
this.te&&(a.bindFramebuffer(a.FRAMEBUFFER,this.Vr),a.framebufferRenderbuffer(a.FRAMEBUFFER,a.COLOR_ATTACHMENT0,a.RENDERBUFFER,this.um)),a.bindRenderbuffer(a.RENDERBUFFER,null));b=this.O.ue;this.te&&b&&(a.bindFramebuffer(a.FRAMEBUFFER,this.Ai),this.O.Xl?a.framebufferTexture2D(a.FRAMEBUFFER,a.DEPTH_STENCIL_ATTACHMENT,a.TEXTURE_2D,b,0):a.framebufferRenderbuffer(a.FRAMEBUFFER,a.DEPTH_STENCIL_ATTACHMENT,a.RENDERBUFFER,b));a.bindFramebuffer(a.FRAMEBUFFER,null);Hh.add(this)}Lx(a,b){if(this.P!==a||this.S!==
b)this.P=a,this.S=b,this.ir(),a=this.O.ga,a.bindFramebuffer(a.FRAMEBUFFER,this.Ai),this.Ta?this.Ta.GC(new ImageData(this.P,this.S)):(a.bindRenderbuffer(a.RENDERBUFFER,this.um),a.renderbufferStorage(a.RENDERBUFFER,this.$t?a.RGBA8:a.RGB8,this.P,this.S),a.bindRenderbuffer(a.RENDERBUFFER,null)),b=this.O.ue,this.te&&b&&(this.O.Xl?a.framebufferTexture2D(a.FRAMEBUFFER,a.DEPTH_STENCIL_ATTACHMENT,a.TEXTURE_2D,b,0):a.framebufferRenderbuffer(a.FRAMEBUFFER,a.DEPTH_STENCIL_ATTACHMENT,a.RENDERBUFFER,b)),a.bindFramebuffer(a.FRAMEBUFFER,
null)}kr(){if(!this.Ta&&!this.um)throw Error("already deleted render target");Hh.delete(this);var a=this.O.ga;this.Ta?(a.bindFramebuffer(a.FRAMEBUFFER,this.Ai),a.framebufferTexture2D(a.FRAMEBUFFER,a.COLOR_ATTACHMENT0,a.TEXTURE_2D,null,0),this.te&&(a.bindFramebuffer(a.FRAMEBUFFER,this.Vr),a.framebufferTexture2D(a.FRAMEBUFFER,a.COLOR_ATTACHMENT0,a.TEXTURE_2D,null,0)),this.O.bi(this.Ta),this.Ta=null):this.um&&(a.bindFramebuffer(a.FRAMEBUFFER,this.Ai),a.framebufferRenderbuffer(a.FRAMEBUFFER,a.COLOR_ATTACHMENT0,
a.RENDERBUFFER,null),this.te&&(a.bindFramebuffer(a.FRAMEBUFFER,this.Vr),a.framebufferRenderbuffer(a.FRAMEBUFFER,a.COLOR_ATTACHMENT0,a.RENDERBUFFER,null)),a.deleteRenderbuffer(this.um),this.um=null);a.bindFramebuffer(a.FRAMEBUFFER,null);2<=this.O.bd&&(a.bindFramebuffer(a.READ_FRAMEBUFFER,null),a.bindFramebuffer(a.DRAW_FRAMEBUFFER,null));a.deleteFramebuffer(this.Ai);this.te&&a.deleteFramebuffer(this.Vr);a=this.O.Rc;a.yo=null;this.Ai=a.rl=null}ir(){Rg(this.O,this.Dj,this.P/this.S);this.vE=this.O.Sr;
this.xE=this.O.Jp;this.uE=this.O.mp}za(){return this.O}lc(){return this.Ta}Pq(){return"nearest"!==this.Yb}Gt(){return this.Ei}M(){return this.P}K(){return this.S}XO(a){a=Object.assign({},Gh,a);return"nearest"!==a.qc!==this.Pq()||!!a.alpha!==this.$t||!!a.depth!==this.te||2<=this.O.bd&&!!a.Uj!==this.Gt()?!1:"number"===typeof a.width||"number"===typeof a.height?!this.Pn&&this.M()===Math.floor(a.width)&&this.K()===Math.floor(a.height):this.Pn}Jw(){return this.Ta?this.Ta.Jw():this.P*this.S*(this.$t?4:
3)}static Wd(){Hh.clear()}};"use strict";const Jh=self.B;
async function Kh(a,b){const c=a.ga,d=b.kt;var e=b.name;const f=c.createShader(c.FRAGMENT_SHADER);c.shaderSource(f,b.src);c.compileShader(f);b=c.createShader(c.VERTEX_SHADER);c.shaderSource(b,d);c.compileShader(b);const g=c.createProgram();c.attachShader(g,f);c.attachShader(g,b);c.bindAttribLocation(g,0,"aPos");c.bindAttribLocation(g,1,"aTex");c.bindAttribLocation(g,2,"aPoints");c.linkProgram(g);const h=a.BL;h?await Lh(()=>c.getProgramParameter(g,h.COMPLETION_STATUS_KHR)):await Jh.ZH(5);if(!c.getShaderParameter(f,
c.COMPILE_STATUS))throw e=c.getShaderInfoLog(f),c.deleteShader(f),c.deleteShader(b),c.deleteProgram(g),Error("Error compiling fragment shader: "+e);if(!c.getShaderParameter(b,c.COMPILE_STATUS))throw e=c.getShaderInfoLog(b),c.deleteShader(f),c.deleteShader(b),c.deleteProgram(g),Error("Error compiling vertex shader: "+e);if(!c.getProgramParameter(g,c.LINK_STATUS))throw e=c.getProgramInfoLog(g),c.deleteShader(f),c.deleteShader(b),c.deleteProgram(g),Error("Error linking shader program: "+e);(a=Jh.MW(c.getProgramInfoLog(g)||
"").trim())&&!Jh.uY(a)&&console.info(`[WebGL] Shader program '${e}' compilation log: `,a);c.deleteShader(f);c.deleteShader(b);return g}function Mh(a,b){if(!a.gE)throw Error("not device transform shader");Nh(a.sM,b);b=a.O;const c=b.M()/2,d=b.K()/2;b=Tg(b,c,d,b.Ee(b.K()),c,d,b.K());Nh(a.rM,b)}function Oh(a,b,c){a.VJ&&!c||a.gE||(a.sM.fa&&Nh(a.sM,b),a.VJ=!0)}function Ph(a,b,c){a.UJ&&!c||a.gE||(a.rM.fa&&Nh(a.rM,b),a.UJ=!0)}
function Qh(a){a=a?"highp":"mediump";return["#version 300 es\nin highp vec3 aPos;",`in ${a} vec2 aTex;`,`out ${a} vec2 vTex;`,"uniform highp mat4 matP;\nuniform highp mat4 matMV;\nvoid main(void) {\n\tgl_Position = matP * matMV * vec4(aPos, 1.0);\n\tvTex = aTex;\n}"].join("\n")}
Jh.R.uC=class extends Jh.R.jQ{static async Da(a,b){const c=await Kh(a,b);return new Jh.R.uC(a,c,b)}constructor(a,b,c){super(a,c);const d=a.ga;var e=a.Rc;a.ne();d.useProgram(b);this.ga=d;this.Ic=b;this.gE="<default-device-transform>"===c.name;const f=d.getAttribLocation(b,"aPos"),g=d.getAttribLocation(b,"aTex");this.ZK=d.getAttribLocation(b,"aPoints");-1!==f&&(d.bindBuffer(d.ARRAY_BUFFER,a.uo),d.vertexAttribPointer(f,3,d.FLOAT,!1,0,0),d.enableVertexAttribArray(f));-1!==g&&(d.bindBuffer(d.ARRAY_BUFFER,
a.jo),d.vertexAttribPointer(g,2,d.FLOAT,!1,0,0),d.enableVertexAttribArray(g));-1!==this.ZK&&(d.bindBuffer(d.ARRAY_BUFFER,a.ao),d.vertexAttribPointer(this.ZK,4,d.FLOAT,!1,0,0),d.enableVertexAttribArray(this.ZK));d.bindBuffer(d.ARRAY_BUFFER,null);this.sM=new Jh.R.vc(this,"matP","mat4");this.rM=new Jh.R.vc(this,"matMV","mat4");this.Ts=new Jh.R.vc(this,"color","vec4");this.Z2=new Jh.R.vc(this,"samplerFront","sampler");this.uM=new Jh.R.vc(this,"pointTexStart","vec2");this.tM=new Jh.R.vc(this,"pointTexEnd",
"vec2");this.vM=new Jh.R.vc(this,"zElevation","float");this.tA=new Jh.R.vc(this,"tileSize","vec2");this.uA=new Jh.R.vc(this,"tileSpacing","vec2");this.qM=new Jh.R.vc(this,"color2_","vec4");this.sA=new Jh.R.vc(this,"outlineThickness","float");this.Wv=new Jh.R.vc(this,"samplerBack","sampler");this.Y2=new Jh.R.vc(this,"samplerDepth","sampler");this.lq=new Jh.R.vc(this,"destStart","vec2");this.kq=new Jh.R.vc(this,"destEnd","vec2");this.pl=new Jh.R.vc(this,"srcStart","vec2");this.no=new Jh.R.vc(this,"srcEnd",
"vec2");this.qo=new Jh.R.vc(this,"srcOriginStart","vec2");this.po=new Jh.R.vc(this,"srcOriginEnd","vec2");this.hh=new Jh.R.vc(this,"pixelSize","vec2");this.rq=new Jh.R.vc(this,"seconds","float");this.mq=new Jh.R.vc(this,"devicePixelRatio","float");this.oq=new Jh.R.vc(this,"layerScale","float");this.nq=new Jh.R.vc(this,"layerAngle","float");this.qq=new Jh.R.vc(this,"layoutStart","vec2");this.pq=new Jh.R.vc(this,"layoutEnd","vec2");this.b3=new Jh.R.vc(this,"zNear","float");this.a3=new Jh.R.vc(this,
"zFar","float");this.Y1=!!(this.hh.fa||this.rq.fa||this.Wv.fa||this.lq.fa||this.kq.fa||this.pl.fa||this.no.fa||this.qo.fa||this.po.fa||this.mq.fa||this.oq.fa||this.nq.fa||this.qq.fa||this.pq.fa);b=c.parameters||[];this.Us=[];this.yA=this.hh.fa||this.pl.fa||this.no.fa||this.qo.fa||this.po.fa;this.UJ=this.VJ=!1;Rh(this.Ts);Rh(this.qM);Sh(this.Z2,0);Sh(this.Wv,1);Sh(this.Y2,2);Th(this.uM,0,0);Th(this.tM,1,1);Uh(this.vM,0);Th(this.tA,0,0);Th(this.uA,0,0);Th(this.lq,0,0);Th(this.kq,1,1);Th(this.pl,0,0);
Th(this.no,0,0);Th(this.qo,0,0);Th(this.po,0,0);Th(this.hh,0,0);Uh(this.mq,1);Uh(this.b3,a.Jp);Uh(this.a3,a.mp);Uh(this.oq,1);Uh(this.nq,0);Uh(this.rq,0);Th(this.qq,0,0);Th(this.pq,0,0);Uh(this.sA,1);for(const h of b)a=h[2],b=new Jh.R.vc(this,h[0],a),"color"===a?b.fa&&(b.dc[0]=0,b.dc[1]=0,b.dc[2]=0,b.Of.set(b.dc),b.ga.uniform3f(b.wj,0,0,0)):Uh(b,0),this.Us.push(b);this.gE?Mh(this,e.HA):(Oh(this,e.HA,!0),Ph(this,e.$F,!0));e=e.Zh;d.useProgram(e?e.Ic:null)}m(){this.ga.deleteProgram(this.Ic);this.Ic=
null;var a=this.O;const b=a.tr.indexOf(this);-1!==b&&a.tr.splice(b,1);a.Vz.delete(this.ea());this.ga=null;super.m()}Ge(){return this.Ic}FO(){return this.Us.length}Ow(a){return 0>a||a>=this.Us.length?null:this.Us[a].sc()}static ut(a){a=a?"highmedp":"mediump";return["#ifdef GL_FRAGMENT_PRECISION_HIGH\n#define highmedp highp\n#else\n#define highmedp mediump\n#endif\nattribute highp vec3 aPos;",`attribute ${a} vec2 aTex;`,`varying ${a} vec2 vTex;`,"uniform highp mat4 matP;\nuniform highp mat4 matMV;\nvoid main(void) {\n\tgl_Position = matP * matMV * vec4(aPos, 1.0);\n\tvTex = aTex;\n}"].join("\n")}static MB(a,
b,c){let d="";2<=a?d="#version 300 es\n":(b&&(d="#extension GL_EXT_frag_depth : enable\n"),c&&(d+="#extension GL_EXT_shader_texture_lod : enable\n#extension GL_OES_standard_derivatives : enable\n"));return d+`
#ifdef GL_FRAGMENT_PRECISION_HIGH
#define highmedp highp
#else
#define highmedp mediump
#endif
precision highmedp float;
${2<=a?"in":"varying"} vec2 vTex;
${2<=a?"out lowp vec4 outColor;":""}
uniform lowp vec4 color;
uniform lowp sampler2D samplerFront;
uniform vec2 pixelSize;

uniform vec2 tileSize;
uniform vec2 tileSpacing;
uniform float outlineThickness;

const float PI = 3.1415926;

lowp vec4 cospVec4(lowp vec4 a, lowp vec4 b, float x)
{
	return (a + b + (a - b) * cos(x * PI)) / 2.0;
}

vec3 randVec3(vec2 seed)
{
	return vec3(fract(sin(dot(seed.xy + vec2(0.1, 0.1), vec2(12.9898,78.233))) * 43758.5453),
				fract(sin(dot(seed.yx + vec2(0.1, 0.1), vec2(12.9898,-78.233))) * 43758.5453),
				fract(sin(dot(seed.xy + vec2(0.1, 0.1), vec2(-12.9898,-78.233))) * 43758.5453));
}

lowp vec4 sampleTile(vec2 tile, vec2 uv, vec2 ddx, vec2 ddy)
{
	vec2 posRandom = tileSize;
	float angleRandom = outlineThickness;
	
	vec3 rand = (randVec3(floor(tile + 0.5)) - 0.5) * 2.0;
	
	float angle = angleRandom * rand.z * PI;
	float sin_a = sin(angle);
	float cos_a = cos(angle);
	float aspect = pixelSize.x / pixelSize.y;

	vec2 mid = tile + vec2(0.5, 0.5);
	vec2 dp = uv - mid;
	dp.x /= aspect;
	vec2 r = vec2(dp.x * cos_a - dp.y * sin_a,
				  dp.y * cos_a + dp.x * sin_a);
	r.x *= aspect;

	vec2 p = mid + r + (posRandom * rand.xy / 2.0);
	
	${2<=a?"return textureGrad(samplerFront, p, ddx, ddy);":""}
	${2>a&&c?"return texture2DGradEXT(samplerFront, p, ddx, ddy);":""}
	${2>a&&!c?"return texture2D(samplerFront, p);":""}
}

void main(void) {
	
	${2>a?"lowp vec4 outColor;":""}
	
	float blendMarginX = tileSpacing.x;
	float blendMarginY = tileSpacing.y;
	
	vec2 tile = floor(vTex);
	vec2 tex = fract(vTex);
	vec2 ddx = ${2<=a||c?"dFdx(vTex)":"vec2(0.0, 0.0)"};
	vec2 ddy = ${2<=a||c?"dFdy(vTex)":"vec2(0.0, 0.0)"};
	
	vec4 curTile = sampleTile(tile, vTex, ddx, ddy);
	
	bool inLeftMargin = (tex.x < blendMarginX);
	bool inRightMargin = (tex.x > 1.0 - blendMarginX);
	bool inTopMargin = (tex.y < blendMarginY);
	bool inBottomMargin = (tex.y > 1.0 - blendMarginY);
	
	if (inLeftMargin)
	{
		lowp vec4 leftTile = sampleTile(tile + vec2(-1.0, 0.0), vTex, ddx, ddy);
		float leftMix = (tex.x / (blendMarginX * 2.0)) + 0.5;
		lowp vec4 leftMixedTile = cospVec4(leftTile, curTile, leftMix);
		
		if (inTopMargin)
		{
			lowp vec4 topTile =     sampleTile(tile + vec2(0.0,  -1.0), vTex, ddx, ddy);
			lowp vec4 topLeftTile = sampleTile(tile + vec2(-1.0, -1.0), vTex, ddx, ddy);
			lowp vec4 topLeftMixedTile = cospVec4(topLeftTile, topTile, leftMix);
			
			outColor = cospVec4(topLeftMixedTile, leftMixedTile, (tex.y / (blendMarginY * 2.0)) + 0.5);
		}
		else if (inBottomMargin)
		{
			lowp vec4 bottomTile =     sampleTile(tile + vec2(0.0,  1.0), vTex, ddx, ddy);
			lowp vec4 bottomLeftTile = sampleTile(tile + vec2(-1.0, 1.0), vTex, ddx, ddy);
			lowp vec4 bottomLeftMixedTile = cospVec4(bottomLeftTile, bottomTile, leftMix);
			
			outColor = cospVec4(leftMixedTile, bottomLeftMixedTile, (tex.y - (1.0 - blendMarginY)) / (blendMarginY * 2.0));
		}
		else
		{
			outColor = leftMixedTile;
		}
	}
	else if (inRightMargin)
	{
		lowp vec4 rightTile = sampleTile(tile + vec2(1.0, 0.0), vTex, ddx, ddy);
		float rightMix = (tex.x - (1.0 - blendMarginX)) / (blendMarginX * 2.0);
		lowp vec4 rightMixedTile = cospVec4(curTile, rightTile, rightMix);
		
		if (inTopMargin)
		{
			lowp vec4 topTile =      sampleTile(tile + vec2(0.0, -1.0), vTex, ddx, ddy);
			lowp vec4 topRightTile = sampleTile(tile + vec2(1.0, -1.0), vTex, ddx, ddy);
			lowp vec4 topRightMixedTile = cospVec4(topTile, topRightTile, rightMix);
			
			outColor = cospVec4(topRightMixedTile, rightMixedTile, (tex.y / (blendMarginY * 2.0)) + 0.5);
		}
		else if (inBottomMargin)
		{
			lowp vec4 bottomTile =      sampleTile(tile + vec2(0.0, 1.0), vTex, ddx, ddy);
			lowp vec4 bottomRightTile = sampleTile(tile + vec2(1.0, 1.0), vTex, ddx, ddy);
			lowp vec4 bottomRightMixedTile = cospVec4(bottomTile, bottomRightTile, rightMix);
			
			outColor = cospVec4(rightMixedTile, bottomRightMixedTile, (tex.y - (1.0 - blendMarginY)) / (blendMarginY * 2.0));
		}
		else
		{
			outColor = rightMixedTile;
		}
	}
	else if (inTopMargin)
	{
		lowp vec4 topTile = sampleTile(tile + vec2(0.0, -1.0), vTex, ddx, ddy);
		outColor = cospVec4(topTile, curTile, (tex.y / (blendMarginY * 2.0)) + 0.5);
	}
	else if (inBottomMargin)
	{
		lowp vec4 bottomTile = sampleTile(tile + vec2(0.0, 1.0), vTex, ddx, ddy);
		outColor = cospVec4(curTile, bottomTile, (tex.y - (1.0 - blendMarginY)) / (blendMarginY * 2.0));
	}
	else
	{
		outColor = curTile;
	}
	
	outColor *= color;
	${2>a?"gl_FragColor = outColor;":""}
	${2<=a?"gl_FragDepth = (outColor.a == 0.0 ? 1.0 : gl_FragCoord.z);":""}
	${2>a&&b?"gl_FragDepthEXT = (outColor.a == 0.0 ? 1.0 : gl_FragCoord.z);":""}
}
`}};"use strict";const Vh=self.B,Wh=self.me.tl,Xh=new Map([["float",1],["percent",1],["sampler",1],["vec2",2],["vec3",3],["color",3],["vec4",4],["mat4",16]]);function Rh(a){a.fa&&(a.dc[0]=1,a.dc[1]=1,a.dc[2]=1,a.dc[3]=1,a.Of.set(a.dc),a.ga.uniform4f(a.wj,1,1,1,1))}function Sh(a,b){a.fa&&(a.dc[0]=b,a.Of.set(a.dc),a.ga.uniform1i(a.wj,b))}function Th(a,b,c){a.fa&&(a.dc[0]=b,a.dc[1]=c,a.Of.set(a.dc),a.ga.uniform2f(a.wj,b,c))}function Uh(a,b){a.fa&&(a.dc[0]=b,a.Of.set(a.dc),a.ga.uniform1f(a.wj,b))}
function Yh(a,b,c){a=a.Of;return a[0]===Math.fround(b)&&a[1]===Math.fround(c)}function Zh(a,b,c){a=a.Of;a[0]=b;a[1]=c}function Nh(a,b){const c=a.dc;Wh.Vi(c,b)||(Vh.b5(c,b),a.ga.uniformMatrix4fv(a.wj,!1,b))}function ai(a,b,c,d,e){b=Math.fround(b);c=Math.fround(c);d=Math.fround(d);e=Math.fround(e);const f=a.dc;if(f[0]!==b||f[1]!==c||f[2]!==d||f[3]!==e)f[0]=b,f[1]=c,f[2]=d,f[3]=e,a.ga.uniform4f(a.wj,b,c,d,e)}function bi(a,b){b=Math.fround(b);const c=a.dc;c[0]!==b&&(c[0]=b,a.ga.uniform1f(a.wj,b))}
function ci(a,b,c){b=Math.fround(b);c=Math.fround(c);const d=a.dc;if(d[0]!==b||d[1]!==c)d[0]=b,d[1]=c,a.ga.uniform2f(a.wj,b,c)}Vh.R.vc=class{constructor(a,b,c){if(!Xh.has(c))throw Error("invalid uniform type");this.Mb=a;this.ga=this.Mb.ga;this.Ka=b;this.oa=c;this.sK="color"===this.oa;this.wj=this.ga.getUniformLocation(this.Mb.Ge(),b);this.fa=!!this.wj;a=Xh.get(c);this.dc=new Float32Array(a);this.Of=new Float32Array(a)}m(){this.wj=this.ga=this.Mb=null}sc(){return this.oa}};"use strict";
const di=self.B,ei=self.me,fi=ei.ZA,gi=ei.tl;di.R.TV=class{constructor(a){this.vq=a;this.$F=gi.create();this.HA=gi.create();this.rl=this.yo=null;this.JU=!1;this.ZF=fi.Cg(1,1,1,1);this.Zh=null;this.FN=new di.Rect;this.clearColor=di.A(di.bb,0,0,0,0)}};
di.R.x0=class{constructor(a){const b=new ArrayBuffer(96);this.oa=0;this.Rc=a;this.ga=a.vq.ga;this.Kn=this.vg=0;this.Xf=null;this.Pe=new Float32Array(b,0,16);this.Cn=new Float32Array(b,64,4);this.AT=new Float32Array(b,80,4);this.mF=[]}Aa(){switch(this.oa){case 1:var a=this.ga;a.drawElements(a.TRIANGLES,this.Kn,a.UNSIGNED_SHORT,this.vg);break;case 2:a=this.ga;var b=this.Xf;a.bindTexture(a.TEXTURE_2D,b?b.Ta:null);break;case 3:a=this.Cn;b=this.Rc;fi.wa(b.ZF,a);b=b.Zh;b.Ts.fa&&ai(b.Ts,a[0],a[1],a[2],a[3]);
break;case 4:this.ga.blendFunc(this.vg,this.Kn);break;case 5:a=this.Cn;this.ga.viewport(a[0],a[1],a[2],a[3]);break;case 6:a=this.Rc;b=a.vq.tr;var c=a.Zh,d=this.Pe;for(let l=0,m=b.length;l<m;++l){var e=b[l];e===c?Oh(e,d,!0):e.VJ=!1}gi.wa(a.HA,d);break;case 7:a=this.Rc;b=a.vq.tr;c=a.Zh;d=this.Pe;for(let l=0,m=b.length;l<m;++l)e=b[l],e===c?Ph(e,d,!0):e.UJ=!1;gi.wa(a.$F,d);break;case 8:a=this.ga;b=this.Xf;c=this.Rc;b?(c.yo=b.Ai,c.rl=b.Vr,c.JU&&c.rl?a.bindFramebuffer(a.FRAMEBUFFER,c.rl):a.bindFramebuffer(a.FRAMEBUFFER,
c.yo)):(c.yo=null,c.rl=null,a.bindFramebuffer(a.FRAMEBUFFER,null));break;case 9:a=this.ga;var f=this.Pe;b=this.Rc.clearColor;c=f[0];d=f[1];e=f[2];f=f[3];vd(b,c,d,e,f)||(a.clearColor(c,d,e,f),pd(b,c,d,e,f));a.clear(a.COLOR_BUFFER_BIT);break;case 10:a=this.ga;b=this.Rc;c=b.vq.dA;a.useProgram(c.Ic);Oh(c,b.HA,!1);Ph(c,b.$F,!1);d=b.FN;c.uM.fa&&ci(c.uM,d.$,d.V);c.tM.fa&&ci(c.tM,d.ja,d.da);d=this.Pe[0];c.vM.fa&&bi(c.vM,d);c.Ts.fa&&(d=b.ZF,ai(c.Ts,d[0],d[1],d[2],d[3]));a.drawArrays(a.POINTS,this.vg/4,this.Kn);
a.useProgram(b.Zh.Ic);break;case 11:b=this.ga;c=this.Rc;a=this.Xf;c.Zh=a;b.useProgram(a.Ic);Oh(a,c.HA,!1);Ph(a,c.$F,!1);a.Ts.fa&&(b=c.ZF,ai(a.Ts,b[0],b[1],b[2],b[3]));break;case 12:a=this.Rc.Zh;b=this.ga;c=this.Pe;d=this.Cn;e=this.AT;if(a.Wv.fa){f=this.Rc.vq;var g=this.Xf;f.Fp!==g&&(b.activeTexture(b.TEXTURE1),b.bindTexture(b.TEXTURE_2D,g?g.Ta:null),f.Fp=g,b.activeTexture(b.TEXTURE0))}a.hh.fa&&ci(a.hh,c[0],c[1]);a.lq.fa&&ci(a.lq,c[2],c[3]);a.kq.fa&&ci(a.kq,c[4],c[5]);a.mq.fa&&bi(a.mq,this.Kn);a.oq.fa&&
bi(a.oq,c[6]);a.nq.fa&&bi(a.nq,c[7]);a.pl.fa&&ci(a.pl,c[12],c[13]);a.no.fa&&ci(a.no,c[14],c[15]);a.qo.fa&&ci(a.qo,e[0],e[1]);a.po.fa&&ci(a.po,e[2],e[3]);a.qq.fa&&ci(a.qq,d[0],d[1]);a.pq.fa&&ci(a.pq,d[2],d[3]);a.rq.fa&&bi(a.rq,this.vg);break;case 13:a=this.Rc.Zh.Us;b=this.mF;for(let l=0,m=a.length;l<m;++l)if(c=a[l],f=b[l],c.sK){if(d=f.ab,e=f.ib,f=f.$a,d=Math.fround(d),e=Math.fround(e),f=Math.fround(f),g=c.dc,g[0]!==d||g[1]!==e||g[2]!==f)g[0]=d,g[1]=e,g[2]=f,c.ga.uniform3f(c.wj,d,e,f)}else bi(c,f);
break;case 14:a=this.ga;b=this.Xf;c=this.Rc.yo;b!==c&&a.bindFramebuffer(a.FRAMEBUFFER,b);a.invalidateFramebuffer(a.FRAMEBUFFER,[a.COLOR_ATTACHMENT0]);b!==c&&a.bindFramebuffer(a.FRAMEBUFFER,c);break;case 15:a=this.Pe;this.Rc.FN.set(a[0],a[1],a[2],a[3]);break;case 16:a=this.Rc.Zh;b=this.Pe;a.pl.fa&&ci(a.pl,b[0],b[1]);a.hh.fa&&ci(a.hh,b[4],b[5]);a.tA.fa&&ci(a.tA,b[6],b[7]);a.uA.fa&&ci(a.uA,b[8],b[9]);break;case 17:var h=this.Pe;d=this.mF;a=this.ga;e=h[0];b=h[1];f=h[2];c=h[3];g=0!==h[4];h=0!==h[5];const k=
d[1];a.bindFramebuffer(a.READ_FRAMEBUFFER,d[0]);a.bindFramebuffer(a.DRAW_FRAMEBUFFER,k);h?a.blitFramebuffer(0,0,e,b,0,0,f,c,a.COLOR_BUFFER_BIT,g?a.LINEAR:a.NEAREST):(d=Math.min(e,f),e=Math.min(b,c),f=Math.max(b-c,0),b=Math.max(c-b,0),a.blitFramebuffer(0,f,d,e+f,0,b,d,e+b,a.COLOR_BUFFER_BIT,a.NEAREST));break;case 18:this.Xf.BG();this.Xf=null;break;case 19:this.Xf.sB();this.Xf=null;break;case 20:a=this.Rc.Zh;b=this.Pe;a.hh.fa&&ci(a.hh,b[0],b[1]);a.sA.fa&&bi(a.sA,b[2]);break;case 21:a=this.Cn;b=this.Rc.Zh;
b.qM.fa&&ai(b.qM,a[0],a[1],a[2],a[3]);break;case 22:a=this.ga;(b=0!==this.vg)||a.depthMask(!0);a.clear(a.DEPTH_BUFFER_BIT);b||a.depthMask(!1);break;case 23:a=this.ga;0===this.vg?(a.disable(a.DEPTH_TEST),a.depthMask(!1)):(a.enable(a.DEPTH_TEST),a.depthMask(!0));break;case 24:a=this.ga;b=this.Rc;c=b.vq;d=0!==this.vg;b.JU=d;a.activeTexture(a.TEXTURE2);d?(b.rl&&a.bindFramebuffer(a.FRAMEBUFFER,b.rl),a.bindTexture(a.TEXTURE_2D,c.ue)):(a.bindTexture(a.TEXTURE_2D,null),b.rl&&a.bindFramebuffer(a.FRAMEBUFFER,
b.yo));a.activeTexture(a.TEXTURE0);break;case 25:a=this.ga;a.clear(a.STENCIL_BUFFER_BIT);a.enable(a.STENCIL_TEST);a.stencilFunc(a.ALWAYS,1,1);a.stencilOp(a.KEEP,a.KEEP,a.REPLACE);a.colorMask(!1,!1,!1,!1);break;case 26:a=this.ga;a.colorMask(!0,!0,!0,!0);a.stencilFunc(a.EQUAL,1,1);a.stencilOp(a.KEEP,a.KEEP,a.KEEP);break;case 27:a=this.ga;a.disable(a.STENCIL_TEST);break;case 28:a=this.ga;b=this.Pe;1===this.vg?(a.enable(a.SCISSOR_TEST),a.scissor(b[0],b[1],b[2],b[3])):a.disable(a.SCISSOR_TEST);break;case 29:a=
this.Rc.Zh,b=this.Pe,a.hh.fa&&ci(a.hh,b[0],b[1]),a.tA.fa&&ci(a.tA,b[2],b[3]),a.sA.fa&&bi(a.sA,b[4]),a.uA.fa&&ci(a.uA,b[5],b[6])}}};"use strict";const ii=self.B,ji=new Set("serif sans-serif monospace cursive fantasy system-ui ui-serif ui-sans-serif ui-monospace ui-rounded math emoji fangsong".split(" ")),ki={timeout:60},li=new ii.bb(0,0,0,1),mi=new Set(["left","center","right"]),ni=new Set(["top","center","bottom"]),oi=new Set(["word","cjk","character"]),pi=new Set(["ltr","rtl"]),qi=new Set;
ii.VW&&ii.VW.addEventListener("fontload",a=>{a=a.font.ea();for(const b of qi)(b.Jh||ii.vd(b.zD,a))&&ri(b)});function si(a,b){a=a.trim();const c=parseFloat(a);return isFinite(c)?a.endsWith("%")?b*c/100:c:0}let ti=!1,vi=!1;function ri(a){wi(a);a.TF=!0}
function xi(a,b){const c=b.ig()?b.kf.join(""):" ";var d=yi(a,!0,b);a.vS!==d&&(a.vS=d,a.xj.font=d,a.rv.font=d);b=Vf(b,"size");b=(b?parseFloat(b.bg):a.AD)*a.BD;d=a.xj.measureText(c);let e=0;a.Jh&&zi(a)&&(e=d.fontBoundingBoxAscent-a.rv.measureText(c).fontBoundingBoxAscent);return{width:d.width,height:4/3*b,fontBoundingBoxAscent:d.fontBoundingBoxAscent||0,fontBoundingBoxDescent:d.fontBoundingBoxDescent||0,ul:e}}
function Ai(a,b,c){a.ko||(a.ko=ii.mh(16,16));let d=!1;if(a.sS!==b||a.rS!==c)a.sS=b,a.rS=c,a.ko.width=b,a.ko.height=c,d=!0;a.Zc||(a.Zc=a.ko.getContext("2d"),d=!0);d?(a.Zc.textBaseline=a.Jh?"alphabetic":"top",a.Zc.direction=a.fh,a.Zc.font=a.OK,a.Zc.fillStyle=a.zE,a.Zc.strokeStyle=a.zE,a.Zc.globalAlpha=a.QK,a.Zc.lineWidth=a.PK):a.Zc.clearRect(0,0,b,c)}function wi(a){a.Lr=!0;a.AF=!0}function Bi(a,b){b||(b="serif");a.zD!==b&&(a.zD=b,ri(a))}function Ci(a,b){b=!!b;a.Kh!==b&&(a.Kh=b,ri(a))}
function Di(a,b){b=!!b;a.Lh!==b&&(a.Lh=b,ri(a))}function Ei(a,b){b=Math.floor(b);a.Mr!==b&&(a.Mr=b,a.Lr=!0)}function Fi(a){return a.qT*a.$v*self.devicePixelRatio}function yi(a,b,c){let d=[];(a.Kh||Vf(c,"b"))&&d.push("bold");(a.Lh||Vf(c,"i"))&&d.push("italic");var e=Vf(c,"size");e=(e?parseFloat(e.bg):a.AD)*a.BD;b?d.push(e+"pt"):d.push(e*Fi(a)+"pt");b=a.zD;(c=Vf(c,"font"))&&c.bg&&(b=c.bg,a.AN&&!a.JI.has(b)&&(a.AN(b),a.JI.add(b)));b&&(ji.has(b)?d.push(b):d.push('"'+b+'"'));return d.join(" ")}
function Gi(a,b){if(!mi.has(b))throw Error("invalid horizontal alignment");a.Ci!==b&&(a.Ci=b,wi(a))}function Hi(a,b){if(!ni.has(b))throw Error("invalid vertical alignment");a.jh!==b&&(a.jh=b,wi(a))}function Ii(a){a.TF&&(Ji(a),!a.Jh||a.$x&&a.$x.toString()===a.Pa||(a.$x=new ii.Nm(a.Pa,{RU:!0})),a.Qj.Cx(a.Jh?Gf(a.$x):a.Pa,a.KS,a.ru,a.Xh,0),a.TF=!1);a.AF&&(Ki(a),a.AF=!1)}function*Li(a,b){Ii(a);a=a.Qj.vj;for(const c of a)for(const d of c.uq())(a=Vf(d,"tag"))&&ii.vd(a.bg,b)&&(yield d)}
function Ji(a){a.xj||(a.xj=ii.mh(16,16).getContext("2d"),a.rv=ii.mh(16,16).getContext("2d"),a.xj.textBaseline=a.Jh?"alphabetic":"top",a.rv.textBaseline="top",a.xj.direction=a.fh,a.rv.direction=a.fh)}function zi(a){ti||(ti=!0,Ji(a),a=a.xj.measureText("test"),vi="number"===typeof a.fontBoundingBoxAscent&&"number"===typeof a.fontBoundingBoxDescent);return vi}
function Ki(a){const b=Fi(a),c=(4+a.Gp)*b;var d=0;const e=a.Qj.vj;if(0!==e.length){for(var f of e){f.zx(NaN);f.Ax(NaN);for(var g of f.uq())g.zx(NaN),g.Ax(NaN)}g=a.Jh&&zi(a);f=e[0].K()*b;"center"===a.jh?(d=e.reduce((h,k)=>h+k.K()*b+c,0)-c,d=Math.max(a.S/2-d/2,0),g&&(f=e[0].jq*b)):"bottom"===a.jh&&(d=e.reduce((h,k)=>h+k.K()*b+c,0)-a.Gp*b,g=g?e.at(-1).gm*b:0,d=a.S-d-g-2);for(let h=0,k=e.length;h<k;++h){g=e[h];const l=g.K()*b,m=d;if(a.Jh){if(d+=0===h?f:l,0<h&&d>a.S-4*b)break}else if(0<h&&d>=a.S-l)break;
0<=m&&Mi(a,g,d,b);a.Jh||(d+=l);d+=c}}}function Ni(a,b){a.zE!==b&&(a.zE=b,a.Zc.fillStyle=b,a.Zc.strokeStyle=b)}function Oi(a,b){a.PK!==b&&(a.PK=b,a.Zc.lineWidth=b)}
function Mi(a,b,c,d){let e=0;"center"===a.Ci?e=(a.P-b.M()*d)/2:"right"===a.Ci&&(e=a.P-b.M()*d);b.zx(e);b.Ax(c);for(const k of"ltr"===a.fh?b.uq():Uf(b)){a=k;b=e;var f=c,g=d,h=Vf(a,"offsetx");b+=h?si(h.bg,a.K())*g:0;h=Vf(a,"offsety");f+=h?si(h.bg,a.K())*g:0;a.an()&&(h=Vf(a,"iconoffsety"),f+=h?si(h.bg,a.K())*g:.2*a.K()*g);a.zx(b);a.Ax(f);e+=k.M()*d}}
function Pi(a,b,c,d,e,f){"rtl"===a.fh&&(d+=f);b?"Gecko"===ii.W.Eg?a.Zc.strokeText(c,d,e,f):a.Zc.strokeText(c,d,e):"Gecko"===ii.W.Eg?a.Zc.fillText(c,d,e,f):a.Zc.fillText(c,d,e)}
ii.R.hC=class{constructor(a,b){b=Object.assign({},ki,b);this.O=a;this.zD="Arial";this.AD=16;this.BD=1;this.Gp=0;this.Lh=this.Kh=!1;this.cD="black";this.Jh=!1;this.jm=null;this.cK=!0;this.AN=null;this.JI=new Set;this.Ci="left";this.jh="top";this.Pa="";this.$x=null;this.Qj=ii.A(ii.Cx);this.Xh="word";this.fh="ltr";this.Lr=this.AF=this.TF=!1;this.Mr=-1;this.S=this.P=this.iJ=this.ru=this.yu=0;this.$v=1;this.rv=this.xj=this.Zc=this.ko=null;this.rS=this.sS=-1;this.zE=this.vS=this.OK="";this.PK=this.QK=1;
this.KS=c=>xi(this,c);this.Ta=null;this.Mi=new ii.Rect;this.qT=1;this.lM=new ii.TX(()=>{this.Kl();Ai(this,8,8)},b.timeout);this.jG=null;this.Zv=!1;qi.add(this)}m(){this.AN=null;this.JI.clear();this.KS=this.rv=this.xj=this.Zc=this.ko=this.$x=this.jm=null;this.lM.m();this.jG=null;this.Kl();this.Qj.fe();this.O=this.Qj=null;this.Zv=!0;qi.delete(this)}xx(a){this.jm!==a&&(this.jm=a,this.Qj.xx(a),this.jm&&this.jm.Mh&&dg(this.jm).then(()=>{this.Lr=!0}),ri(this))}MH(a){.1>a&&(a=.1);this.AD!==a&&(this.AD=a,
ri(this))}OH(a){this.Gp!==a&&(this.Gp=a,wi(this))}mk(a){a instanceof ii.bb&&(a=yd(a));this.cD!==a&&(this.cD=a,this.Lr=!0)}hQ(a){if(!pi.has(a))throw Error("invalid text direction");this.fh!==a&&(this.fh=a,this.Zc&&(this.Zc.direction=this.fh),this.xj&&(this.xj.direction=this.fh),ri(this))}Ql(a){this.Pa!==a&&(this.Pa=a,ri(this))}Tw(){return this.Pa}uc(a,b,c){"undefined"===typeof c&&(c=1);if(!(0>=a||0>=a||this.ru===a&&this.iJ===b&&this.$v===c)){var d=this.ru;this.ru=a;this.iJ=b;this.$v=c;a=self.devicePixelRatio;
this.P=this.ru*this.$v*a;this.S=this.iJ*this.$v*a;a=Math.max(this.P,this.S);b=Math.min(this.O.qv,4096);c=1;a>b&&(c=b/a,this.P=Math.min(this.P*c,b),this.S=Math.min(this.S*c,b));this.qT=c;this.ru!==d?ri(this):wi(this)}}M(){return this.P}K(){return this.S}lc(){this.lM.Dc();if(!(this.Ta&&!this.Lr&&!this.AF&&!this.TF||this.Zv||0>=this.P||0>=this.S||(this.Lr=!1,this.Zv))){Ii(this);Ai(this,Math.max(ii.bt(Math.ceil(this.P)),128),Math.max(ii.bt(Math.ceil(this.S)),64));this.Zc.imageSmoothingEnabled=this.cK;
this.Zc.imageSmoothingQuality="high";this.yu=0;const u=Fi(this);var a=this.Qj.vj;for(const r of a)if(a=r.Sp,Number.isFinite(r.Rp)&&Number.isFinite(a))for(const t of"ltr"===this.fh?r.uq():Uf(r))a:{var b=t,c=u,d=r.K();a=this.Zc;const v=b.Rp,w=b.Sp;if(Number.isFinite(v)&&Number.isFinite(w)){var e=d/16;d=b.M()*c;var f=b.K()*c,g=b.K()/16,h=(4+this.Gp)*c,k=b.ig()?b.kf:null;if(-1!==this.Mr){if(this.yu>=this.Mr)break a;b.ig()&&this.yu+k.length>this.Mr&&(k=k.slice(0,this.Mr-this.yu),d=xi(this,b).width*c);
this.yu+=b.Nw()}var l=Vf(b,"background"),m=!!Vf(b,"u"),n=!!Vf(b,"s");if((!b.ig()||!ii.WO(k)||l||m||n)&&!Vf(b,"hide")){var p=Vf(b,"color"),q=Vf(b,"opacity");q=q?parseFloat(q.bg)/100:1;this.QK!==q&&(this.QK=q,this.Zc.globalAlpha=q);l&&(Ni(this,l.bg),a.fillRect(v,w-f,d,f+h));h=(h=Vf(b,"linethickness"))?parseFloat(h.bg):1;(l=!!Vf(b,"stroke"))&&Oi(this,.5*g*h*Fi(this));b.ig()?(k=k.join(""),q=yi(this,!1,b),this.OK!==q&&(this.OK=q,this.Zc.font=q),!l&&(Oi(this,.5*g*h*Fi(this)),q=Vf(b,"outlineback"))&&(Ni(this,
q.bg),Pi(this,!0,k,v,w,d)),Ni(this,p?p.bg:this.cD),Pi(this,l,k,v,w,d),!l&&(Oi(this,.5*g*h*Fi(this)),b=Vf(b,"outline"))&&(Ni(this,b.bg),Pi(this,!0,k,v,w,d))):b.an()&&0<b.M()&&(b=b.MG(this.jm))&&a.drawImage(b,v,w-f,d,f);Ni(this,p?p.bg:this.cD);m&&(m=a,p=v,b=w+c*e,k=d,e=c*e*h,l?m.strokeRect(p,b,k,e):m.fillRect(p,b,k,e));n&&(c*=g,a.fillRect(v,w-f/4+c/2-c*h/2,d,c*h))}}}this.O.hk()||(this.Ta||(this.Ta=this.O.uw(this.ko.width,this.ko.height,{Ao:!0,RA:"high"})),this.O.sQ(this.ko,this.Ta),this.Mi.set(0,0,
this.P/this.Ta.M(),this.S/this.Ta.K()),this.jG&&this.jG());this.lM.Dc()}return this.Ta}fk(){return this.Mi}Kl(){this.Ta&&(this.O.hk()||this.O.bi(this.Ta),this.Ta=null)}static Wd(){for(const a of qi)a.Kl()}};"use strict";const Qi=self.B;function Ri(a){a.Ej&&(1===a.bd?a.We.deleteQueryEXT(a.Ej):a.ga.deleteQuery(a.Ej),a.Ej=null)}
class Si{constructor(a){this.ga=a.ga;this.bd=a.bd;this.We=a.We;this.Ej=null;this.Sy=this.Pb=!1;this.co=0;this.Ej=1===this.bd?this.We.createQueryEXT():this.ga.createQuery()}m(){Ri(this);this.We=this.ga=null;this.Sy=!1}BG(){if(this.Pb)throw Error("query already active");1===this.bd?this.We.beginQueryEXT(this.We.TIME_ELAPSED_EXT,this.Ej):this.ga.beginQuery(this.We.TIME_ELAPSED_EXT,this.Ej);this.Pb=!0}sB(){if(!this.Pb)throw Error("query not active");1===this.bd?this.We.endQueryEXT(this.We.TIME_ELAPSED_EXT):
this.ga.endQuery(this.We.TIME_ELAPSED_EXT);this.Pb=!1}EG(){if(this.Ej&&!this.Sy&&!this.Pb){var a=1===this.bd?this.We.getQueryObjectEXT(this.Ej,this.We.QUERY_RESULT_AVAILABLE_EXT):this.ga.getQueryParameter(this.Ej,this.ga.QUERY_RESULT_AVAILABLE);var b=this.ga.getParameter(this.We.GPU_DISJOINT_EXT);a&&!b&&(this.co=1===this.bd?this.We.getQueryObjectEXT(this.Ej,this.We.QUERY_RESULT_EXT):this.ga.getQueryParameter(this.Ej,this.ga.QUERY_RESULT),this.co/=1E9,this.Sy=!0);(a||b)&&Ri(this)}}Zw(){return this.Sy}Pw(){if(!this.Sy)throw Error("no result available");
return this.co}}function Ti(a){a.Yp=Qi.A(Si,a.O);a.Es.push(a.Yp);a.Yp.BG()}
Qi.R.z0=class{constructor(a){this.O=a;this.Mf=a.Mf;this.Pb=!1;this.Mp=null;this.zp=!1;this.Yp=null;this.Es=[]}m(){for(const a of this.Es)a instanceof Si&&a.m();Qi.H(this.Es);this.O=this.Yp=this.Mp=null}BG(){if(this.Pb)throw Error("query already active");const a=this.O.HT;if(0<a.length){this.zp=!0;var b=this.Mp=a.at(-1);b.Yp.sB();b.Yp=null;this.Mp.Es.push(this)}else this.zp=!1,this.Mp=null;this.Pb=!0;a.push(this);Ti(this)}sB(){if(!this.Pb)throw Error("query not active");if(this.O.HT.pop()!==this)throw Error("can only end most nested query");
this.Pb=!1;this.Yp.sB();this.Yp=null;this.Mp&&(Ti(this.Mp),this.Mp=null)}EG(){for(const a of this.Es)a.EG()}Zw(){return this.Es.every(a=>a.Zw())}Pw(){return this.Es.reduce((a,b)=>a+b.Pw(),0)}};"use strict";const Ui=self.B;function Vi(a){const b=new Ui.R.z0(a.O);a.Rb.push(b);a.Rb.length>a.w2&&a.Rb.shift().m();return b}function Wi(a,b,c){if(c<=b)return NaN;let d=0;for(const e of a.Rb){if(e.Mf>=c)break;if(!(e.Mf<b))if(e.Zw())d+=e.Pw();else return NaN}return d}
function Xi(a,b){for(let c=0,d=a.Rb.length;c<d;++c){const e=a.Rb[c];if(e.Mf<b)e.m();else{0<c&&a.Rb.splice(0,c);break}}}Ui.R.wQ=class{constructor(a,b=1E3){this.O=a;this.w2=b;this.Rb=[];this.O.JC.add(this)}m(){this.fe();this.O.JC.delete(this);this.O=null}fe(){for(const a of this.Rb)a.m();Ui.H(this.Rb)}};"use strict";
const Yi=self.B,Zi=self.me,$i=Zi.ZA,aj=Zi.tl,bj={powerPreference:"default",yU:!0,alpha:!1,depth:!1,GA:!1,OU:2,failIfMajorPerformanceCaveat:!1},cj=new Set(["default","low-power","high-performance"]),dj=new Yi.Jd(0,0,1,0,1,1,0,1),ej=aj.create(),fj=aj.create(),gj=new Yi.Jd,hj=new Yi.Rect;let ij=null;Yi.MA&&(self.yga=function(){ij?ij.loseContext():console.warn("WEBGL_lose_context not supported")},self.zga=function(){ij?ij.restoreContext():console.warn("WEBGL_lose_context not supported")});const jj=new Set;
let kj=-1;function lj(){kj=-1;for(const a of jj)a.o3()&&(a.resolve(),jj.delete(a));0<jj.size&&(kj=self.requestAnimationFrame(lj))}function Lh(a){const b=new Promise(c=>jj.add({resolve:c,o3:a}));-1===kj&&(kj=self.requestAnimationFrame(lj));return b}function mj(a,b,c){const d=a.AA;if(0!==d[0]||0!==d[1]||d[2]!==b||d[3]!==c){var e=nj(a);e.oa=5;e=e.Cn;e[0]=0;e[1]=0;e[2]=b;e[3]=c;$i.set(d,0,0,b,c);a.kc=0}}function nj(a){const b=a.Zx;a.bp===b.length&&b.push(new Yi.R.x0(a.Rc));return b[a.bp++]}
function oj(a){a.Ff(1,1,1,1)}function pj(a,b,c){if(b!==a.NK||c!==a.LK){var d=nj(a);d.oa=4;d.vg=b;d.Kn=c;a.NK=b;a.LK=c;a.kc=0;a.ng=null}}function qj(a){let b=a.Nj;b>=a.wS&&(a.ne(),b=0);if(1===a.kc)a.Zx[a.bp-1].Kn+=6;else{var c=nj(a);c.oa=1;c.vg=b;c.Kn=6;a.kc=1}}function rj(a,b){Nd(b,a.Mj,a.Nj,a.Eh+a.Fn);a.Nj+=12}function sj(a,b){if(a.yh()){var c=nj(a);c.oa=19;c.Xf=b;a.kc=0}}
Yi.R.y0=class extends Yi.R.MP{constructor(a,b){super(b);b=Object.assign({},bj,b);if(!cj.has(b.powerPreference))throw Error("invalid power preference");const c={alpha:!!b.alpha,depth:!1,antialias:!1,powerPreference:b.powerPreference,failIfMajorPerformanceCaveat:!!b.failIfMajorPerformanceCaveat};let d=null,e=0;2<=b.OU&&(d=a.getContext("webgl2",c),e=2);d||(d=a.getContext("webgl",c),e=1);if(!d)throw Error("renderer-unavailable (could not get WebGL context)");this.ga=d;d.getContextAttributes();d.getParameter(d.VERSION);
this.bd=e;this.AA=$i.create();this.ip=!1;this.NC=aj.create();this.Fm=!!b.depth;this.Xl=!(!b.depth||!b.GA);this.fz=this.Fm;this.tK=!1;this.ue=null;this.rK=!0;this.wy=this.yy=0;this.ao=this.up=this.jo=this.uo=null;this.Mj=new Float32Array(24E3);this.Su=new Uint16Array(12E3);this.Uh=new Float32Array(16E3);this.wv=new Float32Array(32E3);this.wS=this.Qp=this.Yf=this.Nj=0;this.Js=this.Ep=null;this.Zx=[];this.kc=this.bp=0;this.rb=null;this.Rc=Yi.A(Yi.R.TV,this);this.qz=Yi.A(Yi.bb,1,1,1,1);this.Fp=this.Wk=
null;this.LK=this.NK=0;this.t2=new Yi.Rect;this.yE=Yi.A(Yi.Rect,0,0,-1,-1);this.eD=0;this.qv=-1;this.fL=0;this.vA="(unavailable)";this.yK=!1;this.kM=this.gM=this.KJ=this.Ay=this.Rx=this.BL=null;this.dL=0;this.m2=!!b.yU;this.We=null;this.JC=new Set;this.HT=[];Og(this.Su)}ej(){return!0}async Mq(){super.Mq();var a=this.ga;pd(this.qz,1,1,1,1);this.Fp=this.Wk=null;this.Qp=this.Nj=0;this.wS=23988;Yi.H(this.Zx);this.kc=this.bp=0;this.rb=this.Ep=null;this.t2.set(0,0,1,1);var b=this.Rc;b.Zh=null;b.yo=null;
b.rl=null;$i.set(b.ZF,1,1,1,1);pd(b.clearColor,0,0,0,0);b.FN.set(0,0,1,1);a.clearColor(0,0,0,0);a.clear(a.COLOR_BUFFER_BIT);a.enable(a.BLEND);a.blendFunc(a.ONE,a.ONE_MINUS_SRC_ALPHA);this.NK=a.ONE;this.LK=a.ONE_MINUS_SRC_ALPHA;this.kI(a);a.disable(a.CULL_FACE);a.disable(a.STENCIL_TEST);a.disable(a.DITHER);this.Fm?(a.enable(a.DEPTH_TEST),a.depthMask(!0),a.depthFunc(a.LEQUAL)):(a.disable(a.DEPTH_TEST),a.depthMask(!1));this.fz=this.Fm;this.tK=!1;this.ao=a.createBuffer();a.bindBuffer(a.ARRAY_BUFFER,this.ao);
a.bufferData(a.ARRAY_BUFFER,this.wv.byteLength,a.DYNAMIC_DRAW);this.uo=a.createBuffer();a.bindBuffer(a.ARRAY_BUFFER,this.uo);a.bufferData(a.ARRAY_BUFFER,this.Mj.byteLength,a.DYNAMIC_DRAW);this.jo=a.createBuffer();a.bindBuffer(a.ARRAY_BUFFER,this.jo);a.bufferData(a.ARRAY_BUFFER,this.Uh.byteLength,a.DYNAMIC_DRAW);this.up=a.createBuffer();a.bindBuffer(a.ELEMENT_ARRAY_BUFFER,this.up);a.bufferData(a.ELEMENT_ARRAY_BUFFER,this.Su,a.STATIC_DRAW);a.activeTexture(a.TEXTURE0);a.bindTexture(a.TEXTURE_2D,null);
this.qv=a.getParameter(a.MAX_TEXTURE_SIZE);this.fL=a.getParameter(a.ALIASED_POINT_SIZE_RANGE)[1];2048<this.fL&&(this.fL=2048);if(b=a.getExtension("WEBGL_debug_renderer_info"))a.getParameter(b.UNMASKED_VENDOR_WEBGL),this.vA=a.getParameter(b.UNMASKED_RENDERER_WEBGL);this.BL=a.getExtension("KHR_parallel_shader_compile");Yi.MA&&(ij=a.getExtension("WEBGL_lose_context"));this.m2&&(this.We=1===this.bd?a.getExtension("EXT_disjoint_timer_query"):a.getExtension("EXT_disjoint_timer_query_webgl2")||a.getExtension("EXT_disjoint_timer_query"));
this.dL=(this.Rx=a.getExtension("EXT_texture_filter_anisotropic"))?a.getParameter(this.Rx.MAX_TEXTURE_MAX_ANISOTROPY_EXT):0;if(2>this.bd&&this.Fm&&this.Xl&&(this.Ay=a.getExtension("WEBGL_depth_texture"),!this.Ay))throw Error("no depth texture support");2>this.bd&&(this.KJ=a.getExtension("EXT_frag_depth"),this.gM=a.getExtension("OES_standard_derivatives"),this.kM=a.getExtension("EXT_shader_texture_lod"));a=Yi.R.uC;b=a.ut(!1);let c="varying mediump vec2 vTex;\nuniform lowp vec4 color;\nuniform lowp sampler2D samplerFront;\nvoid main(void) {\n\tgl_FragColor = texture2D(samplerFront, vTex) * color;\n}",
d=b,e="uniform lowp sampler2D samplerFront;\nvarying lowp float pointOpacity;\nuniform mediump vec2 pointTexStart;\nuniform mediump vec2 pointTexEnd;\nuniform lowp vec4 color;\nvoid main(void) {\n\tmediump vec2 pointTexMin = min(pointTexStart, pointTexEnd);\n\tmediump vec2 pointTexMax = max(pointTexStart, pointTexEnd);\n\tmediump vec2 pointCoord = (pointTexEnd.x > pointTexStart.x ? gl_PointCoord : vec2(1.0 - gl_PointCoord.y, gl_PointCoord.x));\n\tgl_FragColor = texture2D(samplerFront, mix(pointTexMin, pointTexMax, pointCoord)) * color * pointOpacity;\n}",
f="attribute vec4 aPoints;\nvarying float pointOpacity;\nuniform float zElevation;\nuniform mat4 matP;\nuniform mat4 matMV;\nvoid main(void) {\n\tgl_Position = matP * matMV * vec4(aPoints.xy, zElevation, 1.0);\n\tgl_PointSize = aPoints.z;\n\tpointOpacity = aPoints.w;\n}",g="#ifdef GL_FRAGMENT_PRECISION_HIGH\n#define highmedp highp\n#else\n#define highmedp mediump\n#endif\nvarying highmedp vec2 vTex;\nuniform lowp vec4 color;\nuniform lowp sampler2D samplerFront;\nuniform highmedp vec2 srcStart;\nuniform highmedp vec2 pixelSize;\nuniform highmedp vec2 tileSize;\nuniform highmedp vec2 tileSpacing;\nvoid main(void) {\n\thighmedp vec2 tile = floor(vTex);\n\thighmedp vec2 tex = fract(vTex);\n\thighmedp vec2 tileOrigin = srcStart + tile * (tileSize + tileSpacing);\n\thighmedp vec2 lowerBound = tileOrigin + pixelSize / 2.0;\n\thighmedp vec2 upperBound = tileOrigin + tileSize - pixelSize / 2.0;\n\tgl_FragColor = texture2D(samplerFront, clamp(tex, lowerBound, upperBound), -16.0) * color;\n}",
h=a.ut(!0),k=!1;this.Fm&&(2>this.bd?this.KJ&&(c="#extension GL_EXT_frag_depth : enable\nvarying mediump vec2 vTex;\nuniform lowp vec4 color;\nuniform lowp sampler2D samplerFront;\nvoid main(void) {\n\tgl_FragColor = texture2D(samplerFront, vTex) * color;\n\tgl_FragDepthEXT = (gl_FragColor.a == 0.0 ? 1.0 : gl_FragCoord.z);\n}",e="#extension GL_EXT_frag_depth : enable\nuniform lowp sampler2D samplerFront;\nvarying lowp float pointOpacity;\nuniform mediump vec2 pointTexStart;\nuniform mediump vec2 pointTexEnd;\nuniform lowp vec4 color;\nvoid main(void) {\n\tmediump vec2 pointTexMin = min(pointTexStart, pointTexEnd);\n\tmediump vec2 pointTexMax = max(pointTexStart, pointTexEnd);\n\tmediump vec2 pointCoord = (pointTexEnd.x > pointTexStart.x ? gl_PointCoord : vec2(1.0 - gl_PointCoord.y, gl_PointCoord.x));\n\tgl_FragColor = texture2D(samplerFront, mix(pointTexMin, pointTexMax, pointCoord)) * color * pointOpacity;\n\tgl_FragDepthEXT = (gl_FragColor.a == 0.0 ? 1.0 : gl_FragCoord.z);\n}",
g="#extension GL_EXT_frag_depth : enable\n#ifdef GL_FRAGMENT_PRECISION_HIGH\n#define highmedp highp\n#else\n#define highmedp mediump\n#endif\nvarying highmedp vec2 vTex;\nuniform lowp vec4 color;\nuniform lowp sampler2D samplerFront;\nuniform highmedp vec2 srcStart;\nuniform highmedp vec2 pixelSize;\nuniform highmedp vec2 tileSize;\nuniform highmedp vec2 tileSpacing;\nvoid main(void) {\n\thighmedp vec2 tile = floor(vTex);\n\thighmedp vec2 tex = fract(vTex);\n\thighmedp vec2 tileOrigin = srcStart + tile * (tileSize + tileSpacing);\n\thighmedp vec2 lowerBound = tileOrigin + pixelSize / 2.0;\n\thighmedp vec2 upperBound = tileOrigin + tileSize - pixelSize / 2.0;\n\tgl_FragColor = texture2D(samplerFront, clamp(tex, lowerBound, upperBound), -16.0) * color;\n\tgl_FragDepthEXT = (gl_FragColor.a == 0.0 ? 1.0 : gl_FragCoord.z);\n}",
k=!0):(d=Qh(),c="#version 300 es\nin mediump vec2 vTex;\nout lowp vec4 outColor;\nuniform lowp vec4 color;\nuniform lowp sampler2D samplerFront;\nvoid main(void) {\n\toutColor = texture(samplerFront, vTex) * color;\n\tgl_FragDepth = (outColor.a == 0.0 ? 1.0 : gl_FragCoord.z);\n}",e="#version 300 es\nuniform lowp sampler2D samplerFront;\nin lowp float pointOpacity;\nuniform mediump vec2 pointTexStart;\nuniform mediump vec2 pointTexEnd;\nuniform lowp vec4 color;\nout lowp vec4 outColor;\nvoid main(void) {\n\tmediump vec2 pointTexMin = min(pointTexStart, pointTexEnd);\n\tmediump vec2 pointTexMax = max(pointTexStart, pointTexEnd);\n\tmediump vec2 pointCoord = (pointTexEnd.x > pointTexStart.x ? gl_PointCoord : vec2(1.0 - gl_PointCoord.y, gl_PointCoord.x));\n\toutColor = texture(samplerFront, mix(pointTexMin, pointTexMax, pointCoord)) * color * pointOpacity;\n\tgl_FragDepth = (outColor.a == 0.0 ? 1.0 : gl_FragCoord.z);\n}",
f="#version 300 es\nin vec4 aPoints;\nout float pointOpacity;\nuniform float zElevation;\nuniform mat4 matP;\nuniform mat4 matMV;\nvoid main(void) {\n\tgl_Position = matP * matMV * vec4(aPoints.xy, zElevation, 1.0);\n\tgl_PointSize = aPoints.z;\n\tpointOpacity = aPoints.w;\n}",g="#version 300 es\nin highp vec2 vTex;\nout lowp vec4 outColor;\nuniform lowp vec4 color;\nuniform lowp sampler2D samplerFront;\nuniform highp vec2 srcStart;\nuniform highp vec2 pixelSize;\nuniform highp vec2 tileSize;\nuniform highp vec2 tileSpacing;\nvoid main(void) {\n\thighp vec2 tile = floor(vTex);\n\thighp vec2 tex = fract(vTex);\n\thighp vec2 tileOrigin = srcStart + tile * (tileSize + tileSpacing);\n\thighp vec2 lowerBound = tileOrigin + pixelSize / 2.0;\n\thighp vec2 upperBound = tileOrigin + tileSize - pixelSize / 2.0;\n\toutColor = texture(samplerFront, clamp(tex, lowerBound, upperBound), -16.0) * color;\n\tgl_FragDepth = (outColor.a == 0.0 ? 1.0 : gl_FragCoord.z);\n}",
h=Qh(!0)));a=await Promise.all([[c,d,"<default>"],[c,d,"<default-device-transform>"],[e,f,"<point>"],["uniform lowp vec4 color;\nvoid main(void) {\n\tgl_FragColor = color;\n}",b,"<fill>"],["precision lowp float;\nvarying mediump vec2 vTex;\nuniform vec4 color;\nuniform vec4 color2_;\nvec3 fromLinear(vec3 linearRGB)\n{\n\tbvec3 cutoff = lessThan(linearRGB, vec3(0.0031308));\n\tvec3 higher = vec3(1.055) * pow(abs(linearRGB), vec3(1.0/2.4)) - vec3(0.055);\n\tvec3 lower = linearRGB * vec3(12.92);\n\treturn mix(higher, lower, vec3(cutoff));\n}\nvec3 toLinear(vec3 sRGB)\n{\n\tbvec3 cutoff = lessThan(sRGB, vec3(0.04045));\n\tvec3 higher = pow(abs((sRGB + vec3(0.055))/vec3(1.055)), vec3(2.4));\n\tvec3 lower = sRGB/vec3(12.92);\n\treturn mix(higher, lower, vec3(cutoff));\n}\nvoid main(void) {\n\tvec3 linearGrad = mix(toLinear(color.rgb), toLinear(color2_.rgb), vTex.x);\n\tfloat a = mix(color.a, color2_.a, vTex.x);\n\tgl_FragColor = vec4(fromLinear(linearGrad) * a, a);\n}",
b,"<lineargradient>"],["#ifdef GL_FRAGMENT_PRECISION_HIGH\n#define highmedp highp\n#else\n#define highmedp mediump\n#endif\nprecision lowp float;\nvarying highmedp vec2 vTex;\nuniform vec4 color;\nvoid main(void) {\n\thighmedp float grad = vTex.x / (1.0 - vTex.y);\n\tgl_FragColor = color * (1.0 - (cos(grad * 3.141592653589793) + 1.0) / 2.0);\n}",b,"<penumbra>"],["varying mediump vec2 vTex;\nuniform lowp vec4 color;\nvoid main(void) {\n\tmediump vec2 diff = vTex - vec2(0.5, 0.5);\n\tmediump vec2 diffSq = diff * diff;\n\tmediump float f = step(diffSq.x + diffSq.y, 0.25);\n\tgl_FragColor = color * f;\n}",
b,"<hardellipse>"],["varying mediump vec2 vTex;\nuniform lowp vec4 color;\nuniform mediump vec2 pixelSize;\nuniform mediump float outlineThickness;\nvoid main(void) {\n\tmediump vec2 diff = vTex - vec2(0.5, 0.5);\n\tmediump vec2 diffSq = diff * diff;\n\tmediump float distSq = diffSq.x + diffSq.y;\n\tmediump vec2 norm = normalize(diff);\n\tmediump vec2 halfNorm = norm * 0.5;\n\tmediump float innerF = step(distSq, 0.25);\n\tmediump vec2 innerEdge = halfNorm - pixelSize * norm * outlineThickness;\n\tmediump vec2 innerEdgeSq = innerEdge * innerEdge;\n\tmediump float outerF = step(innerEdgeSq.x + innerEdgeSq.y, distSq);\n\tgl_FragColor = color * innerF * outerF;\n}",
b,"<hardellipseoutline>"],["varying mediump vec2 vTex;\nuniform lowp vec4 color;\nuniform mediump vec2 pixelSize;\nvoid main(void) {\n\tmediump vec2 diff = vTex - vec2(0.5, 0.5);\n\tmediump vec2 diffSq = diff * diff;\n\tmediump vec2 norm = normalize(diff);\n\tmediump vec2 halfNorm = norm * 0.5;\n\tmediump vec2 halfNormSq = halfNorm * halfNorm;\n\tmediump vec2 innerEdge = halfNorm - pixelSize * norm;\n\tmediump vec2 innerEdgeSq = innerEdge * innerEdge;\n\tmediump float f = smoothstep(halfNormSq.x + halfNormSq.y, innerEdgeSq.x + innerEdgeSq.y, diffSq.x + diffSq.y);\n\tgl_FragColor = color * f;\n}",
b,"<smoothellipse>"],["varying mediump vec2 vTex;\nuniform lowp vec4 color;\nuniform mediump vec2 pixelSize;\nuniform mediump float outlineThickness;\nvoid main(void) {\n\tmediump vec2 diff = vTex - vec2(0.5, 0.5);\n\tmediump vec2 diffSq = diff * diff;\n\tmediump float distSq = diffSq.x + diffSq.y;\n\tmediump vec2 norm = normalize(diff);\n\tmediump vec2 halfNorm = norm * 0.5;\n\tmediump vec2 halfNormSq = halfNorm * halfNorm;\n\tmediump vec2 pxNorm = pixelSize * norm;\n\tmediump vec2 innerEdge1 = halfNorm - pxNorm;\n\tmediump vec2 innerEdge1Sq = innerEdge1 * innerEdge1;\n\tmediump float innerF = smoothstep(halfNormSq.x + halfNormSq.y, innerEdge1Sq.x + innerEdge1Sq.y, distSq);\n\tmediump vec2 innerEdge2 = halfNorm - pxNorm * outlineThickness;\n\tmediump vec2 innerEdge2Sq = innerEdge2 * innerEdge2;\n\tmediump vec2 innerEdge3 = halfNorm - pxNorm * (outlineThickness + 1.0);\n\tmediump vec2 innerEdge3Sq = innerEdge3 * innerEdge3;\n\tmediump float outerF = smoothstep(innerEdge3Sq.x + innerEdge3Sq.y, innerEdge2Sq.x + innerEdge2Sq.y, distSq);\n\tgl_FragColor = color * innerF * outerF;\n}",
b,"<smoothellipseoutline>"],["varying mediump vec2 vTex;\nuniform lowp vec4 color;\nvoid main(void) {\n\tlowp float f = 1.0 - abs(vTex.y - 0.5) * 2.0;\n\tgl_FragColor = color * f;\n}",b,"<smoothline>"],[g,h,"<tilemap>"],[a.MB(this.bd,k,this.gM&&this.kM),2<=this.bd?Qh():b,"<tilerandomization>"]].map(l=>this.oB({src:l[0],kt:l[1],name:l[2]})));this.Ks=a[0];this.Js=a[1];this.dA=a[2];this.cA=a[3];Vg(this)}async oB(a){a=await Yi.R.uC.Da(this,a);Ug(this,a);return a}uc(a,b,c){if(this.P!==a||this.S!==b||c){this.ne();
c=this.ga;var d=this.Rc;this.P=a;this.S=b;mj(this,a,b);Rg(this,this.NC,a/b);this.Pl(this.NC);this.Js&&(c.useProgram(this.Js.Ge()),Mh(this.Js,this.os),this.Ep=this.Js,this.Rc.Zh=this.Js);c.bindTexture(c.TEXTURE_2D,null);c.activeTexture(c.TEXTURE1);c.bindTexture(c.TEXTURE_2D,null);c.activeTexture(c.TEXTURE0);this.Fp=this.Wk=null;this.Fm&&this.rK&&this.nr(this.P,this.S);this.rb&&this.rb.Lx(this.P,this.S);c.bindFramebuffer(c.FRAMEBUFFER,null);this.rb=null;d.yo=null;d.rl=null}}nr(a,b){const c=this.ga;
this.ue&&this.yy===a&&this.wy===b||(this.Xl?(this.ue&&c.deleteTexture(this.ue),this.ue=c.createTexture(),c.bindTexture(c.TEXTURE_2D,this.ue),c.texParameteri(c.TEXTURE_2D,c.TEXTURE_MAG_FILTER,c.NEAREST),c.texParameteri(c.TEXTURE_2D,c.TEXTURE_MIN_FILTER,c.NEAREST),c.texParameteri(c.TEXTURE_2D,c.TEXTURE_WRAP_S,c.CLAMP_TO_EDGE),c.texParameteri(c.TEXTURE_2D,c.TEXTURE_WRAP_T,c.CLAMP_TO_EDGE),2<=this.bd?c.texImage2D(c.TEXTURE_2D,0,c.DEPTH24_STENCIL8,a,b,0,c.DEPTH_STENCIL,c.UNSIGNED_INT_24_8,null):this.Ay&&
c.texImage2D(c.TEXTURE_2D,0,c.DEPTH_STENCIL,a,b,0,c.DEPTH_STENCIL,this.Ay.UNSIGNED_INT_24_8_WEBGL,null),c.bindTexture(c.TEXTURE_2D,null)):(this.ue&&c.deleteRenderbuffer(this.ue),this.ue=c.createRenderbuffer(),c.bindRenderbuffer(c.RENDERBUFFER,this.ue),c.renderbufferStorage(c.RENDERBUFFER,2<=this.bd?c.DEPTH24_STENCIL8:c.DEPTH_STENCIL,a,b),c.bindRenderbuffer(c.RENDERBUFFER,null)),this.yy=a,this.wy=b)}aQ(a,b){this.Fm&&(this.rK=!1,this.nr(a,b))}ZP(){this.Fm&&(this.rK=!0,this.nr(this.P,this.S))}NH(a){super.NH(a);
Rg(this,this.NC,this.P/this.S)}Pl(a){if(!aj.Vi(this.os,a)){var b=nj(this);b.oa=6;gi.wa(b.Pe,a);aj.wa(this.os,a);this.kc=0;this.ip=!0}}lC(){let a,b;var c=this.rb;null===c?(a=this.NC,b=this.M(),c=this.K()):(a=Ih(c),b=c.M(),c=c.K());this.Pl(a);mj(this,b,c)}er(a){if(!aj.Vi(this.pv,a)){var b=nj(this);b.oa=7;gi.wa(b.Pe,a);aj.wa(this.pv,a);this.kc=0;this.ip=!0}}VP(){this.ip=!1}qB(){return this.ip}ne(){if(0!==this.bp&&!this.hk()){this.zI();const a=this.Zx;for(let b=0,c=this.bp;b<c;++b)a[b].Aa();this.kc=this.Qp=
this.Yf=this.Nj=this.bp=0}}zI(){const a=this.ga;0<this.Qp&&(a.bindBuffer(a.ARRAY_BUFFER,this.ao),a.bufferSubData(a.ARRAY_BUFFER,0,this.wv.subarray(0,this.Qp)));0<this.Nj&&(a.bindBuffer(a.ARRAY_BUFFER,this.uo),a.bufferSubData(a.ARRAY_BUFFER,0,this.Mj.subarray(0,this.Nj)),a.bindBuffer(a.ARRAY_BUFFER,this.jo),a.bufferSubData(a.ARRAY_BUFFER,0,this.Uh.subarray(0,this.Yf)))}Kc(){return this.qz.Xa}Ff(a,b,c,d){const e=this.qz;vd(e,a,b,c,d)||(pd(e,a,b,c,d),a=nj(this),a.oa=3,e.de(a.Cn,0),this.kc=0,this.ng=
null)}wh(a){const b=this.qz;b.Xa!==a&&(td(b,a),a=nj(this),a.oa=3,b.de(a.Cn,0),this.kc=0,this.ng=null)}mk(a){const b=this.qz;b.Fd(a)||(b.set(a),a=nj(this),a.oa=3,b.de(a.Cn,0),this.kc=0,this.ng=null)}ie(a){if(a!==this.Wk){var b=nj(this);b.oa=2;this.Wk=b.Xf=a;this.kc=0}}Ie(a){a=this.QC[a];pj(this,a[0],a[1])}vx(){pj(this,this.ga.ONE,this.ga.ONE_MINUS_SRC_ALPHA)}dr(){pj(this,this.ga.ONE,this.ga.ZERO)}Rect(a){this.qx(a.$,a.V,a.ja,a.da)}qx(a,b,c,d){this.zH(a,b,c,b,c,d,a,d)}Jd(a){qj(this);rj(this,a);dj.de(this.Uh,
this.Yf);this.Yf+=8}zH(a,b,c,d,e,f,g,h){qj(this);const k=this.Mj;let l=this.Nj;const m=this.Eh+this.Fn;k[l++]=a;k[l++]=b;k[l++]=m;k[l++]=c;k[l++]=d;k[l++]=m;k[l++]=e;k[l++]=f;k[l++]=m;k[l++]=g;k[l++]=h;k[l++]=m;this.Nj=l;dj.de(this.Uh,this.Yf);this.Yf+=8}Jl(a,b){qj(this);rj(this,a);a=this.Uh;var c=this.Yf;a[c++]=b.$;a[c++]=b.V;a[c++]=b.ja;a[c++]=b.V;a[c++]=b.ja;a[c++]=b.da;a[c++]=b.$;a[c]=b.da;this.Yf+=8}AH(a,b){qj(this);rj(this,a);b.de(this.Uh,this.Yf);this.Yf+=8}nx(a,b,c,d,e,f,g,h,k,l,m,n,p){qj(this);
const q=this.Mj;let u=this.Nj;const r=this.Eh+this.Fn;q[u++]=a;q[u++]=b;q[u++]=r+c;q[u++]=d;q[u++]=e;q[u++]=r+f;q[u++]=g;q[u++]=h;q[u++]=r+k;q[u++]=l;q[u++]=m;q[u++]=r+n;this.Nj=u;p.de(this.Uh,this.Yf);this.Yf+=8}Bw(a,b){Zg(this,0);aj.wa(ej,this.os);aj.wa(fj,this.pv);this.lC();const [c,d]=this.Bt(this.rb);var e=Tg(this,0,0,this.Ee(d),0,0,d);this.er(e);if("crop"===a&&this.rb&&b){a=this.P/2;e=this.S/2;const h=b.M();b=b.K();var f=this.rb.M(),g=this.rb.K();f=Math.min(f,h);const k=Math.min(g,b),l=Math.max(b-
g,0);g=Math.max(g-b,0);hj.set(-a,e-g,-a+f,e-k-g);gj.Dg(hj);hj.set(0,l,f,k+l);hj.sl(h,b);this.Jl(gj,hj)}else a=c/2,e=d/2,this.qx(-a,e,a,-e);this.Pl(ej);this.er(fj)}Ol(a){if(this.Ep!==a){var b=nj(this);b.oa=11;this.Ep=b.Xf=a;this.kc=0;this.ng=null}}qC(a,b,c,d,e,f,g,h,k,l,m){const n=this.Ep;m%=10800;if(n.Y1&&(n.Wv.fa||n.hh.fa&&!Yh(n.hh,f,g)||n.lq.fa&&!Yh(n.lq,b.$,b.V)||n.kq.fa&&!Yh(n.kq,b.ja,b.da)||n.mq.fa&&n.mq.Of[0]!==Math.fround(h)||n.oq.fa&&n.oq.Of[0]!==Math.fround(k)||n.nq.fa&&n.nq.Of[0]!==Math.fround(l)||
n.pl.fa&&!Yh(n.pl,c.$,c.V)||n.no.fa&&!Yh(n.no,c.ja,c.da)||n.qo.fa&&!Yh(n.qo,d.$,d.V)||n.po.fa&&!Yh(n.po,d.ja,d.da)||n.qq.fa&&!Yh(n.qq,e.$,e.V)||n.pq.fa&&!Yh(n.pq,e.V,e.da)||n.rq.fa&&n.rq.Of[0]!==Math.fround(m))){var p=nj(this);p.oa=12;var q=m;n.Wv.fa||(n.hh.fa&&Zh(n.hh,f,g),n.lq.fa&&Zh(n.lq,b.$,b.V),n.kq.fa&&Zh(n.kq,b.ja,b.da),n.mq.fa&&(n.mq.Of[0]=h),n.oq.fa&&(n.oq.Of[0]=k),n.nq.fa&&(n.nq.Of[0]=l),n.pl.fa&&Zh(n.pl,c.$,c.V),n.no.fa&&Zh(n.no,c.ja,c.da),n.qo.fa&&Zh(n.qo,d.$,d.V),n.po.fa&&Zh(n.po,d.ja,
d.da),n.qq.fa&&Zh(n.qq,e.$,e.V),n.pq.fa&&Zh(n.pq,e.V,e.da),n.rq.fa&&(n.rq.Of[0]=q));q=p.Pe;q[0]=f;q[1]=g;b.de(q,2);q[6]=k;q[7]=l;c.de(q,12);b=p.Cn;e.de(b,0);e=b[1];b[1]=b[3];b[3]=e;d.de(p.AT,0);p.vg=m;p.Kn=h;p.Xf=n.Wv.fa?a?a.lc():null:null;this.kc=0}}pC(a){const b=this.Ep;var c;if(c=0!==a.length){a:{for(let f=0,g=a.length;f<g;++f){c=b.Us[f];var d=a[f],e=c.Of;if(c.sK?e[0]!==Math.fround(d.ab)||e[1]!==Math.fround(d.ib)||e[2]!==Math.fround(d.$a):e[0]!==Math.fround(d)){c=!1;break a}}c=!0}c=!c}if(c){c=
nj(this);c.oa=13;for(let f=0,g=a.length;f<g;++f){d=b.Us[f];e=a[f];const h=d.Of;d.sK?(h[0]=e.ab,h[1]=e.ib,h[2]=e.$a):h[0]=e}Yi.wd(c.mF,a);this.kc=0}}ai(a,b,c,d){var e=nj(this);e.oa=9;e=e.Pe;e[0]=a;e[1]=b;e[2]=c;e[3]=d;this.kc=0}fe(a){var b=nj(this);b.oa=9;a.de(b.Pe,0);this.kc=0}Rt(){}Fo(){super.Fo();this.ga.flush()}FG(){if(this.Fm&&this.rb&&this.rb.te){var a=nj(this),b=this.fz;a.oa=22;a.vg=b?1:0;this.kc=0}}hf(a){a=!!a;if(this.fz!==a&&this.Fm){this.fz=a;var b=nj(this);b.oa=23;b.vg=a?1:0;this.kc=0}}bx(){return this.fz}Ot(a){a=
!!a;if(this.Xl&&this.tK!==a){if(a&&this.bx())throw Error("depth still enabled");this.tK=a;var b=nj(this);b.oa=24;b.vg=a?1:0;this.kc=0}}fQ(a,b,c,d,e=0){a=Math.floor(a);b=Math.floor(b);c=Math.floor(c);d=Math.floor(d);Gd(this.yE,a,b,c,d)||(Fd(this.yE,a,b,c,d),b=(e||this.Bt(this.bj())[1])-b-d,e=nj(this),e.oa=28,e.vg=1,e=e.Pe,e[0]=a,e[1]=b,e[2]=c,e[3]=d,this.kc=0)}EH(){if(-1!==this.yE.ja){this.yE.set(0,0,-1,-1);var a=nj(this);a.oa=28;a.vg=0;a=a.Pe;a[0]=0;a[1]=0;a[2]=0;this.kc=a[3]=0}}hk(){return!this.ga||
this.ga.isContextLost()||this.yK}Wd(){Qg(this);Yi.R.tC.Wd();Yi.R.xQ.Wd();Yi.R.hC.Wd();for(const a of this.JC)a.fe();this.kM=this.gM=this.KJ=this.Ay=this.Rx=this.BL=this.We=null;this.dL=0;this.vA="(unavailable)";this.ue=this.Js=this.Ep=null;for(const a of this.Os.values())a.Wd()}async $B(){this.yK=!0;await this.Mq();this.yK=!1;for(const a of this.Os.values())a.$B(this);this.uc(this.P,this.S,!0)}nt(a,b){if(this.hk())throw Error("context lost");this.ne();const c=Yi.A(Yi.R.tC,this);if(!("undefined"!==
typeof HTMLImageElement&&a instanceof HTMLImageElement||"undefined"!==typeof HTMLCanvasElement&&a instanceof HTMLCanvasElement||"undefined"!==typeof ImageBitmap&&a instanceof ImageBitmap||"undefined"!==typeof OffscreenCanvas&&a instanceof OffscreenCanvas||a instanceof ImageData||a instanceof ArrayBuffer)&&null!==a)throw Error("invalid texture source");var d=Object.assign({},wh,b);if(c.Ta)throw Error("already created texture");c.Im=d.yq;c.Jm=d.zq;c.Yb=d.qc;c.vr=d.bw;c.Pp=d.EN;c.Nh=!!d.Ao&&c.O.Or;c.rs=
d.RA;if(!uh.has(c.Im)||!uh.has(c.Jm))throw Error("invalid wrap mode");if(!sh.has(c.Yb))throw Error("invalid sampling");if(!rh.has(c.Pp))throw Error("invalid pixel format");if(!th.has(c.rs))throw Error("invalid mipmap quality");c.rf=!0;if(a instanceof ArrayBuffer||null===a||d.MU){if(c.P=d.width,c.S=d.height,a instanceof ArrayBuffer&&a.byteLength!==c.P*c.S*4)throw Error("ArrayBuffer wrong size");}else c.P=a.width,c.S=a.height;if(0>=c.P||0>=c.S)throw Error("invalid texture data size");d.MU&&(b=qh.mh(c.P,
c.S),b.getContext("2d").drawImage(a,0,0,c.P,c.S),a=b);var e=qh.Tj(c.P)&&qh.Tj(c.S);b=c.O.qv;if(c.P>b||c.S>b)throw Error("texture data exceeds maximum texture size");b=c.O.ga;var f=c.O.bd;c.Ta=b.createTexture();b.bindTexture(b.TEXTURE_2D,c.Ta);b.pixelStorei(b.UNPACK_PREMULTIPLY_ALPHA_WEBGL,d.premultiplyAlpha);b.pixelStorei(b.UNPACK_FLIP_Y_WEBGL,!1);d=vh(c.Pp,b);if(c.O.Qo()||e||!zh(c))2<=f?(b.texStorage2D(b.TEXTURE_2D,c.Nh?Math.floor(Math.log2(Math.max(c.P,c.S))+1):1,d.RN,c.P,c.S),a instanceof ArrayBuffer?
b.texSubImage2D(b.TEXTURE_2D,0,0,0,c.P,c.S,d.format,d.type,new Uint8Array(a)):null!==a&&b.texSubImage2D(b.TEXTURE_2D,0,0,0,d.format,d.type,a)):a instanceof ArrayBuffer?b.texImage2D(b.TEXTURE_2D,0,d.gw,c.P,c.S,0,d.format,d.type,new Uint8Array(a)):null===a?b.texImage2D(b.TEXTURE_2D,0,d.gw,c.P,c.S,0,d.format,d.type,null):b.texImage2D(b.TEXTURE_2D,0,d.gw,d.format,d.type,a);else{if(null===a)throw Error("cannot pass null data when creating a NPOT tiled texture without NPOT support");a instanceof ArrayBuffer&&
(a=new ImageData(new Uint8ClampedArray(a),c.P,c.S));a instanceof ImageData&&(e=qh.mh(c.P,c.S),e.getContext("2d").putImageData(a,0,0),a=e);e=qh.mh(qh.bt(c.P),qh.bt(c.S));f=e.getContext("2d");f.imageSmoothingEnabled="nearest"!==c.Yb;f.drawImage(a,0,0,c.P,c.S,0,0,e.width,e.height);b.texImage2D(b.TEXTURE_2D,0,d.gw,d.format,d.type,e)}null!==a&&Ah(c,b);b.bindTexture(b.TEXTURE_2D,null);c.O.Wk=null;c.jc=1;yh.add(c);return c}async vw(a,b){if(this.hk())throw Error("context lost");b=Object.assign({},b);if(Yi.qb.ImageBitmapOptions){let c=
await createImageBitmap(a,{premultiplyAlpha:"premultiply"});const d=b.yq&&"clamp-to-edge"!==b.yq||b.zq&&"clamp-to-edge"!==b.zq,e=Yi.Tj(c.width)&&Yi.Tj(c.height);this.Qo()||e||!d?b.premultiplyAlpha=!1:Yi.qb.TB?(c=await createImageBitmap(a,{premultiplyAlpha:"premultiply",resizeWidth:Yi.bt(c.width),resizeHeight:Yi.bt(c.height)}),b.premultiplyAlpha=!1):c=await createImageBitmap(a,{premultiplyAlpha:"none"});return await Yi.qw(()=>this.nt(c,b))}if(a instanceof Blob){if("undefined"===typeof Image)throw Error("texture upload variant not supported in worker");
a=await Yi.cO(a)}return await Yi.qw(()=>this.nt(a,b))}uw(a,b,c){this.ne();const d=Yi.A(Yi.R.tC,this);d.cI(a,b,c);return d}sQ(a,b){this.ne();b.GC(a)}bi(a){a&&(Dh(a),0<a.jc||(this.ne(),a===this.Wk&&(this.ga.bindTexture(this.ga.TEXTURE_2D,null),this.Wk=null),a===this.Fp&&(this.ga.activeTexture(this.ga.TEXTURE1),this.ga.bindTexture(this.ga.TEXTURE_2D,null),this.ga.activeTexture(this.ga.TEXTURE0),this.Fp=null),a.kr()))}lO(a){let b=this.P,c=this.S,d=!0;a&&("number"===typeof a.width&&(b=Math.floor(a.width),
d=!1),"number"===typeof a.height&&(c=Math.floor(a.height),d=!1));if(0>=b||0>=c)throw Error("invalid size");this.ne();const e=Yi.A(Yi.R.xQ,this);e.Ex(b,c,Object.assign({NA:d},a));this.rb=null;this.Rc.yo=null;this.Rc.rl=null;return e}he(a,b=!0){if(a!==this.rb){a&&a.Pn&&a.Lx(this.P,this.S);var c=nj(this);c.oa=8;this.rb=c.Xf=a;this.kc=0;b&&this.lC()}}bj(){return this.rb}Bt(a){return a?[a.M(),a.K()]:[this.P,this.S]}mB(a){if(2>this.bd||this.rb&&0<this.rb.ye)this.dr(),oj(this),this.pt(a,"stretch");else{var b=
nj(this),c=this.rb;b.oa=17;const d=b.Pe,e=b.Rc.vq;d[0]=a.M();d[1]=a.K();d[2]=c?c.M():e.M();d[3]=c?c.K():e.K();d[4]=a.Pq()?1:0;d[5]=!0;b=b.mF;di.H(b);b.push(a.Ai);b.push(c?c.Ai:null);this.kc=0}}pt(a,b="stretch"){a=a.lc();if(!a)throw Error("not a texture-backed render target");this.ie(a);this.Bw(b,a)}Nq(a){if(!(2>this.bd)){var b=nj(this);a=a.Ai;b.oa=14;b.Xf=a;this.kc=0}}nO(a){this.he(null);this.ne();const b=a.lc();b===this.Wk&&(this.ga.bindTexture(this.ga.TEXTURE_2D,null),this.Wk=null);b===this.Fp&&
(this.ga.activeTexture(this.ga.TEXTURE1),this.ga.bindTexture(this.ga.TEXTURE_2D,null),this.ga.activeTexture(this.ga.TEXTURE0),this.Fp=null);a.kr()}HG(){this.hf(!0);nj(this).oa=25;this.kc=0;this.eD=1}lB(){this.hf(!1);nj(this).oa=26;this.kc=0;this.eD=2}YO(){return 2===this.eD}kB(){this.hf(!0);nj(this).oa=27;this.eD=this.kc=0}NG(){let a=0;for(const b of Yi.R.tC.JM())a+=b.Jw();return a}Qo(){return 2<=this.bd}yh(){return!!this.We}kI(a){Yg(this,[["normal",a.ONE,a.ONE_MINUS_SRC_ALPHA],["additive",a.ONE,
a.ONE],["xor",a.ONE,a.ONE_MINUS_SRC_ALPHA],["copy",a.ONE,a.ZERO],["destination-over",a.ONE_MINUS_DST_ALPHA,a.ONE],["source-in",a.DST_ALPHA,a.ZERO],["destination-in",a.ZERO,a.SRC_ALPHA],["source-out",a.ONE_MINUS_DST_ALPHA,a.ZERO],["destination-out",a.ZERO,a.ONE_MINUS_SRC_ALPHA],["source-atop",a.DST_ALPHA,a.ONE_MINUS_SRC_ALPHA],["destination-atop",a.ONE_MINUS_DST_ALPHA,a.SRC_ALPHA]])}};"use strict";
const J=self.B,tj=self.me.tl,uj=self.GPUBufferUsage,vj=self.GPUShaderStage,wj=self.GPUTextureUsage,xj={powerPreference:"default",depth:!1,failIfMajorPerformanceCaveat:!1,oU:!1,uV:!1,GA:!1},yj=new J.Jd(0,0,1,0,1,1,0,1);J.A(J.hr);const zj=J.A(J.Rect);J.A(J.Rect);const Aj=J.A(J.Jd);let Bj=!1;function Cj(a){console.log("[WebGPU] "+a)}function Dj(a,b){return 0!==(a.F&b)}async function Ej(a,b){a.ve=null;for(await Fj(a,b);!a.ve;)a.ri=null,await Fj(a,b);await a.Mq()}
async function Fj(a,b){if(!a.ri){a.ri=await navigator.gpu.requestAdapter(a.CI);if(!a.ri)throw Error("renderer-unavailable (no WebGPU adapter available)");if(b&&a.ri.isFallbackAdapter)throw Error("renderer-unavailable (WebGPU provided fallback adapter)");}b=[];a.ri.features.has("timestamp-query")&&b.push("timestamp-query");a.ri.features.has("shader-f16")&&b.push("shader-f16");a.ve=await a.ri.requestDevice({requiredFeatures:b});if(!a.ve)return null;a.qv=a.ve.limits.maxTextureDimension2D;a.Ab(33554432,
a.ve.features.has("timestamp-query"));a.Ab(67108864,a.ve.features.has("shader-f16"));a.ve.lost.then(c=>Gj(a,c));a.Ab(32768,!1)}
async function Gj(a,b){console.log("[WebGPU] Device lost: ",b);Qg(a);a.pj.Wd();J.R.Bx.Wd();J.R.aI.Wd();J.R.hC.Wd();a.ym="";a.Mv=null;a.Lv=null;a.ue=null;a.xy=null;a.sL=null;a.tL=null;a.oJ=null;a.ME=null;a.uo=null;a.jo=null;a.bD=null;a.up=null;a.ao=null;a.OF=null;a.JD=null;a.HD=null;a.MJ=null;a.nD=null;a.SC=null;a.uu=null;a.iA=null;a.Xx=null;a.zy=null;a.FL=null;a.vu=null;a.Xn=null;a.mf=null;a.hp=null;a.tu=null;a.iD=null;a.qy=null;a.qD=null;a.ss=null;a.mj=null;a.rb=null;a.jL=null;a.Lk=null;a.KC.clear();
a.LE.clear();a.QL.clear();for(const c of a.Os.values())c.Wd();a.ve=null;a.ri=null;a.BI=null;a.F|=32768;a.yN&&a.yN();await Ej(a);for(const c of a.Os.values())c.$B(a);a.uc(a.P,a.S,!0);a.zN&&a.zN()}function Hj(a){a.F|=268435968;Ij(a,a.PF.transform)}function Jj(a){const b=a.PF.G4;a.H1.de(a.RF,b.offset/4);Ij(a,b)}function Kj(a){const b=a.PF.vl;a.RF[b.offset/4]=a.I1;Ij(a,b)}
function Lj(a,b){return a.ve.createBindGroup({layout:a.SC,entries:[{binding:0,resource:{buffer:a.OF}},{binding:1,resource:{buffer:a.JD}},{binding:2,resource:{buffer:a.bD}},{binding:3,resource:{buffer:a.ao}},{binding:4,resource:{buffer:a.HD}},{binding:5,resource:{buffer:b}}]})}function Mj(){return"depth24plus-stencil8"}function Nj(a){a.Ck=a.ve.createCommandEncoder();a.F&=-16385}function Oj(a,b){b!==a.tu&&(a.tu=b,null===b&&(b=a.Xn),Pj(a),a.iD=b.du,a.F|=128)}
function Qj(a){a.Mv=a.XE.getCurrentTexture();a.Lv=a.Mv.createView({label:"swapchaintextureview"});a=a.mj.lc();const b=a.O,c=b.kg();a.Ta=b.Mv;a.gq=b.Lv;b.XI&&(a.du=c.createBindGroup({layout:b.Xx,entries:[{binding:0,resource:a.Rz},{binding:1,resource:a.gq}]}))}
function Rj(a){var b=a.F;if(0!==(b&7680)){var c=a.F;0!==(c&512)&&(Bj&&Cj("Updating transform"),tj.multiply(a.FS,a.os,a.pv),a.RF.set(a.FS,a.PF.transform.offset/4));0!==(c&1024)&&(Bj&&Cj("Updating vertex uniform buffer"),Sj(a.pj,a.Ck,a.OF,a.AM,a.Yv,a.zA-a.Yv));0!==(c&2048)&&(Bj&&Cj("Updating fragment uniform buffer"),Sj(a.pj,a.Ck,a.JD,a.LJ,a.Ju,a.Oy-a.Ju));0!==(c&4096)&&(Bj&&Cj("Updating fragment C3Params buffer"),Sj(a.pj,a.Ck,a.HD,a.ED,a.My,a.FD-a.My));a.F=c&-7681|16384}if(0!==(b&2097152))b=a.F,b=
{colorAttachments:[],depthStencilAttachment:{view:a.xy,depthLoadOp:0!==(b&1048576)?"clear":"load",depthClearValue:1,depthStoreOp:"store",stencilLoadOp:0!==(b&8388608)?"clear":"load",stencilClearValue:0,stencilStoreOp:"store"}},Tj(a,b),a.F&=-9437185,Bj&&Cj(`Starting coplanar stencil renderpass${"load"===b.depthStencilAttachment.depthLoadOp?"":", clear depth"}${"load"===b.depthStencilAttachment.stencilLoadOp?"":", clear stencil"}`);else if(0!==(b&4194304))b=a.rb,c={colorAttachments:[{view:b.To(),loadOp:b.Pk?
"clear":"load",clearValue:b.Br.toJSON(),storeOp:"store"}],depthStencilAttachment:{view:a.xy,depthReadOnly:!0,stencilReadOnly:!0}},Tj(a,c),b.Pk=!1,Bj&&Cj(`Starting coplanar color renderpass to ${b.xp?"backbuffer":"texture"}, ${"load"===c.colorAttachments[0].loadOp?"continue":"clear"} color`),b=c;else{b=a.F;c=a.rb;const d={colorAttachments:[{view:c.To(),loadOp:c.Pk?"clear":"load",clearValue:c.Br.toJSON(),storeOp:"store"}]};Tj(a,d);c.Pk=!1;786432===(b&786432)&&(d.depthStencilAttachment={view:a.xy,depthLoadOp:0!==
(b&1048576)?"clear":"load",depthClearValue:1,depthStoreOp:"store",stencilLoadOp:"clear",stencilClearValue:0,stencilStoreOp:"discard"},a.F&=-1048577);Bj&&Cj(`Starting render pass to ${c.xp?"backbuffer":"texture"}, depth ${d.depthStencilAttachment?"enabled":"disabled"}, ${"load"===d.colorAttachments[0].loadOp?"continue":"clear"} color${d.depthStencilAttachment&&"load"!==d.depthStencilAttachment.depthLoadOp?", clear depth":""}`);b=d}a.Hr=a.Ck.beginRenderPass(b);a.F|=25072}
function Uj(a){null!==a.Hr&&(Pj(a),Bj&&Cj(`Ending render pass (to ${a.rb.xp?"backbuffer":"texture"})`),a.Hr.end(),a.Hr=null)}function Vj(a,b,c){if(a.yh()){if(!a.Lk)throw Error("not started frame timing");if(0>b||0>c||b===c)throw Error("invalid timestamp index");Uj(a);a.nA=!0;a.CF=b;a.JT=c}}function Wj(a){let b=a.bo;if(10499<b)a.ne(),b=0;else if(0!==(a.F&1)){a.zu+=6;return}null===a.Hr&&Rj(a);a.F|=1;a.rR=6*b;a.zu=6}
function Xj(a,b,c){const d=c.M();c=c.K();let e=J.X(b.$,0,d),f=J.X(b.V,0,c),g=J.X(b.ja,e,d);b=J.X(b.da,f,c);Number.isNaN(e)&&(e=0);Number.isNaN(f)&&(f=0);Number.isNaN(g)&&(g=d);Number.isNaN(b)&&(b=c);a.setScissorRect(e,f,g-e,b-f)}
function Pj(a){const b=a.F;if(0!==(b&1)){if(Bj){var c=[];b&16&&c.push("draw state");b&32&&c.push("pipeline");b&64&&c.push("texture");b&128&&c.push("background texture");b&256&&c.push("depth texture");b&8192&&c.push("buffer");b&8&&c.push("scissor");var d="";0<c.length&&(d+=`(Updated ${c.join(", ")}) `);d=0!==(b&2)?d+`Drawing ${a.zu/6} points`:d+`Drawing ${a.zu/6} quads`;Cj(d)}c=a.Hr;0!==(b&16)&&(d=a.rb,c.setViewport(0,0,d.M(),d.K(),0,1),c.setIndexBuffer(a.up,"uint16"),c.setVertexBuffer(0,a.uo),c.setVertexBuffer(1,
a.jo),0!==(b&6291456)&&c.setStencilReference(1),0!==(b&4)&&Xj(c,a.jF,d));if(0!==(b&32)){var e=0;0!==(b&134217728)?e=4:0!==(b&2097152)?e=2:0!==(b&4194304)?e=3:786432===(b&786432)&&(e=1);d=c.setPipeline;{var f=a.vu;var g=a.jD,h=a.kR;const m=5*g+e;if(2>h){var k=f.Ev[m];null===k&&(k=f.kg().createRenderPipeline(Yj(f,g,e,h)),f.Ev[m]=k);f=k}else{k=f.mL.get(h);Array.isArray(k)||(k=Zj(),f.mL.set(h,k));var l=k[m];null===l&&(l=f.kg().createRenderPipeline(Yj(f,g,e,h)),k[m]=l);f=l}}d.call(c,f)}0!==(b&8192)&&c.setBindGroup(0,
a.uu);0!==(b&64)&&c.setBindGroup(1,a.hp);0!==(b&128)&&c.setBindGroup(2,a.iD);0!==(b&256)&&c.setBindGroup(3,a.qy);0!==(b&8)&&(d=a.rb,0!==(b&4)?Xj(c,a.jF,d):c.setScissorRect(0,0,d.M(),d.K()));c.drawIndexed(a.zu,1,a.rR,0,0);a.F&=-8698}}function Tj(a,b){if(a.nA){var c={querySet:a.Lk.$E,endOfPassWriteIndex:a.JT};a.mM.has(a.CF)||(c.beginningOfPassWriteIndex=a.CF,a.mM.add(a.CF));b.timestampWrites=c}}
function ak(a,b){b.Pk&&(Uj(a),a.Ck.beginRenderPass({colorAttachments:[{view:b.To(),loadOp:"clear",clearValue:b.Br.toJSON(),storeOp:"store"}]}).end(),a.F|=16384,b.Pk=!1)}function Ij(a,b){const c=b.offset;b=b.end;0!==(a.F&1024)?(a.Yv=Math.min(a.Yv,c),a.zA=Math.max(a.zA,b)):(a.F|=1024,a.Yv=c,a.zA=b,Uj(a))}function bk(a,b,c){b.de(a.ER,c.offset/4);b=c.offset;c=c.end;0!==(a.F&2048)?(a.Ju=Math.min(a.Ju,b),a.Oy=Math.max(a.Oy,c)):(a.F|=2048,a.Ju=b,a.Oy=c,Uj(a))}
function ck(a,b){const c=b.offset;b=b.end;0!==(a.F&4096)?(a.My=Math.min(a.My,c),a.FD=Math.max(a.FD,b)):(a.F|=4096,a.My=c,a.FD=b,Uj(a))}function dk(a,b,c){a.Ny[c.offset/4]!==Math.fround(b)&&(a.Ny[c.offset/4]=b,ck(a,c))}function ek(a,b,c){a.JJ[c.offset/4]!==b&&(a.JJ[c.offset/4]=b,ck(a,c))}function fk(a,b,c){b.XM(a.Ny,c.offset/4)||(b.de(a.Ny,c.offset/4),ck(a,c))}
function gk(a,b){if(0!==(a.F&65536)){if(null!==b.Vn)var c=b.Vn.sv;else if(b.rf&&b.HE&&!b.Rn){c=b.O;const d=[b];for(const e of c.LE)e.m();for(const e of c.KC){if(14<=d.length)break;e!==b&&d.push(e)}2>d.length||J.A(J.R.B0,c,d);c=null!==b.Vn?b.Vn.sv:b.Lp}else c=b.Lp;hk(a,c);a.gp=b.lL}else hk(a,b.Lp),a.gp=0}function ik(a,b){b=!!b;0!==(a.F&134217728)!==b&&(Pj(a),a.Ab(134217728,b),a.F|=32)}function hk(a,b){b!==a.hp&&(Pj(a),a.hp=b,a.F|=64)}function jk(a,b){b!==a.uu&&(Pj(a),a.uu=b,a.F|=8192)}
function kk(a){a=a.BI;if(!a)return"unknown/unknown";const b=a.vendor||"unknown",c=a.architecture||"unknown",d=[];a.device&&d.push(a.device);a.description&&d.push(a.description);a.type&&d.push(a.type);a.backend&&d.push(a.backend);return b+"/"+c+(0<d.length?` (${d.join(", ")})`:"")}
J.R.D0=class extends J.R.MP{constructor(a){super(a);this.XE=this.dR=this.ve=this.BI=this.ri=this.CI=null;this.ym="";this.Lv=this.Mv=null;this.zf=this.zg=0;this.FS=tj.create();this.ME=this.oJ=this.tL=this.xy=this.sL=this.ue=null;this.wy=this.yy=0;this.ao=this.up=this.bD=this.jo=this.uo=this.MJ=this.HD=this.JD=this.OF=null;this.PF=lk;this.QF=16*Math.ceil(mk/16);this.RF=this.AM=null;this.DR=nk;this.GD=16*Math.ceil(ok/16);this.ER=this.LJ=null;this.HJ=pk;this.IJ=16*Math.ceil(qk/16);this.JJ=this.Ny=this.ED=
null;this.Mj=new Float32Array(126E3);this.Uh=new Float32Array(126E3);this.Dr=new Float32Array(42E3);this.Su=new Uint16Array(63E3);this.wv=new Float32Array(42E3);this.gp=this.bo=0;this.Dn=J.A(J.bb,1,1,1,1);this.Qp=0;this.pj=J.A(J.R.A0,this);this.F=32768;this.FD=this.My=this.Oy=this.Ju=this.zA=this.Yv=this.zu=this.rR=0;this.jF=J.A(J.Rect,0,0,0,0);this.jR=J.A(J.bb,1,1,1,1);this.lR=J.A(J.bb,1,1,1,1);this.H1=J.A(J.Rect,0,0,0,0);this.I1=0;this.jM="";this.jL=this.uu=this.qy=this.iD=this.tu=this.hp=this.mf=
this.Xn=this.zy=this.Xx=this.iA=this.nD=this.SC=null;this.KC=new Set;this.LE=new Set;this.qv=8192;this.vu=this.ss=this.qD=this.FL=null;this.kR=this.jD=0;this.NS=null;this.QL=new Map;this.Hr=this.Ck=null;this.ly=[];this.rb=this.mj=null;this.Xl=this.ST=this.XI=!1;this.Lk=null;this.nA=!1;this.JT=this.CF=-1;this.mM=new Set;this.zN=this.yN=null;this.kI()}Ud(){return!0}Ab(a,b){this.F=b?this.F|a:this.F&~a}async Da(a,b){b=Object.assign({},xj,b);if(!navigator.gpu)throw Error("renderer-unavailable (WebGPU not supported)");
b.depth&&(this.F|=131072);this.XI=!!b.oU;this.ST=!!b.uV;this.CI={};this.Xl=!(!b.depth||!b.GA);"default"!==b.powerPreference&&(this.CI.powerPreference=b.powerPreference);this.dR=a;Og(this.Su);await Ej(this,b.failIfMajorPerformanceCaveat)}async Mq(){super.Mq();const a=this.ve;this.ym=navigator.gpu.getPreferredCanvasFormat();this.Lv=this.Mv=null;let b=wj.RENDER_ATTACHMENT;this.XI&&(b|=wj.TEXTURE_BINDING);this.ST&&(b|=wj.COPY_SRC);this.jM=this.ym.startsWith("rgba8")||this.ym.startsWith("bgra8")?this.ym:
"rgba8unorm";this.F&=100794368;this.F|=7680;Dj(this,131072)&&(this.F|=17563648);this.kR=this.jD=this.bo=0;pd(this.Dn,1,1,1,1);pd(this.jR,1,1,1,1);pd(this.lR,1,1,1,1);this.AM=new ArrayBuffer(this.QF);this.RF=new Float32Array(this.AM);this.LJ=new ArrayBuffer(this.GD);this.ER=new Float32Array(this.LJ);this.ED=new ArrayBuffer(this.IJ);this.Ny=new Float32Array(this.ED);this.JJ=new Uint32Array(this.ED);this.uo=a.createBuffer({label:"vertexbuffer",size:this.Mj.byteLength,usage:uj.VERTEX|uj.COPY_DST});this.jo=
a.createBuffer({label:"texcoordbuffer",size:this.Uh.byteLength,usage:uj.VERTEX|uj.COPY_DST});this.bD=a.createBuffer({label:"colorbuffer",size:this.Dr.byteLength,usage:uj.VERTEX|uj.STORAGE|uj.COPY_DST});this.up=a.createBuffer({label:"indexbuffer",mappedAtCreation:!0,size:this.Su.byteLength,usage:uj.INDEX});var c=this.up.getMappedRange();(new Uint16Array(c)).set(this.Su);this.up.unmap();this.ao=a.createBuffer({label:"pointbuffer",size:this.wv.byteLength,usage:uj.VERTEX|uj.STORAGE|uj.COPY_DST});this.SC=
a.createBindGroupLayout({label:"bufferbindgrouplayout",entries:[{binding:0,visibility:vj.VERTEX,buffer:{type:"uniform",minBindingSize:this.QF}},{binding:1,visibility:vj.FRAGMENT,buffer:{type:"uniform",minBindingSize:this.GD}},{binding:2,visibility:vj.VERTEX,buffer:{type:"read-only-storage",minBindingSize:this.Dr.byteLength}},{binding:3,visibility:vj.VERTEX,buffer:{type:"read-only-storage",minBindingSize:this.wv.byteLength}},{binding:4,visibility:vj.FRAGMENT,buffer:{type:"uniform",minBindingSize:this.IJ}},
{binding:5,visibility:vj.FRAGMENT,buffer:{type:"uniform"}}]});c=[];for(var d=0;14>d;++d)c.push({binding:2*d,visibility:vj.FRAGMENT,sampler:{type:"filtering"}},{binding:2*d+1,visibility:vj.FRAGMENT,texture:{sampleType:"float",viewDimension:"2d"}});this.iA=a.createBindGroupLayout({label:"texturebindgrouplayout",entries:c});this.Xx=a.createBindGroupLayout({label:"backtexturebindgrouplayout",entries:[{binding:0,visibility:vj.FRAGMENT,sampler:{type:"non-filtering"}},{binding:1,visibility:vj.FRAGMENT,texture:{sampleType:"float",
viewDimension:"2d"}}]});this.zy=a.createBindGroupLayout({label:"depthtexturebindgrouplayout",entries:[{binding:0,visibility:vj.FRAGMENT,sampler:{type:"non-filtering"}},{binding:1,visibility:vj.FRAGMENT,texture:{sampleType:"depth",viewDimension:"2d"}}]});this.FL=a.createPipelineLayout({bindGroupLayouts:[this.SC,this.iA,this.Xx,this.zy]});c=J.R.vC;d=Dj(this,67108864);this.qD=a.createShaderModule({label:"<default vertex module>",code:rk(c.ut(),d)});this.qD.getCompilationInfo().then(f=>sk("<default>",
"vertex",f));this.ss=a.createShaderModule({label:"<normalized vertex module>",code:rk("\n\t\tstruct ColorData {\n\t\t\tdata : array<vec4<f32>>\n\t\t};\n\t\t@binding(2) @group(0) var<storage> colorBuffer : ColorData;\n\n\t\tstruct VertexInput {\n\t\t\t@builtin(vertex_index) VertexIndex : u32,\n\t\t\t@location(0) position : vec3<f32>,\n\t\t\t@location(1) uv : vec3<f32>\n\t\t};\n\n\t\tstruct VertexOutput {\n\t\t\t@builtin(position) Position : vec4<f32>,\n\t\t\t@location(0) fragUV : vec2<f32>,\n\t\t\t@location(1) fragColor : vec4<f32>\n\t\t};\n\n\t\t@vertex\n\t\tfn main(input : VertexInput) -> VertexOutput {\n\t\t\tvar output : VertexOutput;\n\t\t\tvar p = input.position;\n\t\t\tp.y = 1.0 - p.y;\n\t\t\toutput.Position = vec4<f32>(p.xy * 2.0 - 1.0, p.z, 1.0);\n\t\t\toutput.fragUV = input.uv.xy;\n\t\t\toutput.fragColor = colorBuffer.data[input.VertexIndex / u32(4)];\n\t\t\treturn output;\n\t\t}",
d)});this.ss.getCompilationInfo().then(f=>sk("<normalized>","vertex",f));c=await Promise.all([c.Da(this,{name:"<default>",src:tk(!1),XA:tk(!0),kt:"\n\t\t\nstruct Uniforms {\n\ttransform\t\t: mat4x4<f32>,\n\tpointTexStart\t: vec2<f32>,\n\tpointTexEnd\t\t: vec2<f32>,\n\tzElevation\t\t: f32\n};\n@binding(0) @group(0) var<uniform> uniforms : Uniforms;\n\n\n\t\tstruct ColorData {\n\t\t\tdata : array<vec4<f32>>\n\t\t};\n\t\t@binding(2) @group(0) var<storage> colorBuffer : ColorData;\n\n\t\tstruct VertexInput {\n\t\t\t@builtin(vertex_index) VertexIndex : u32,\n\t\t\t@location(0) position : vec3<f32>,\n\t\t\t@location(1) uv : vec3<f32>\n\t\t};\n\n\t\tstruct VertexOutput {\n\t\t\t@builtin(position) Position : vec4<f32>,\n\t\t\t@location(0) fragUV : vec3<f32>,\n\t\t\t@location(1) fragColor : vec4<f32>\n\t\t};\n\n\t\t@vertex\n\t\tfn main(input : VertexInput) -> VertexOutput {\n\t\t\tvar output : VertexOutput;\n\t\t\toutput.Position = uniforms.transform * vec4<f32>(input.position, 1.0);\n\t\t\toutput.fragUV = input.uv;\n\t\t\toutput.fragColor = colorBuffer.data[input.VertexIndex / u32(4)];\n\t\t\treturn output;\n\t\t}",
y4:"\n\t\tstruct ColorData {\n\t\t\tdata : array<vec4<f32>>\n\t\t};\n\t\t@binding(2) @group(0) var<storage> colorBuffer : ColorData;\n\n\t\tstruct VertexInput {\n\t\t\t@builtin(vertex_index) VertexIndex : u32,\n\t\t\t@location(0) position : vec3<f32>,\n\t\t\t@location(1) uv : vec3<f32>\n\t\t};\n\n\t\tstruct VertexOutput {\n\t\t\t@builtin(position) Position : vec4<f32>,\n\t\t\t@location(0) fragUV : vec3<f32>,\n\t\t\t@location(1) fragColor : vec4<f32>\n\t\t};\n\n\t\t@vertex\n\t\tfn main(input : VertexInput) -> VertexOutput {\n\t\t\tvar output : VertexOutput;\n\t\t\tvar p = input.position;\n\t\t\tp.y = 1.0 - p.y;\n\t\t\toutput.Position = vec4<f32>(p.xy * 2.0 - 1.0, p.z, 1.0);\n\t\t\toutput.fragUV = input.uv;\n\t\t\toutput.fragColor = colorBuffer.data[input.VertexIndex / u32(4)];\n\t\t\treturn output;\n\t\t}"}),
c.Da(this,{name:"<generate-mipmap>",src:"\n\t\t@binding(0) @group(0) var sampler0 : sampler;\n\t\t@binding(1) @group(0) var texture0 : texture_2d<f32>;\n\n\t\tstruct FragmentInput {\n\t\t\t@location(0) fragUV : vec2<f32>\n\t\t};\n\n\t\tstruct FragmentOutput {\n\t\t\t@location(0) color : vec4<f32>\n\t\t};\n\n\t\t@fragment\n\t\tfn main(input : FragmentInput) -> FragmentOutput {\n\t\t\tvar output : FragmentOutput;\n\t\t\toutput.color = textureSample(texture0, sampler0, vec2<f32>(input.fragUV.x, 1.0 - input.fragUV.y));\n\t\t\treturn output;\n\t\t}",
kt:"\n\t\tstruct VertexInput {\n\t\t\t@builtin(vertex_index) VertexIndex : u32\n\t\t};\n\t\t\n\t\tstruct VertexOutput {\n\t\t\t@builtin(position) Position : vec4<f32>,\n\t\t\t@location(0) fragUV : vec2<f32>\n\t\t};\n\n\t\t@vertex\n\t\tfn main(input : VertexInput) -> VertexOutput {\n\n\t\t\tvar pos : array<vec2<f32>, 4> = array<vec2<f32>, 4>(\n\t\t\t\tvec2<f32>(-1.0, 1.0),\n\t\t\t\tvec2<f32>(1.0, 1.0),\n\t\t\t\tvec2<f32>(-1.0, -1.0),\n\t\t\t\tvec2<f32>(1.0, -1.0));\n\t\t\t\n\t\t\tvar output : VertexOutput;\n\t\t\tvar p : vec2<f32> = pos[input.VertexIndex];\n\t\t\toutput.Position = vec4<f32>(p, 0.0, 1.0);\n\t\t\toutput.fragUV = p / 2.0 + 0.5;\n\t\t\treturn output;\n\t\t}"}),
c.Da(this,{name:"<point>",src:uk(!1),XA:uk(!0),kt:"\n\t\t\nstruct Uniforms {\n\ttransform\t\t: mat4x4<f32>,\n\tpointTexStart\t: vec2<f32>,\n\tpointTexEnd\t\t: vec2<f32>,\n\tzElevation\t\t: f32\n};\n@binding(0) @group(0) var<uniform> uniforms : Uniforms;\n\n\n\t\tstruct PointData {\n\t\t\tdata : array<vec4<f32>>\n\t\t};\n\t\t@binding(3) @group(0) var<storage> pointBuffer : PointData;\n\n\t\tstruct VertexInput {\n\t\t\t@builtin(vertex_index) VertexIndex : u32\n\t\t};\n\n\t\tstruct VertexOutput {\n\t\t\t@builtin(position) Position : vec4<f32>,\n\t\t\t@location(0) fragUV : vec2<f32>,\n\t\t\t@location(1) pointOpacity : f32\n\t\t};\n\n\t\t@vertex\n\t\tfn main(input : VertexInput) -> VertexOutput {\n\n\t\t\tvar normPos : array<vec2<f32>, 4> = array<vec2<f32>, 4>(\n\t\t\t\tvec2<f32>(-0.5, -0.5),\n\t\t\t\tvec2<f32>(0.5, -0.5),\n\t\t\t\tvec2<f32>(0.5, 0.5),\n\t\t\t\tvec2<f32>(-0.5, 0.5));\n\t\t\t\n\t\t\tvar output : VertexOutput;\n\t\t\tvar p : vec2<f32> = normPos[input.VertexIndex % u32(4)];\n\t\t\tvar pointData : vec4<f32> = pointBuffer.data[input.VertexIndex / u32(4)];\n\n\t\t\tvar size : f32 = pointData.z;\n\t\t\toutput.Position = uniforms.transform * vec4<f32>(p * size + pointData.xy, uniforms.zElevation, 1.0);\n\t\t\toutput.pointOpacity = pointData.w;\n\n\t\t\tvar pointTexMin : vec2<f32> = min(uniforms.pointTexStart, uniforms.pointTexEnd);\n\t\t\tvar pointTexMax : vec2<f32> = max(uniforms.pointTexStart, uniforms.pointTexEnd);\n\t\t\tvar pn : vec2<f32> = p + vec2<f32>(0.5, 0.5);\n\t\t\tvar pointCoord : vec2<f32> = select(vec2<f32>(1.0 - pn.y, pn.x), pn, uniforms.pointTexEnd.x > uniforms.pointTexStart.x);\n\n\t\t\toutput.fragUV = mix(pointTexMin, pointTexMax, pointCoord);\n\t\t\treturn output;\n\t\t}"}),
c.Da(this,{name:"<tilemap>",src:vk(!1),XA:vk(!0)}),c.Da(this,{name:"<fill>",src:"\n\t\t%%FRAGMENTINPUT_STRUCT%%\n\t\t%%FRAGMENTOUTPUT_STRUCT%%\n\n\t\t@fragment\n\t\tfn main(input : FragmentInput) -> FragmentOutput {\n\t\t\tvar output : FragmentOutput;\n\t\t\toutput.color = input.fragColor;\n\t\t\treturn output;\n\t\t}"}),c.Da(this,{name:"<lineargradient>",src:"\n\t\t\nstruct Uniforms {\n\tcolor2\t\t\t\t: vec4<f32>,\n\tpointColor \t\t\t: vec4<f32>,\n\ttileSize\t\t\t: vec2<f32>,\n\ttileSpacing\t\t\t: vec2<f32>,\n\tsrcRectStart\t\t: vec2<f32>,\n\tsrcRectEnd\t\t\t: vec2<f32>,\n\tpixelSize\t\t\t: vec2<f32>,\n\toutlineThickness\t: f32\n};\n@binding(1) @group(0) var<uniform> uniforms : Uniforms;\n\n\n\t\t%%FRAGMENTINPUT_STRUCT%%\n\t\t%%FRAGMENTOUTPUT_STRUCT%%\n\n\t\tfn fromLinear(linearRGB : vec3<f32>) -> vec3<f32>\n\t\t{\n\t\t\tvar cutoff : vec3<bool> = (linearRGB < vec3<f32>(0.0031308));\n\t\t\tvar higher : vec3<f32> = vec3<f32>(1.055) * pow(abs(linearRGB), vec3<f32>(1.0/2.4)) - 0.055;\n\t\t\tvar lower : vec3<f32> = linearRGB * 12.92;\n\t\t\treturn select(higher, lower, cutoff);\n\t\t}\n\n\t\tfn toLinear(sRGB : vec3<f32>) -> vec3<f32>\n\t\t{\n\t\t\tvar cutoff : vec3<bool> = (sRGB < vec3<f32>(0.04045));\n\t\t\tvar higher : vec3<f32> = pow(abs((sRGB + 0.055) / 1.055), vec3<f32>(2.4));\n\t\t\tvar lower : vec3<f32> = sRGB / 12.92;\n\t\t\treturn select(higher, lower, cutoff);\n\t\t}\n\n\t\t@fragment\n\t\tfn main(input : FragmentInput) -> FragmentOutput {\n\t\t\tvar output : FragmentOutput;\n\t\t\tvar linearGrad : vec3<f32> = mix(toLinear(input.fragColor.rgb), toLinear(uniforms.color2.rgb), vec3<f32>(input.fragUV.x));\n\n\t\t\tvar a : f32 = mix(input.fragColor.a, uniforms.color2.a, input.fragUV.x);\n\t\t\toutput.color = vec4<f32>(fromLinear(linearGrad) * a, a);\n\t\t\treturn output;\n\t\t}\n\t\t"}),
c.Da(this,{name:"<penumbra>",src:"\n\t\t\nstruct Uniforms {\n\tcolor2\t\t\t\t: vec4<f32>,\n\tpointColor \t\t\t: vec4<f32>,\n\ttileSize\t\t\t: vec2<f32>,\n\ttileSpacing\t\t\t: vec2<f32>,\n\tsrcRectStart\t\t: vec2<f32>,\n\tsrcRectEnd\t\t\t: vec2<f32>,\n\tpixelSize\t\t\t: vec2<f32>,\n\toutlineThickness\t: f32\n};\n@binding(1) @group(0) var<uniform> uniforms : Uniforms;\n\n\n\t\t%%FRAGMENTINPUT_STRUCT%%\n\t\t%%FRAGMENTOUTPUT_STRUCT%%\n\n\t\t@fragment\n\t\tfn main(input : FragmentInput) -> FragmentOutput {\n\t\t\tvar output : FragmentOutput;\n\t\t\tvar grad : f32 = input.fragUV.x / (1.0 - input.fragUV.y);\n\t\t\toutput.color = input.fragColor * (1.0 - (cos(grad * 3.141592653589793) + 1.0) / 2.0);\n\t\t\treturn output;\n\t\t}\n\t\t"}),
c.Da(this,{name:"<hardellipse>",src:"\n\t\t%%FRAGMENTINPUT_STRUCT%%\n\t\t%%FRAGMENTOUTPUT_STRUCT%%\n\n\t\t@fragment\n\t\tfn main(input : FragmentInput) -> FragmentOutput {\n\t\t\tvar output : FragmentOutput;\n\t\t\tvar diff : vec2<f32> = input.fragUV - 0.5;\n\t\t\tvar diffSq : vec2<f32> = diff * diff;\n\n\t\t\tvar f : f32 = step(diffSq.x + diffSq.y, 0.25);\n\n\t\t\toutput.color = input.fragColor * f;\n\t\t\treturn output;\n\t\t}"}),c.Da(this,{name:"<hardellipseoutline>",src:"\n\t\t\nstruct Uniforms {\n\tcolor2\t\t\t\t: vec4<f32>,\n\tpointColor \t\t\t: vec4<f32>,\n\ttileSize\t\t\t: vec2<f32>,\n\ttileSpacing\t\t\t: vec2<f32>,\n\tsrcRectStart\t\t: vec2<f32>,\n\tsrcRectEnd\t\t\t: vec2<f32>,\n\tpixelSize\t\t\t: vec2<f32>,\n\toutlineThickness\t: f32\n};\n@binding(1) @group(0) var<uniform> uniforms : Uniforms;\n\n\n\t\t%%FRAGMENTINPUT_STRUCT%%\n\t\t%%FRAGMENTOUTPUT_STRUCT%%\n\n\t\t@fragment\n\t\tfn main(input : FragmentInput) -> FragmentOutput {\n\t\t\tvar output : FragmentOutput;\n\t\t\tvar diff : vec2<f32> = input.fragUV - 0.5;\n\t\t\tvar diffSq : vec2<f32> = diff * diff;\n\t\t\tvar distSq : f32 = diffSq.x + diffSq.y;\n\t\t\tvar norm : vec2<f32> = normalize(diff);\n\t\t\tvar halfNorm : vec2<f32> = norm * 0.5;\n\n\t\t\tvar innerF : f32 = step(distSq, 0.25);\n\n\t\t\tvar innerEdge : vec2<f32> = halfNorm - uniforms.pixelSize * norm * uniforms.outlineThickness;\n\t\t\tvar innerEdgeSq : vec2<f32> = innerEdge * innerEdge;\n\t\t\tvar outerF : f32 = step(innerEdgeSq.x + innerEdgeSq.y, distSq);\n\t\t\t\n\t\t\toutput.color = input.fragColor * innerF * outerF;\n\t\t\treturn output;\n\t\t}"}),
c.Da(this,{name:"<smoothellipse>",src:"\n\t\t\nstruct Uniforms {\n\tcolor2\t\t\t\t: vec4<f32>,\n\tpointColor \t\t\t: vec4<f32>,\n\ttileSize\t\t\t: vec2<f32>,\n\ttileSpacing\t\t\t: vec2<f32>,\n\tsrcRectStart\t\t: vec2<f32>,\n\tsrcRectEnd\t\t\t: vec2<f32>,\n\tpixelSize\t\t\t: vec2<f32>,\n\toutlineThickness\t: f32\n};\n@binding(1) @group(0) var<uniform> uniforms : Uniforms;\n\n\n\t\t%%FRAGMENTINPUT_STRUCT%%\n\t\t%%FRAGMENTOUTPUT_STRUCT%%\n\n\t\t@fragment\n\t\tfn main(input : FragmentInput) -> FragmentOutput {\n\t\t\tvar output : FragmentOutput;\n\t\t\tvar diff : vec2<f32> = input.fragUV - 0.5;\n\t\t\tvar diffSq : vec2<f32> = diff * diff;\n\t\t\tvar norm : vec2<f32> = normalize(diff);\n\t\t\tvar halfNorm : vec2<f32> = norm * 0.5;\n\t\t\tvar halfNormSq : vec2<f32> = halfNorm * halfNorm;\n\n\t\t\tvar innerEdge : vec2<f32> = halfNorm - uniforms.pixelSize * norm;\n\t\t\tvar innerEdgeSq : vec2<f32> = innerEdge * innerEdge;\n\n\t\t\tvar f : f32 = smoothstep(halfNormSq.x + halfNormSq.y, innerEdgeSq.x + innerEdgeSq.y, diffSq.x + diffSq.y);\n\n\t\t\toutput.color = input.fragColor * f;\n\t\t\treturn output;\n\t\t}"}),
c.Da(this,{name:"<smoothellipseoutline>",src:"\n\t\t\nstruct Uniforms {\n\tcolor2\t\t\t\t: vec4<f32>,\n\tpointColor \t\t\t: vec4<f32>,\n\ttileSize\t\t\t: vec2<f32>,\n\ttileSpacing\t\t\t: vec2<f32>,\n\tsrcRectStart\t\t: vec2<f32>,\n\tsrcRectEnd\t\t\t: vec2<f32>,\n\tpixelSize\t\t\t: vec2<f32>,\n\toutlineThickness\t: f32\n};\n@binding(1) @group(0) var<uniform> uniforms : Uniforms;\n\n\n\t\t%%FRAGMENTINPUT_STRUCT%%\n\t\t%%FRAGMENTOUTPUT_STRUCT%%\n\n\t\t@fragment\n\t\tfn main(input : FragmentInput) -> FragmentOutput {\n\t\t\tvar output : FragmentOutput;\n\t\t\tvar diff : vec2<f32> = input.fragUV - 0.5;\n\t\t\tvar diffSq : vec2<f32> = diff * diff;\n\t\t\tvar distSq : f32 = diffSq.x + diffSq.y;\n\t\t\tvar norm : vec2<f32> = normalize(diff);\n\t\t\tvar halfNorm : vec2<f32> = norm * 0.5;\n\t\t\tvar halfNormSq : vec2<f32> = halfNorm * halfNorm;\n\n\t\t\tvar pxNorm : vec2<f32> = uniforms.pixelSize * norm;\n\t\t\tvar innerEdge1 : vec2<f32> = halfNorm - pxNorm;\n\t\t\tvar innerEdge1Sq : vec2<f32> = innerEdge1 * innerEdge1;\n\n\t\t\tvar innerF : f32 = smoothstep(halfNormSq.x + halfNormSq.y, innerEdge1Sq.x + innerEdge1Sq.y, distSq);\n\n\t\t\tvar innerEdge2 : vec2<f32> = halfNorm - pxNorm * uniforms.outlineThickness;\n\t\t\tvar innerEdge2Sq : vec2<f32> = innerEdge2 * innerEdge2;\n\t\t\tvar innerEdge3 : vec2<f32> = halfNorm - pxNorm * (uniforms.outlineThickness + 1.0);\n\t\t\tvar innerEdge3Sq : vec2<f32> = innerEdge3 * innerEdge3;\n\n\t\t\tvar outerF : f32 = smoothstep(innerEdge3Sq.x + innerEdge3Sq.y, innerEdge2Sq.x + innerEdge2Sq.y, distSq);\n\t\t\t\n\t\t\toutput.color = input.fragColor * innerF * outerF;\n\t\t\treturn output;\n\t\t}"}),
c.Da(this,{name:"<tilerandomization>",src:c.MB(!1),XA:c.MB(!0)}),c.Da(this,{name:"<smoothline>",src:"\n\t\t%%FRAGMENTINPUT_STRUCT%%\n\t\t%%FRAGMENTOUTPUT_STRUCT%%\n\n\t\t@fragment\n\t\tfn main(input : FragmentInput) -> FragmentOutput {\n\t\t\tvar output : FragmentOutput;\n\t\t\tvar f : f32 = 1.0 - abs(input.fragUV.y - 0.5) * 2.0;\n\t\t\toutput.color = input.fragColor * f;\n\t\t\treturn output;\n\t\t}"})]);this.Ks=c[0];this.NS=c[1];this.dA=c[2];this.cA=c[4];for(var e of c)Ug(this,e);this.vu=this.Ks;
this.F|=65536;this.jL=this.NS.iI();this.OF=a.createBuffer({label:"vertexuniformbuffer",size:this.QF,usage:uj.UNIFORM|uj.COPY_DST});this.JD=a.createBuffer({label:"fragmentuniformbuffer",size:this.GD,usage:uj.UNIFORM|uj.COPY_DST});this.HD=a.createBuffer({label:"fragmentc3paramsuniformbuffer",size:this.IJ,usage:uj.UNIFORM|uj.COPY_DST});this.MJ=a.createBuffer({label:"fragmentdefaultcustomparamsbuffer",size:16,usage:uj.UNIFORM|uj.COPY_DST});this.Yv=0;this.zA=this.QF;Hj(this);Jj(this);Kj(this);this.Ju=
0;this.Oy=this.GD;bk(this,this.jR,this.DR.s3);bk(this,this.lR,this.DR.F4);this.uu=this.nD=Lj(this,this.MJ);e=J.mh(32,32);e.getContext("2d");this.Xn=await this.vw(e);this.mf=null;this.hp=this.Xn.Lp;this.gp=0;this.tu=null;this.iD=this.Xn.du;wk(this.Xn);this.sL=this.ve.createTexture({label:"nulldepthbuffer",size:[8,8,1],format:Mj(),usage:wj.TEXTURE_BINDING});this.tL=this.sL.createView({label:"nulldepthbufferview",aspect:"depth-only"});this.qy=this.ME=this.ve.createBindGroup({label:"nulldepthbufferbindgroup",
layout:this.zy,entries:[{binding:0,resource:this.So({qc:"nearest"})},{binding:1,resource:this.tL}]});this.mj=J.A(J.R.aI,this,!0);xk(this.mj.lc(),b,this.ym);this.rb=this.mj;Nj(this);this.BI=this.ri.info?this.ri.info:this.ri.requestAdapterInfo?await this.ri.requestAdapterInfo():null;this.XE||(this.XE=this.dR.getContext("webgpu"));this.XE.configure({device:a,format:this.ym,usage:b,alphaMode:"premultiplied"});Bj&&Cj("Initialised state")}kg(){return this.ve}async oB(a){Bj&&Cj(`Creating shader program '${a.name}'`);
a=await J.R.vC.Da(this,a);Ug(this,a);return a}jI(){return this.FL}hk(){return Dj(this,32768)}yh(){return Dj(this,33554432)}NG(){let a=0;for(const b of J.R.Bx.JM())b.Rn||(a+=b.Jw());return a}Qo(){return!0}uc(a,b,c){if(this.P!==a||this.S!==b||c)Bj&&Cj(`Setting size to ${a} x ${b}`),this.ne(),this.P=a,this.S=b,this.zg=a,this.zf=b,this.mj.ir(),this.Pl(Ih(this.mj)),this.rb&&this.rb.Lx(this.P,this.S),Dj(this,131072)&&Dj(this,16777216)&&this.nr(a,b)}nr(a,b){if(this.ue){if(this.yy===a&&this.wy===b)return;
this.ue.destroy()}let c=wj.RENDER_ATTACHMENT;this.Xl&&(c|=wj.TEXTURE_BINDING);this.ue=this.ve.createTexture({label:"depthbuffer",size:[a,b,1],format:Mj(),usage:c});this.xy=this.ue.createView({label:"depthbufferview"});this.Xl&&(this.oJ=this.ve.createBindGroup({label:"depthbufferbindgroup",layout:this.zy,entries:[{binding:0,resource:this.So({qc:"nearest"})},{binding:1,resource:this.ue.createView({label:"depthbufferview",aspect:"depth-only"})}]}));this.yy=a;this.wy=b}aQ(a,b){Dj(this,131072)&&(this.Ab(16777216,
!1),this.nr(a,b))}ZP(){Dj(this,131072)&&(this.Ab(16777216,!0),this.nr(this.P,this.S))}Pl(a){tj.Vi(this.os,a)||(tj.wa(this.os,a),Hj(this))}lC(){this.Pl(Ih(this.rb))}er(a){tj.Vi(this.pv,a)||(tj.wa(this.pv,a),Hj(this))}VP(){this.Ab(268435456,!1)}qB(){return Dj(this,268435456)}nt(a,b){if(a&&!yk(a)){var c=a.width||a.videoWidth;const d=a.height||a.videoHeight,e=J.mh(c,d);e.getContext("2d").drawImage(a,0,0,c,d);a=e}this.ne();Bj&&Cj(`Creating texture ${a?a.width:b.width} x ${a?a.height:b.height}`);c=J.A(J.R.Bx,
this);c.Ex(a,b);return c}async vw(a,b){if(yk(a))return this.nt(a,b);if(!J.qb.ImageBitmapOptions)throw Error("no support for ImageBitmapOptions");a=await createImageBitmap(a,{premultiplyAlpha:"premultiply"});return this.nt(a,b)}So(a){var b=a.yq||"clamp-to-edge";const c=a.zq||"clamp-to-edge",d=a.qc;a=a.bw||0;"trilinear"!==d&&(a=0);const e=`${b},${c},${d},${a}`;let f=this.QL.get(e);if(f)return f;b={addressModeU:b,addressModeV:c,magFilter:"nearest",minFilter:"nearest",mipmapFilter:"nearest"};if("bilinear"===
d||"trilinear"===d)b.magFilter="linear",b.minFilter="linear";"trilinear"===d&&(b.mipmapFilter="linear",1<a&&(b.maxAnisotropy=a));f=this.ve.createSampler(b);this.QL.set(e,f);return f}iI(){return this.jL}uw(a,b,c){this.ne();const d=J.A(J.R.Bx,this);d.cI(a,b,c);return d}sQ(a,b){b.GC(a)}bi(a){a&&(Dh(a),0<a.jc||(this.hk()||(this.ne(),this.mf===a&&this.ie(null),this.tu===a&&Oj(this,null)),a.kr()))}pr(a,b){this.hk()||(b?this.KC.add(a):this.KC.delete(a))}Rt(){Bj&&Cj("================== START FRAME ===================");
Qj(this)}Fo(){null===this.Hr&&this.mj.Pk&&Rj(this);super.Fo();var a=this.pj,b=this.Mf;if(0===b%30)for(const [c,d]of a.zr.entries()){let e=0;for(let f=0,g=d.length;f<g;++f){const h=d[f];h.gT<=b-25?(h.gi(),h.m()):(d[e]=h,++e)}0===e?a.zr.delete(c):zk.$e(d,e)}a=this.mj.lc();a.Ta=null;a.gq=null;this.Lv=this.Mv=a.du=null;Bj&&Cj("End of frame");10<=this.Mf&&(Bj=!1)}ne(a=!1){Uj(this);if(this.Lk&&a){var b=this.Lk,c=this.Ck;c.resolveQuerySet(b.$E,0,b.Av,b.gF,0);c.copyBufferToBuffer(b.gF,0,b.Nz,0,8*b.Av);this.F|=
16384}0!==(this.F&16384)&&(this.ly.push(this.Ck.finish()),Nj(this));if(0!==this.ly.length){Bj&&Cj("Ending batch");this.zI();Bj&&Cj(`Submitting ${this.ly.length} commands`);this.ve.queue.submit(this.ly);J.H(this.ly);b=this.pj;for(const d of b.dF)Ak(d);zk.H(b.dF);for(const d of b.ML)d.gi(),d.m();zk.H(b.ML);for(const d of b.rD)d.destroy();zk.H(b.rD);this.Lk&&a&&(Bk(this.Lk),this.Lk=null)}}zI(){const a=this.ve.queue;if(0<this.bo){const b=this.bo;Bj&&Cj("Writing vertex buffers");a.writeBuffer(this.uo,
0,this.Mj.buffer,0,48*b);a.writeBuffer(this.jo,0,this.Uh.buffer,0,48*b);a.writeBuffer(this.bD,0,this.Dr.buffer,0,16*b);this.bo=0}0<this.Qp&&(Bj&&Cj("Writing point buffer"),a.writeBuffer(this.ao,0,this.wv.buffer,0,4*this.Qp),this.Qp=0)}lO(a){let b=this.P,c=this.S,d=!0;a&&("number"===typeof a.width&&(b=Math.floor(a.width),d=!1),"number"===typeof a.height&&(c=Math.floor(a.height),d=!1));if(0>=b||0>=c)throw Error("invalid size");this.ne();const e=J.A(J.R.aI,this);e.Ex(b,c,Object.assign({NA:d},a));return e}he(a,
b=!0){null===a&&(a=this.mj);this.rb!==a&&(Uj(this),this.rb=a,this.Ab(524288,a.te),a.Pn&&!a.xp&&a.Lx(this.P,this.S),b&&this.lC())}Nq(){}bj(){return this.rb===this.mj?null:this.rb}Bt(a){return null===a?[this.P,this.S]:[a.M(),a.K()]}nO(a){this.ne();this.rb===a&&this.he(null);const b=a.lc();this.mf===b&&this.ie(null);this.tu===b&&Oj(this,null);a.kr()}hf(a){0!==(this.F&131072)&&(a=!!a,0!==(this.F&262144)!==a&&(0!==(this.F&524288)&&Uj(this),this.Ab(262144,a)))}bx(){return Dj(this,262144)}Ot(a){if(this.Xl){if(a&&
this.bx())throw Error("depth still enabled");a=a?this.oJ:this.ME;this.qy!==a&&(Pj(this),this.qy=a,this.F|=256)}}fe(a){Uj(this);this.rb.Pk=!0;this.rb.Br.set(a)}ai(a,b,c,d){Uj(this);this.rb.Pk=!0;pd(this.rb.Br,a,b,c,d)}FG(){655360===(this.F&655360)&&(Uj(this),this.F|=1048576)}fQ(a,b,c,d){a=Math.floor(a);b=Math.floor(b);c=Math.floor(c);d=Math.floor(d);0!==(this.F&4)&&Gd(this.jF,a,b,c,d)||(Pj(this),this.F|=12,Fd(this.jF,a,b,c,d))}EH(){0!==(this.F&4)&&(Pj(this),this.F&=-5,this.F|=8)}Ol(a){this.vu!==a&&
(Pj(this),this.vu=a,this.ng=null,this.F|=32,a=a===this.Ks,a=!!a,0!==(this.F&65536)!==a&&(this.Ab(65536,a),gk(this,null===this.mf?this.Xn:this.mf)))}ie(a){a!==this.mf&&(this.mf=a,null===a&&(a=this.Xn),gk(this,a))}Ie(a){a!==this.jD&&(Pj(this),this.jD=a,this.ng=null,this.F|=32)}vx(){this.Ie(0)}dr(){this.Ie(3)}Ff(a,b,c,d){const e=this.Dn;vd(e,a,b,c,d)||(pd(e,a,b,c,d),this.ng=null)}wh(a){const b=this.Dn;b.Xa!==a&&(td(b,a),this.ng=null)}Kc(){return this.Dn.Xa}mk(a){const b=this.Dn;b.Fd(a)||(b.set(a),this.ng=
null)}Rect(a){this.qx(a.$,a.V,a.ja,a.da)}qx(a,b,c,d){this.zH(a,b,c,b,c,d,a,d)}Jd(a){this.AH(a,yj)}zH(a,b,c,d,e,f,g,h){Wj(this);const k=this.Mj,l=this.bo++;let m=12*l;const n=this.Eh+this.Fn;k[m++]=a;k[m++]=b;k[m++]=n;k[m++]=c;k[m++]=d;k[m++]=n;k[m++]=e;k[m++]=f;k[m++]=n;k[m++]=g;k[m++]=h;k[m]=n;Nd(yj,this.Uh,12*l,this.gp);this.Dn.de(this.Dr,4*l)}Jl(a,b){Wj(this);const c=this.bo++;Nd(a,this.Mj,12*c,this.Eh+this.Fn);a=this.Uh;var d=12*c,e=this.gp;a[d++]=b.$;a[d++]=b.V;a[d++]=e;a[d++]=b.ja;a[d++]=b.V;
a[d++]=e;a[d++]=b.ja;a[d++]=b.da;a[d++]=e;a[d++]=b.$;a[d++]=b.da;a[d]=e;this.Dn.de(this.Dr,4*c)}AH(a,b){Wj(this);const c=this.bo++;Nd(a,this.Mj,12*c,this.Eh+this.Fn);Nd(b,this.Uh,12*c,this.gp);this.Dn.de(this.Dr,4*c)}nx(a,b,c,d,e,f,g,h,k,l,m,n,p){Wj(this);const q=this.Mj,u=this.bo++;let r=12*u;const t=this.Eh+this.Fn;q[r++]=a;q[r++]=b;q[r++]=t+c;q[r++]=d;q[r++]=e;q[r++]=t+f;q[r++]=g;q[r++]=h;q[r++]=t+k;q[r++]=l;q[r++]=m;q[r]=t+n;Nd(p,this.Uh,12*u,this.gp);this.Dn.de(this.Dr,4*u)}qC(a,b,c,d,e,f,g,
h,k,l,m){f=this.HJ;g=this.vu;m%=10800;g.gu&&Oj(this,a);g.QT&&(fk(this,b,f.B3),fk(this,c,f.eV),fk(this,d,f.R4),fk(this,e,f.$s));dk(this,h,f.devicePixelRatio);dk(this,k,f.PA);dk(this,l,f.OA);dk(this,m,f.nG);dk(this,this.Jp,f.i5);dk(this,this.mp,f.h5)}pC(a){a&&(a.dE&&(Uj(this),Sj(a.za().pj,this.Ck,a.Rb,a.LI,0,a.TI),a.dE=!1),jk(this,a.SI))}mB(a){a.Pk?(this.rb.Pk=!0,this.rb.Br.set(a.Br)):2<=a.ye&&2>this.rb.ye?(ak(this,a),Uj(this),this.Ck.beginRenderPass({colorAttachments:[{view:a.lc().To(),resolveTarget:this.rb.lc().To(),
loadOp:"load",storeOp:"store"}]}).end(),this.F|=16384):(this.ai(0,0,0,0),this.dr(),oj(this),this.pt(a))}pt(a){ak(this,a);a=a.lc();this.ie(a);this.Bw()}Bw(){const a=Dj(this,134217728);a||ik(this,!0);Zg(this,0);Aj.set(0,-1,0,-1,2,1,0,1);zj.set(0,-1,2,1);this.Jl(Aj,zj);a||ik(this,!1)}HG(){Uj(this);this.hf(!0);this.F|=10485760}lB(){Uj(this);this.hf(!1);this.F&=-2097153;this.F|=4194304}YO(){return Dj(this,4194304)}kB(){Uj(this);this.hf(!0);this.F&=-4194305}kI(){Yg(this,[["normal","one","one-minus-src-alpha"],
["additive","one","one"],["xor","one","one-minus-src-alpha"],["copy","one","zero"],["destination-over","one-minus-dst-alpha","one"],["source-in","dst-alpha","zero"],["destination-in","zero","src-alpha"],["source-out","one-minus-dst-alpha","zero"],["destination-out","zero","one-minus-src-alpha"],["source-atop","dst-alpha","one-minus-src-alpha"],["destination-atop","one-minus-dst-alpha","src-alpha"]])}};"use strict";const zk=self.B;
function Sj(a,b,c,d,e,f){var g=Math.max(zk.bt(f),16);var h=a.zr.get(g);if("undefined"!==typeof h&&0<h.length){var k=h.pop();k.wg=1;0===h.length&&a.zr.delete(g);g=k}else g=zk.A(zk.R.C0,a,g);h=g.Rb;k=h.getMappedRange(0,f);(new Uint8Array(k)).set(new Uint8Array(d,e,f));h.unmap();b.copyBufferToBuffer(h,0,c,e,f);a.dF.push(g)}zk.R.A0=class{constructor(a){this.O=a;this.zr=new Map;this.dF=[];this.ML=[];this.rD=[]}za(){return this.O}Wd(){this.zr.clear();zk.H(this.dF);zk.H(this.ML);zk.H(this.rD)}};"use strict";
const Ck=self.GPUBufferUsage,Dk=self.GPUMapMode;async function Ak(a){a.wg=2;try{await a.Rb.mapAsync(Dk.WRITE)}catch(c){console.warn("[WebGPU] Error recycling buffer, assuming device was lost: ",c);return}if(!a.za().hk()){a.wg=0;a.gT=a.za().Mf;var b=a.pj;const c=a.gi(),d=b.zr.get(c);"undefined"===typeof d?b.zr.set(c,[a]):d.push(a)}}
self.B.R.C0=class{constructor(a,b){this.pj=a;this.wg=1;this.xm=b;this.Rb=this.za().kg().createBuffer({mappedAtCreation:!0,size:b,usage:Ck.COPY_SRC|Ck.MAP_WRITE});this.gT=0}za(){return this.pj.za()}gi(){return this.xm}m(){this.Rb.destroy();this.pj=this.Rb=null}};"use strict";const Ek=self.GPUBufferUsage;
function Fk(a,b,c){var d=a.Ic.Ca[b];b=d.type;const e=d.offset/4;d=a.wR;if("color"===b){if(d[e]!==Math.fround(c.ab)||d[e+1]!==Math.fround(c.ib)||d[e+2]!==Math.fround(c.$a))b=e,d[b++]=c.ab,d[b++]=c.ib,d[b]=c.$a,a.dE=!0}else if("float"===b||"percent"===b)d[e]!==Math.fround(c)&&(d[e]=c,a.dE=!0);else throw Error(`unexpected shader param type '${b}'`);}
self.B.R.yQ=class{constructor(a){const b=a.za();this.Ic=a;this.TI=a.lD;this.LI=new ArrayBuffer(this.TI);this.wR=new Float32Array(this.LI);this.dE=!1;this.Rb=b.kg().createBuffer({size:this.TI,usage:Ek.UNIFORM|Ek.COPY_DST});this.SI=Lj(b,this.Rb)}m(){var a=this.za();a.uu===this.SI&&jk(a,a.nD);this.za().pj.rD.push(this.Rb);this.SI=this.wR=this.LI=this.Ic=this.Rb=null}za(){return this.Ic.za()}Ge(){return this.Ic}};"use strict";const Gk=self.B;
function Hk(a){for(const b of Object.values(a))b.end=b.offset+b.size}function Zj(){const a=[];for(let b=0;55>b;++b)a.push(null);return a}const lk={transform:{offset:0,size:64,end:0},G4:{offset:64,size:16,end:0},uia:{offset:64,size:8,end:0},tia:{offset:72,size:8,end:0},vl:{offset:80,size:4,end:0}};Hk(lk);
const mk=lk.vl.end,nk={s3:{offset:0,size:16,end:0},F4:{offset:16,size:16,end:0},uja:{offset:32,size:8,end:0},vja:{offset:40,size:8,end:0},eV:{offset:48,size:16,end:0},nja:{offset:48,size:8,end:0},mja:{offset:56,size:8,end:0},sia:{offset:64,size:8,end:0},D4:{offset:72,size:4,end:0}};Hk(nk);
const ok=nk.D4.end,Ik="srcStart srcEnd srcOriginStart srcOriginEnd c3_srcToNorm c3_normToSrc c3_clampToSrc c3_srcOriginToNorm c3_normToSrcOrigin c3_clampToSrcOrigin c3_getLayoutPos c3_srcToDest".split(" "),Jk=["layoutStart","layoutEnd","destStart","destEnd","c3_clampToDest"],pk={eV:{offset:0,size:16,end:0},oja:{offset:0,size:8,end:0},jja:{offset:8,size:8,end:0},R4:{offset:16,size:16,end:0},lja:{offset:16,size:8,end:0},kja:{offset:24,size:8,end:0},$s:{offset:32,size:16,end:0},Pha:{offset:32,size:8,
end:0},Oha:{offset:40,size:8,end:0},B3:{offset:48,size:16,end:0},Ega:{offset:48,size:8,end:0},Dga:{offset:56,size:8,end:0},devicePixelRatio:{offset:64,size:4,end:0},PA:{offset:68,size:4,end:0},OA:{offset:72,size:4,end:0},nG:{offset:76,size:4,end:0},i5:{offset:80,size:4,end:0},h5:{offset:84,size:4,end:0},mN:{offset:88,size:4,end:0}};Hk(pk);const qk=pk.mN.end,Kk=new Map([["float",4],["percent",4],["color",12]]),Lk=new Map([["float",4],["percent",4],["color",16]]);
function sk(a,b,c){for(const d of c.messages)c=`[WebGPU] Message (${d.type}) compiling ${b} shader '${a}': ${d.message} (line ${d.lineNum}, pos ${d.linePos})`,"error"===d.type?console.error(c):"warning"===d.type?console.warn(c):console.log(c)}function tk(a){return`
		@binding(0) @group(1) var sampler0 : sampler;
		@binding(1) @group(1) var texture0 : texture_2d<f32>;
		@binding(2) @group(1) var sampler1 : sampler;
		@binding(3) @group(1) var texture1 : texture_2d<f32>;
		@binding(4) @group(1) var sampler2 : sampler;
		@binding(5) @group(1) var texture2 : texture_2d<f32>;
		@binding(6) @group(1) var sampler3 : sampler;
		@binding(7) @group(1) var texture3 : texture_2d<f32>;
		@binding(8) @group(1) var sampler4 : sampler;
		@binding(9) @group(1) var texture4 : texture_2d<f32>;
		@binding(10) @group(1) var sampler5 : sampler;
		@binding(11) @group(1) var texture5 : texture_2d<f32>;
		@binding(12) @group(1) var sampler6 : sampler;
		@binding(13) @group(1) var texture6 : texture_2d<f32>;
		@binding(14) @group(1) var sampler7 : sampler;
		@binding(15) @group(1) var texture7 : texture_2d<f32>;
		@binding(16) @group(1) var sampler8 : sampler;
		@binding(17) @group(1) var texture8 : texture_2d<f32>;
		@binding(18) @group(1) var sampler9 : sampler;
		@binding(19) @group(1) var texture9 : texture_2d<f32>;
		@binding(20) @group(1) var sampler10 : sampler;
		@binding(21) @group(1) var texture10 : texture_2d<f32>;
		@binding(22) @group(1) var sampler11 : sampler;
		@binding(23) @group(1) var texture11 : texture_2d<f32>;
		@binding(24) @group(1) var sampler12 : sampler;
		@binding(25) @group(1) var texture12 : texture_2d<f32>;
		@binding(26) @group(1) var sampler13 : sampler;
		@binding(27) @group(1) var texture13 : texture_2d<f32>;

		struct FragmentInput {
			@location(0) fragUV : vec3<f32>,
			@location(1) fragColor : vec4<f32>,
			${a?"@builtin(position) fragPos: vec4<f32>":""}
		};

		struct FragmentOutput {
			@location(0) color : vec4<f32>,
			${a?"@builtin(frag_depth) fragDepth: f32":""} 
		};

		@fragment
		fn main(input : FragmentInput) -> FragmentOutput {
			var output : FragmentOutput;
			var texXy : vec2<f32> = input.fragUV.xy;
			var texIndex : f32 = input.fragUV.z;
			var c : vec4<f32>;

			let dx = dpdx(texXy);
			let dy = dpdy(texXy);
			
			if (texIndex < 6.5)
			{
				if (texIndex < 2.5)
				{
					if (texIndex < 0.5)			{	c = textureSampleGrad(texture0, sampler0, texXy, dx, dy);	}
					else
					{
						if (texIndex < 1.5)		{	c = textureSampleGrad(texture1, sampler1, texXy, dx, dy);	}
						else					{	c = textureSampleGrad(texture2, sampler2, texXy, dx, dy);	}
					}						
				}
				else
				{
					if (texIndex < 4.5)
					{
						if (texIndex < 3.5)		{	c = textureSampleGrad(texture3, sampler3, texXy, dx, dy);	}
						else					{	c = textureSampleGrad(texture4, sampler4, texXy, dx, dy);	}
					}
					else
					{
						if (texIndex < 5.5)		{	c = textureSampleGrad(texture5, sampler5, texXy, dx, dy);	}
						else					{	c = textureSampleGrad(texture6, sampler6, texXy, dx, dy);	}
					}
				}
			}
			else
			{
				if (texIndex < 9.5)
				{
					if (texIndex < 7.5)			{	c = textureSampleGrad(texture7, sampler7, texXy, dx, dy);	}
					else
					{
						if (texIndex < 8.5)		{	c = textureSampleGrad(texture8, sampler8, texXy, dx, dy);	}
						else					{	c = textureSampleGrad(texture9, sampler9, texXy, dx, dy);	}
					}						
				}
				else
				{
					if (texIndex < 11.5)
					{
						if (texIndex < 10.5)	{	c = textureSampleGrad(texture10, sampler10, texXy, dx, dy);	}
						else					{	c = textureSampleGrad(texture11, sampler11, texXy, dx, dy);	}
					}
					else
					{
						if (texIndex < 12.5)	{	c = textureSampleGrad(texture12, sampler12, texXy, dx, dy);	}
						else					{	c = textureSampleGrad(texture13, sampler13, texXy, dx, dy);	}
					}
				}
			}

			output.color = c * input.fragColor;
			${a?"output.fragDepth = select(input.fragPos.z, 1.0, output.color.a == 0.0);":""}
			return output;
		}`}function uk(a){return`
		${"\nstruct Uniforms {\n\tcolor2\t\t\t\t: vec4<f32>,\n\tpointColor \t\t\t: vec4<f32>,\n\ttileSize\t\t\t: vec2<f32>,\n\ttileSpacing\t\t\t: vec2<f32>,\n\tsrcRectStart\t\t: vec2<f32>,\n\tsrcRectEnd\t\t\t: vec2<f32>,\n\tpixelSize\t\t\t: vec2<f32>,\n\toutlineThickness\t: f32\n};\n@binding(1) @group(0) var<uniform> uniforms : Uniforms;\n"}

		%%SAMPLERFRONT_BINDING%% var sampler0 : sampler;
		%%TEXTUREFRONT_BINDING%% var texture0 : texture_2d<f32>;

		struct FragmentInput {
			@location(0) fragUV : vec2<f32>,
			@location(1) pointOpacity : f32,
			@builtin(position) fragPos : vec4<f32>
		};
		
		struct FragmentOutput {
			@location(0) color : vec4<f32>,
			${a?"@builtin(frag_depth) fragDepth: f32":""} 
		};

		@fragment
		fn main(input : FragmentInput) -> FragmentOutput {
			var output : FragmentOutput;
			output.color = textureSample(texture0, sampler0, input.fragUV) * uniforms.pointColor * input.pointOpacity;
			${a?"output.fragDepth = select(input.fragPos.z, 1.0, output.color.a == 0.0);":""}
			return output;
		}`}function vk(a){return`
		${"\nstruct Uniforms {\n\tcolor2\t\t\t\t: vec4<f32>,\n\tpointColor \t\t\t: vec4<f32>,\n\ttileSize\t\t\t: vec2<f32>,\n\ttileSpacing\t\t\t: vec2<f32>,\n\tsrcRectStart\t\t: vec2<f32>,\n\tsrcRectEnd\t\t\t: vec2<f32>,\n\tpixelSize\t\t\t: vec2<f32>,\n\toutlineThickness\t: f32\n};\n@binding(1) @group(0) var<uniform> uniforms : Uniforms;\n"}

		%%SAMPLERFRONT_BINDING%% var sampler0 : sampler;
		%%TEXTUREFRONT_BINDING%% var texture0 : texture_2d<f32>;

		%%FRAGMENTINPUT_STRUCT%%
		
		struct FragmentOutput {
			@location(0) color : vec4<f32>,
			${a?"@builtin(frag_depth) fragDepth: f32":""} 
		};

		@fragment
		fn main(input : FragmentInput) -> FragmentOutput {
			var output : FragmentOutput;
			var halfPixelSize : vec2<f32> = vec2<f32>(0.5, 0.5) / vec2<f32>(textureDimensions(texture0));

			var tile : vec2<f32> = floor(input.fragUV);
			var tex : vec2<f32> = fract(input.fragUV);
			var tileOrigin : vec2<f32> = uniforms.srcRectStart + tile * (uniforms.tileSize + uniforms.tileSpacing);
			var lowerBound : vec2<f32> = tileOrigin + halfPixelSize;
			var upperBound : vec2<f32> = tileOrigin + uniforms.tileSize - halfPixelSize;

			output.color = textureSampleLevel(texture0, sampler0, clamp(tex, lowerBound, upperBound), 0.0) * input.fragColor;
			${a?"output.fragDepth = select(input.fragPos.z, 1.0, output.color.a == 0.0);":""}
			return output;
		}`}function Mk(a,b){a=rk(a,b);return Gk.a0(a)}function Nk(a,b){return a.kg().createRenderPipelineAsync(Yj(a,0,b,0))}function rk(a,b){return a?(b?"enable f16;\nalias f16or32 = f16;\n":"alias f16or32 = f32;\n")+a:a}
function Yj(a,b,c,d){const [e,f]=a.O.QC[b];b={label:`${a.ea()} blendMode ${b} variant ${c} multisampleCount ${d}`,layout:a.jI(),vertex:{module:4===c?a.ss:a.zM,entryPoint:"main",buffers:[{arrayStride:12,attributes:[{shaderLocation:0,offset:0,format:"float32x3"}]},{arrayStride:12,attributes:[{shaderLocation:1,offset:0,format:"float32x3"}]}]},fragment:{module:a.Ku,entryPoint:"main",targets:[{format:a.O.ym,blend:{color:{srcFactor:e,dstFactor:f},alpha:{srcFactor:e,dstFactor:f}}}]}};2<=d&&(b.multisample=
{count:d});1===c?(b.fragment.module=a.ID||a.Ku,b.depthStencil={format:Mj(),depthWriteEnabled:!0,depthCompare:"less-equal"}):2===c?(b.fragment.module=a.ID||a.Ku,b.fragment.targets=[],a={compare:"always",failOp:"keep",depthFailOp:"keep",passOp:"replace"},b.depthStencil={format:Mj(),depthWriteEnabled:!0,depthCompare:"less-equal",stencilFront:a,stencilBack:a,stencilReadMask:1,stencilWriteMask:1}):3===c&&(b.fragment.module=a.ID||a.Ku,a={compare:"equal",failOp:"keep",depthFailOp:"keep",passOp:"keep"},b.depthStencil=
{format:Mj(),depthWriteEnabled:!1,depthCompare:"always",stencilFront:a,stencilBack:a,stencilReadMask:1,stencilWriteMask:0});return b}
Gk.R.vC=class extends Gk.R.jQ{constructor(a,b){super(a,b);this.Ku=b.K3;this.ID=b.L3;this.zM=b.g5;this.ss=b.x4;this.Ev=Zj();this.mL=new Map;this.kL=new Map;this.TT=this.QT=!1;this.Ca=[];this.lD=0;if(b.parameters){a=0;for(const c of b.parameters){b=c[2];if(!Kk.has(b))throw Error(`unrecognized effect param type '${b}'`);const d=Kk.get(b),e=Lk.get(b),f=a%e;0!==f&&(a+=e-f);this.Ca.push({type:b,offset:a,size:d,end:a+d});a+=d}this.lD=16*Math.ceil(a/16)}}static async Da(a,b){var c=a.kg();const d=b.name;var e=
Dj(a,67108864);const f=b.src;var g=Mk(f,e);g=c.createShaderModule({label:d,code:g});var h=null;b.XA&&(h=Mk(b.XA,e),h=c.createShaderModule({label:d,code:h}));g.getCompilationInfo().then(l=>sk(d,"fragment",l));var k;(k=rk(b.kt,e))?(k=c.createShaderModule({label:d,code:k}),k.getCompilationInfo().then(l=>sk(d,"vertex",l))):k=a.qD;(e=rk(b.y4,e))?(c=c.createShaderModule({label:d,code:e}),c.getCompilationInfo().then(l=>sk(d,"vertex (norm)",l))):c=a.ss;b=Gk.A(Gk.R.vC,a,Object.assign({K3:g,L3:h,g5:k,x4:c},
b));b.yA=f.includes("%%C3PARAMS_STRUCT%%")&&Ik.some(l=>f.includes(l));b.QT=b.yA||f.includes("%%C3PARAMS_STRUCT%%")&&Jk.some(l=>f.includes(l));b.TT=f.includes("%%C3PARAMS_STRUCT%%")&&f.includes("isSrcTexRotated");if("<generate-mipmap>"!==d){c=Nk(b,0);g=null;Dj(a,131072)&&(g=Nk(b,1));const [l,m]=await Promise.all([c,g]);b.Ev[0]=l;m&&(b.Ev[1]=m)}return b}m(){this.ss=this.zM=this.ID=this.Ku=null;for(let a=0,b=this.Ev.length;a<b;++a)this.Ev[a]=null;this.mL.clear();this.kL.clear();super.m()}kg(){return this.O.kg()}jI(){return this.O.jI()}za(){return this.O}tQ(){return this.TT}FO(){return this.Ca.length}Ow(a){return 0>
a||a>=this.Ca.length?null:this.Ca[a].type}static ut(){return"\n\t\t\nstruct Uniforms {\n\ttransform\t\t: mat4x4<f32>,\n\tpointTexStart\t: vec2<f32>,\n\tpointTexEnd\t\t: vec2<f32>,\n\tzElevation\t\t: f32\n};\n@binding(0) @group(0) var<uniform> uniforms : Uniforms;\n\n\n\t\tstruct ColorData {\n\t\t\tdata : array<vec4<f32>>\n\t\t};\n\t\t@binding(2) @group(0) var<storage> colorBuffer : ColorData;\n\n\t\tstruct VertexInput {\n\t\t\t@builtin(vertex_index) VertexIndex : u32,\n\t\t\t@location(0) position : vec3<f32>,\n\t\t\t@location(1) uv : vec3<f32>\n\t\t};\n\n\t\tstruct VertexOutput {\n\t\t\t@builtin(position) Position : vec4<f32>,\n\t\t\t@location(0) fragUV : vec2<f32>,\n\t\t\t@location(1) fragColor : vec4<f32>\n\t\t};\n\n\t\t@vertex\n\t\tfn main(input : VertexInput) -> VertexOutput {\n\t\t\tvar output : VertexOutput;\n\t\t\toutput.Position = uniforms.transform * vec4<f32>(input.position, 1.0);\n\t\t\toutput.fragUV = input.uv.xy;\n\t\t\toutput.fragColor = colorBuffer.data[input.VertexIndex / u32(4)];\n\t\t\treturn output;\n\t\t}"}iI(){var a;
a||(a=this.O.jM);let b=this.kL.get(a);b||(b=this.kg().createRenderPipeline({label:"<mipmap generator>",layout:"auto",vertex:{module:this.zM,entryPoint:"main"},primitive:{topology:"triangle-strip",stripIndexFormat:"uint16"},fragment:{module:this.Ku,entryPoint:"main",targets:[{format:a,blend:{color:{srcFactor:"one",dstFactor:"zero"},alpha:{srcFactor:"one",dstFactor:"zero"}}}]}}),this.kL.set(a,b));return b}static MB(a){return`
${"\nstruct Uniforms {\n\tcolor2\t\t\t\t: vec4<f32>,\n\tpointColor \t\t\t: vec4<f32>,\n\ttileSize\t\t\t: vec2<f32>,\n\ttileSpacing\t\t\t: vec2<f32>,\n\tsrcRectStart\t\t: vec2<f32>,\n\tsrcRectEnd\t\t\t: vec2<f32>,\n\tpixelSize\t\t\t: vec2<f32>,\n\toutlineThickness\t: f32\n};\n@binding(1) @group(0) var<uniform> uniforms : Uniforms;\n"}

%%SAMPLERFRONT_BINDING%% var sampler0 : sampler;
%%TEXTUREFRONT_BINDING%% var texture0 : texture_2d<f32>;

%%FRAGMENTINPUT_STRUCT%%

struct FragmentOutput {
	@location(0) color : vec4<f32>,
	${a?"@builtin(frag_depth) fragDepth: f32":""} 
};

%%C3_UTILITY_FUNCTIONS%%

const PI : f32 = 3.1415926;

fn cospVec4(a : vec4<f32>, b : vec4<f32>, x : f32) -> vec4<f32>
{
	return (a + b + (a - b) * cos(x * PI)) / 2.0;
}

fn randVec3(seed : vec2<f32>) -> vec3<f32>
{
	return vec3<f32>(
		fract(sin(dot(seed.xy, vec2<f32>(12.9898,78.233))) * 43758.5453),
		fract(sin(dot(seed.yx, vec2<f32>(12.9898,-78.233))) * 43758.5453),
		fract(sin(dot(seed.xy, vec2<f32>(-12.9898,-78.233))) * 43758.5453));
}

fn sampleTile(tile : vec2<f32>, uv : vec2<f32>, ddx : vec2<f32>, ddy : vec2<f32>) -> vec4<f32>
{
	var posRandom = uniforms.tileSize;
	var angleRandom = uniforms.outlineThickness;
	var pixelSize = c3_getPixelSize(texture0);
	
	var rand = (randVec3(round(tile)) - 0.5) * 2.0;
	
	var angle = angleRandom * rand.z * PI;
	var sin_a = sin(angle);
	var cos_a = cos(angle);
	var aspect = pixelSize.x / pixelSize.y;

	var mid = tile + vec2<f32>(0.5, 0.5);
	var dp = uv - mid;
	dp.x /= aspect;
	var r = vec2<f32>(dp.x * cos_a - dp.y * sin_a,
					  dp.y * cos_a + dp.x * sin_a);
	r.x *= aspect;

	var p = mid + r + (posRandom * rand.xy / 2.0);
	
	return textureSampleGrad(texture0, sampler0, p, ddx, ddy);
}

@fragment
fn main(input : FragmentInput) -> FragmentOutput
{
	var output : FragmentOutput;
	
	var blendMarginX = uniforms.tileSpacing.x;
	var blendMarginY = uniforms.tileSpacing.y;
	
	var tile = floor(input.fragUV);
	var tex = fract(input.fragUV);
	var ddx = dpdx(input.fragUV);
	var ddy = dpdy(input.fragUV);
	
	var curTile = sampleTile(tile, input.fragUV, ddx, ddy);
	
	var inLeftMargin = (tex.x < blendMarginX);
	var inRightMargin = (tex.x > 1.0 - blendMarginX);
	var inTopMargin = (tex.y < blendMarginY);
	var inBottomMargin = (tex.y > 1.0 - blendMarginY);
	
	if (inLeftMargin)
	{
		var leftTile = sampleTile(tile + vec2<f32>(-1.0, 0.0), input.fragUV, ddx, ddy);
		var leftMix = (tex.x / (blendMarginX * 2.0)) + 0.5;
		var leftMixedTile = cospVec4(leftTile, curTile, leftMix);
		
		if (inTopMargin)
		{
			var topTile =     sampleTile(tile + vec2<f32>(0.0,  -1.0), input.fragUV, ddx, ddy);
			var topLeftTile = sampleTile(tile + vec2<f32>(-1.0, -1.0), input.fragUV, ddx, ddy);
			var topLeftMixedTile = cospVec4(topLeftTile, topTile, leftMix);
			
			output.color = cospVec4(topLeftMixedTile, leftMixedTile, (tex.y / (blendMarginY * 2.0)) + 0.5);
		}
		else if (inBottomMargin)
		{
			var bottomTile =     sampleTile(tile + vec2<f32>(0.0,  1.0), input.fragUV, ddx, ddy);
			var bottomLeftTile = sampleTile(tile + vec2<f32>(-1.0, 1.0), input.fragUV, ddx, ddy);
			var bottomLeftMixedTile = cospVec4(bottomLeftTile, bottomTile, leftMix);
			
			output.color = cospVec4(leftMixedTile, bottomLeftMixedTile, (tex.y - (1.0 - blendMarginY)) / (blendMarginY * 2.0));
		}
		else
		{
			output.color = leftMixedTile;
		}
	}
	else if (inRightMargin)
	{
		var rightTile = sampleTile(tile + vec2(1.0, 0.0), input.fragUV, ddx, ddy);
		var rightMix = (tex.x - (1.0 - blendMarginX)) / (blendMarginX * 2.0);
		var rightMixedTile = cospVec4(curTile, rightTile, rightMix);
		
		if (inTopMargin)
		{
			var topTile =      sampleTile(tile + vec2<f32>(0.0, -1.0), input.fragUV, ddx, ddy);
			var topRightTile = sampleTile(tile + vec2<f32>(1.0, -1.0), input.fragUV, ddx, ddy);
			var topRightMixedTile = cospVec4(topTile, topRightTile, rightMix);
			
			output.color = cospVec4(topRightMixedTile, rightMixedTile, (tex.y / (blendMarginY * 2.0)) + 0.5);
		}
		else if (inBottomMargin)
		{
			var bottomTile =      sampleTile(tile + vec2<f32>(0.0, 1.0), input.fragUV, ddx, ddy);
			var bottomRightTile = sampleTile(tile + vec2<f32>(1.0, 1.0), input.fragUV, ddx, ddy);
			var bottomRightMixedTile = cospVec4(bottomTile, bottomRightTile, rightMix);
			
			output.color = cospVec4(rightMixedTile, bottomRightMixedTile, (tex.y - (1.0 - blendMarginY)) / (blendMarginY * 2.0));
		}
		else
		{
			output.color = rightMixedTile;
		}
	}
	else if (inTopMargin)
	{
		var topTile = sampleTile(tile + vec2<f32>(0.0, -1.0), input.fragUV, ddx, ddy);
		output.color = cospVec4(topTile, curTile, (tex.y / (blendMarginY * 2.0)) + 0.5);
	}
	else if (inBottomMargin)
	{
		var bottomTile = sampleTile(tile + vec2<f32>(0.0, 1.0), input.fragUV, ddx, ddy);
		output.color = cospVec4(curTile, bottomTile, (tex.y - (1.0 - blendMarginY)) / (blendMarginY * 2.0));
	}
	else
	{
		output.color = curTile;
	}
	
	output.color *= input.fragColor;
	${a?"output.fragDepth = select(input.fragPos.z, 1.0, output.color.a == 0.0);":""}
	return output;
}
`}};"use strict";
const Ok=self.B,Pk=new Set(["nearest","bilinear","trilinear"]),Qk=new Set(["clamp-to-edge","repeat","mirror-repeat"]),Rk=self.GPUTextureUsage,Sk={yq:"clamp-to-edge",zq:"clamp-to-edge",qc:"trilinear",bw:0,Ao:!0,jN:!1,Uj:!1,sq:!1,VF:!1,mw:0,width:-1,height:-1},Tk=[[1,["r8unorm","r8snorm","r8uint","r8sint","stencil8"]],[2,"r16uint r16sint r16float rg8unorm rg8snorm rg8uint rg8sint depth16unorm".split(" ")],[3,["depth24plus"]],[4,"r32uint r32sint r32float rg16uint rg16sint rg16float rgba8unorm rgba8unorm-srgb rgba8snorm rgba8uint rgba8sint bgra8unorm bgra8unorm-srgb rgb9e5ufloat rgb10a2uint rgb10a2unorm rg11b10ufloat depth24plus-stencil8 depth32float".split(" ")],[8,
"rg32uint rg32sint rg32float rgba16uint rgba16sint rgba16float".split(" ")],[16,["rgba32uint","rgba32sint","rgba32float"]],[5,["depth32float-stencil8"]]],Uk=new Map;for(const [a,b]of Tk)for(const c of b)Uk.set(c,a);const Vk=new Set,Wk={premultiplyAlpha:!0,flipY:!1};function wk(a){a.HE=!1;a.pr(!1)}function xk(a,b,c){a.Si=b;a.qp=c}
function yk(a){return a instanceof ImageBitmap||"undefined"!==typeof HTMLVideoElement&&a instanceof HTMLVideoElement||"undefined"!==typeof HTMLCanvasElement&&a instanceof HTMLCanvasElement||"undefined"!==typeof OffscreenCanvas&&a instanceof OffscreenCanvas}
function Xk(a){const b=a.O,c=b.kg();a.Si=0;a.Rn?(a.Si=Rk.RENDER_ATTACHMENT,a.Ei&&(a.Si|=Rk.TEXTURE_BINDING),a.cR&&(a.Si|=Rk.COPY_DST),a.qp=a.O.ym):(a.Si=Rk.COPY_DST|Rk.TEXTURE_BINDING,a.qp=a.O.jM);a.WI&&(a.Si|=Rk.COPY_SRC);a.Ta=c.createTexture({size:[a.P,a.S,1],mipLevelCount:Yk(a),format:a.qp,usage:a.Si,sampleCount:2<=a.ye?a.ye:1});a.gq=a.Ta.createView();const d=[];for(let e=0;14>e;++e)d.push({binding:2*e,resource:a.Rz},{binding:2*e+1,resource:a.gq});if(!a.Rn||a.Ei)a.Lp=c.createBindGroup({layout:b.iA,
entries:d}),a.du=c.createBindGroup({layout:b.Xx,entries:[{binding:0,resource:a.O.So({qc:"nearest"})},{binding:1,resource:a.gq}]});a.rf&&a.HE&&!a.Rn&&a.pr(!0);Vk.add(a)}
function Zk(a,b){a.Im=b.yq;a.Jm=b.zq;a.Yb=b.qc;a.vr=b.bw;a.Nh=!!b.Ao&&a.O.Or&&"nearest"!==b.qc;a.Rn=!!b.jN;a.Ei=!!b.Uj;a.WI=!!b.sq;a.cR=!!b.VF;a.ye=2<=b.mw?4:1;if(!Pk.has(a.Yb))throw Error("invalid sampling");if(!Qk.has(a.Im)||!Qk.has(a.Jm))throw Error("invalid wrap mode");if(2<=a.ye&&a.Ei)throw Error("invalid use of multisampling");"nearest"===a.Yb&&(a.vr=0);a.Rz=a.O.So({yq:a.Im,zq:a.Jm,qc:a.Yb,bw:a.vr});Xk(a);a.jc=1}function Yk(a){return a.Nh?Math.floor(Math.log2(Math.max(a.P,a.S))+1):1}
function $k(a){Vk.delete(a);a.Vn&&a.Vn.m();a.pr(!1);a.Ta.destroy();a.Ta=null;a.gq=null;a.Lp=null;a.du=null}function al(a){return"undefined"!==typeof HTMLImageElement&&a instanceof HTMLImageElement||a instanceof ImageData}
function bl(a,b,c=!0){if(a.Nh)cl(a,b,Yk(a),c);else{const d=a.O.kg(),e=d.createCommandEncoder(),f=d.createTexture({size:[a.P,a.S,1],mipLevelCount:1,format:a.qp,usage:Rk.COPY_SRC|Rk.COPY_DST|Rk.RENDER_ATTACHMENT});dl(a,f,b,c);e.copyTextureToTexture({texture:f,mipLevel:0},{texture:a.Ta,mipLevel:0},[a.P,a.S,1]);d.queue.submit([e.finish()]);f.destroy()}}
function cl(a,b,c,d=!0){const e=a.O.kg(),f=e.createTexture({size:[a.P,a.S,1],mipLevelCount:Yk(a),format:a.qp,usage:Rk.COPY_DST|Rk.COPY_SRC|Rk.TEXTURE_BINDING|Rk.RENDER_ATTACHMENT}),g=a.O.iI(),h=g.getBindGroupLayout(0),k=a.O.So({qc:"bilinear"}),l=e.createCommandEncoder();dl(a,f,b,d);l.copyTextureToTexture({texture:f,mipLevel:0},{texture:a.Ta,mipLevel:0},[a.P,a.S,1]);b=[];for(d=0;d<c;++d)b.push(f.createView({baseMipLevel:d,mipLevelCount:1}));d=a.P;let m=a.S;for(let n=1;n<c;++n){d/=2;m/=2;const p=Math.max(Math.floor(d),
1),q=Math.max(Math.floor(m),1),u=l.beginRenderPass({colorAttachments:[{view:b[n],loadOp:"clear",clearValue:[0,0,0,0],storeOp:"store"}]}),r=e.createBindGroup({layout:h,entries:[{binding:0,resource:k},{binding:1,resource:b[n-1]}]});u.setPipeline(g);u.setBindGroup(0,r);u.draw(4);u.end();l.copyTextureToTexture({texture:f,mipLevel:n},{texture:a.Ta,mipLevel:n},[p,q,1])}e.queue.submit([l.finish()]);f.destroy()}
function dl(a,b,c,d=!0){const [e,f]=[c.width||c.videoWidth,c.height||c.videoHeight];a.O.kg().queue.copyExternalImageToTexture({source:c},{texture:b,mipLevel:0,premultipliedAlpha:!!d},[e,f,1])}
Ok.R.Bx=class{constructor(a,b){this.O=a;this.Ta=null;this.qp="";this.du=this.Lp=this.Rz=this.gq=null;this.S=this.P=0;this.rf=!0;this.Jm=this.Im="clamp-to-edge";this.Yb="trilinear";this.vr=0;this.Nh=!1;this.jc=0;this.cR=this.WI=this.Ei=this.Rn=!1;this.Si=this.ye=0;this.HE=!0;this.Vn=null;this.lL=0;if(this.vK=!!b)this.qp=this.O.ym,this.Ei=this.Rn=!0,this.Rz=this.O.So({qc:"nearest"})}Ex(a,b){if(a&&!yk(a))throw new TypeError("invalid texture source");b=Object.assign({},Sk,b);if(this.Ta)throw Error("already created texture");
this.rf=!0;if(a){const [c,d]=[a.width||a.videoWidth,a.height||a.videoHeight];this.P=c;this.S=d}else if(this.P=b.width,this.S=b.height,0>=this.P||0>=this.S)throw Error("invalid texture size");Zk(this,b);if(this.Rn||this.Ei)throw Error("static texture cannot be render target");a&&bl(this,a)}cI(a,b,c){c=Object.assign({},Sk,c);if(this.Ta)throw Error("already created texture");this.rf=!1;this.P=a;this.S=b;Zk(this,c)}async GC(a){if(!yk(a)&&!al(a))throw Error("invalid texture source");if(!this.Ta||0>=this.jc)throw Error("texture not created");
if(this.rf)throw Error("cannot update static texture");var b=Object.assign({},Wk,b);if(al(a)||b.flipY||!b.premultiplyAlpha)if(a=await createImageBitmap(a,{premultiplyAlpha:b.premultiplyAlpha?"premultiply":"none",imageOrientation:b.flipY?"flipY":"none"}),!this.Ta)return;this.O.ne();const [c,d]=[a.width||a.videoWidth,a.height||a.videoHeight];if(this.P!==c||this.S!==d){$k(this);this.P=c;this.S=d;Xk(this);var e=this.O;e.mf===this&&(Pj(e),e.hp=this.Lp,e.F|=64)}bl(this,a,b.premultiplyAlpha)}kr(){if(0<this.jc)throw Error("texture still has references");
if(!this.Ta)throw Error("already deleted texture");$k(this)}pr(a){this.O.pr(this,a)}M(){return this.vK?this.O.M():this.P}K(){return this.vK?this.O.K():this.S}za(){return this.O}To(){return this.gq}So(){return this.Rz}Pq(){return"nearest"!==this.Yb}Gt(){return this.Ei}fB(){return this.WI}Jw(){var a=this.M()*this.K();const b=Uk.get(this.qp);a*="number"===typeof b?b:NaN;this.Nh&&(a+=Math.floor(a/3));return a}static Wd(){}static JM(){return Vk.values()}};"use strict";const el=self.B;
function fl(a){if(null!==a.sv){var b=a.O;b.hp===a.sv&&(Pj(b),b.hp=(null===b.mf?b.Xn:b.mf).Lp,b.gp=0,b.F|=64)}a.sv=null}
el.R.B0=class{constructor(a,b){if(2>b.length)throw Error("invalid multi-texture group");this.O=a;this.BF=b;this.sv=null;for(let d=0,e=b.length;d<e;++d){a=b[d];var c=d;if(a.Vn)throw Error("already in a group");a.Vn=this;a.lL=c;a.pr(!1)}14>b.length&&this.O.LE.add(this);fl(this);b=this.O.kg();a=[];for(c=0;14>c;++c){const d=this.BF[Math.min(c,this.BF.length-1)];a.push({binding:2*c,resource:d.So()},{binding:2*c+1,resource:d.To()})}this.sv=b.createBindGroup({layout:this.O.iA,entries:a})}m(){this.O.LE.delete(this);
for(const a of this.BF)a.Vn=null,a.lL=0,a.rf&&a.HE&&!a.Rn&&a.pr(!0);fl(this);el.H(this.BF);this.O=null}};"use strict";const gl=self.B,hl=self.me.tl,il={qc:"trilinear",alpha:!0,depth:!1,Uj:!0,sq:!1,VF:!1,NA:!0,mw:0},jl=new Set;
gl.R.aI=class{constructor(a,b){this.O=a;this.xp=!!b;this.te=b?Dj(a,131072):!1;this.Re=null;this.Pn=!0;this.ye=0;this.Pk=!1;this.Br=gl.A(gl.bb);this.Dj=hl.create();this.uE=this.xE=this.vE=0;this.xp&&(this.Re=gl.A(gl.R.Bx,a,!0))}Ex(a,b,c){c=Object.assign({},il,c);if(this.Re)throw Error("already created render target");this.te=!!c.depth;this.Pn=!!c.NA;this.ye=2<=c.mw?4:1;if(2<=this.ye&&c.Uj)throw Error("invalid use of multisampling");this.Re=this.O.uw(a,b,{qc:c.qc,Ao:!1,jN:!0,Uj:c.Uj,sq:c.sq,VF:c.VF,
mw:this.ye});this.ir();jl.add(this)}kr(){jl.delete(this);$k(this.Re);this.O=this.Re=null}Lx(a,b){if(a!==this.M()||b!==this.K()){var c=this.Re.Yb,d=this.Re.Gt(),e=this.Re.fB();$k(this.Re);this.Re=null;this.Re=this.O.uw(a,b,{qc:c,Ao:!1,jN:!0,Uj:d,sq:e});this.ir()}}To(){return this.xp?this.O.Lv:this.Re.To()}ir(){Rg(this.O,this.Dj,this.M()/this.K());this.vE=this.O.Sr;this.xE=this.O.Jp;this.uE=this.O.mp}M(){return this.xp?this.O.M():this.Re.M()}K(){return this.xp?this.O.K():this.Re.K()}lc(){if(this.Re)return this.Re;
throw Error("no texture");}za(){return this.O}Pq(){return this.Re.Pq()}Gt(){return this.Re.Gt()}fB(){return this.Re.fB()}XO(a){a=Object.assign({},il,a);return"nearest"!==a.qc!==this.Pq()||!!a.Uj!==this.Gt()||!!a.sq!==this.fB()||!!a.depth!==this.te?!1:"number"===typeof a.width||"number"===typeof a.height?!this.Pn&&this.M()===Math.floor(a.width)&&this.K()===Math.floor(a.height):this.Pn}static Wd(){}};"use strict";
async function Bk(a){var b=8*a.Av;await a.Nz.mapAsync(self.GPUMapMode.READ,0,b);b=a.Nz.getMappedRange(0,b);a.co=new BigUint64Array(b.slice(0));a.Nz.destroy();a.Nz=null;a.gF.destroy();a.gF=null;a.$E.destroy();a.$E=null}
self.B.R.E0=class{constructor(a,b){this.O=a;this.Mf=this.O.Mf;this.Av=b;a=this.O.kg();this.$E=a.createQuerySet({count:this.Av,type:"timestamp"});b=self.GPUBufferUsage;this.gF=a.createBuffer({size:8*this.Av,usage:b.QUERY_RESOLVE|b.COPY_SRC});this.Nz=a.createBuffer({size:8*this.Av,usage:b.COPY_DST|b.MAP_READ});this.co=null}Zw(){return null!==this.co}Pw(){if(!this.co)throw Error("not yet got result");return this.co}};"use strict";const kl={AU:null,BU:null,ZU:null,getTime:null,YU:null};
function ll(a,b){return a.eR?a.eR(b):[b.M(),b.K()]}self.B.R.FW=class{constructor(a){a=Object.assign({},kl,a);this.eR=a.AU;this.C1=a.BU;this.fR=a.ZU;this.D1=a.getTime;this.E1=a.YU;this.vo=null;this.EI=new Set}Wd(){this.vo=null;for(const a of this.EI)a.Wd()}bj(a){return this.C1(a)}Ea(){return this.D1()}gC(a){this.E1(a)}};"use strict";
const ml=self.B,nl=self.me.tl,Kd=ml.A(ml.Rect),ol=ml.A(ml.Rect),pl=ml.A(ml.Rect),ql=ml.A(ml.Rect),rl=nl.create(),sl=nl.create(),tl={aG:null,CU:null,dG:null,fN:!1},ul={ew:null,ZM:!1,zU:!1,GU:!1,hG:!1,kN:!1,XN:!1};
function vl(a,b,c){c=Object.assign({},ul,c);ml.H(a.bq);a.iu=0;a.ju=0;a.oK=!1;a.cE=!1;a.bE=!1;a.pK=!1;a.aE=!1;a.Vs=!1;a.ts=0;a.IK=!!c.hG;a.ro=!!c.XN;a.Bz=!1;ml.wd(a.Tz,b);if(0!==b.length){if(c.ew){if(c.ew.length!==b.length)throw Error("incorrect indexMap length");ml.wd(a.aq,c.ew)}else{ml.H(a.aq);for(let f=0,g=b.length;f<g;++f)a.aq.push(f)}for(var d of b)a.iu+=d.R1,a.ju+=d.S1,d.g1&&(a.oK=!0),d.yM&&(a.cE=!0),d.gu&&(a.bE=!0),d.hJ&&(a.pK=!0),d.tQ()&&(a.aE=!0);a.Vs=b[0].za().Ud()&&a.bE&&!a.pK;d=b[0];d=
c.ZM||d.Tq()||c.GU&&!d.U2||d.yM&&!a.ro||0!==a.iu||0!==a.ju?!0:d.za().ej()?d.gu&&(c.kN||c.hG)||d.yA&&c.hG:d.gu&&!a.Vs&&c.kN;var e=b.at(-1);c=c.zU?!0:e.za().ej()?e.gu||e.hJ:(e.gu||e.hJ)&&!a.Vs;if(1!==b.length||d||c){a.hy=!1;e=0;d&&(a.ts=1,a.bq.push(ml.A(ml.R.eg.gj.g_,a,-1,1)),e=1);for(let f=0,g=b.length;f<g;++f)0!==f||d?(b=1===e?2:1,f!==g-1||c||(b=0),a.ts=Math.max(a.ts,b),a.bq.push(ml.A(ml.R.eg.gj.aW,a,e,b,f)),e=b):(a.ts=1,a.bq.push(ml.A(ml.R.eg.gj.OW,a,-1,1,f)),e=1);c&&a.bq.push(ml.A(ml.R.eg.gj.e_,
a,e,0))}else a.hy=!0}}function wl(a,b,c){const [d,e]=ll(a.xe,b);if(0>=d||0>=e)throw Error("invalid draw size");a.Bd===d&&a.qd===e||xl(b,d,e,0,0,a.Dj,a.zz);a.Bd=d;a.qd=e;a.dv.wa(c.$s);c.bG?a.wi.wa(c.bG):a.wi.set(0,0,a.Bd,a.qd);a.dl.wa(a.wi);a.dl.sl(a.Bd,a.qd);b=a.cv*a.am;Hd(a.wi,a.iu*b,a.ju*b);a.Xp.wa(a.wi);a.Xp.sl(a.Bd,a.qd);b=a.wi;c=a.Bd;var f=a.qd,g;var h=g=0;c=+c;f=+f;b.$=Ed.X(b.$,g,c);b.V=Ed.X(b.V,h,f);b.ja=Ed.X(b.ja,g,c);b.da=Ed.X(b.da,h,f);a.cl.wa(a.wi);a.cl.sl(a.Bd,a.qd)}
function xl(a,b,c,d,e,f,g){d=b/2+d;e=c/2+e;Rg(a,f,b/c);a=Tg(a,d,e,a.Ee(c),d,e,c);nl.wa(g,a)}function yl(a,b){oj(b);a.ro||(a.dJ&&b.kB(),b.hf(!1),a.cE&&b.Ot(!0));b.Ud()&&ik(b,!0)}function zl(a){a.Xp.X(0,0,1,1)}function Al(a,b){a.VC?a.VC(a,b,()=>a.YI(b,a)):a.YI(b,a);a.hy||yl(a,b)}function Bl(a,b){if(a.ro)return!0;if(0!==a.bJ||0!==a.cJ)return!1;const [c,d]=b.Bt(b.bj());return c!==a.Bd||d!==a.qd?!1:!0}
function Cl(a,b,c){let d=a.Dj,e=a.zz;if(c&&!Bl(a,b)){d=rl;e=sl;const [f,g]=b.Bt(b.bj());xl(b,f,g,a.bJ,a.cJ,d,e);a.ro||b.EH()}b.Pl(d);b.er(e)}function Dl(a,b,c){var d=a.Xp,e=a.cl,f=a.dl;b.ej()&&(ol.wa(d),Id(ol),d=ol,pl.wa(e),Id(pl),e=pl,ql.wa(f),Id(ql),f=ql);var g=1/a.Bd,h=1/a.qd;b.qC(El(a,b),d,e,f,a.dv,g,h,a.am,a.cv,a.BE,a.Nd);b.pC(a.WC(a.aq[c],b))}
function Fl(a,b,c){var d=a.cl,e=a.dl,f=1/a.Bd,g=1/a.qd;if(a.iy){let {fV:k,gV:l,dV:m}=a.iy(a.fp);k||(Kd.set(0,0,0,0),k=Kd);l||(l=a.Bd);m||(m=a.qd);e=d=k;f=1/l;g=1/m}else b.ej()&&(pl.wa(d),Id(pl),d=pl,ql.wa(e),Id(ql),e=ql);var h=a.Xp;b.ej()&&(h=ol,h.wa(a.Xp),Id(h));b.qC(El(a,b),h,d,e,a.dv,f,g,a.am,a.cv,a.BE,a.Nd);b.pC(a.WC(a.aq[c],b));b.Ud()&&a.aE&&ek(b,a.IK?1:0,b.HJ.mN)}function El(a,b){return a.bE?b.Ud()?a.Vs?a.MC:a.Kr.lc():a.Kr:null}
ml.R.eg=class{constructor(a,b){b=Object.assign({},tl,b);this.xe=a;this.YI=b.aG;this.iy=b.CU;this.WC=b.dG;this.VC=null;this.Tz=[];this.aq=[];this.bq=[];this.Bz=!1;this.Sg=0;this.IK=this.ro=this.hy=this.dJ=this.nR=this.ip=this.Vs=this.aE=this.pK=this.bE=this.cE=this.oK=!1;this.ts=0;this.vm=[null,null,null];this.eS=!!b.fN;this.qd=this.Bd=this.ju=this.iu=0;this.fp=null;this.dv=ml.A(ml.Rect);this.wi=ml.A(ml.Rect);this.dl=ml.A(ml.Rect);this.cl=ml.A(ml.Rect);this.Xp=ml.A(ml.Rect);this.cv=this.am=1;this.Nd=
this.BE=0;this.MC=this.Kr=null;this.cJ=this.bJ=0;this.wM=!1;this.Dj=nl.create();this.zz=nl.create();this.xe.EI.add(this)}m(){this.xe.EI.delete(this);ml.H(this.bq);ml.H(this.Tz);ml.H(this.aq);this.WC=this.iy=this.YI=this.fp=null}Wd(){this.Bz=!0;ml.H(this.bq);ml.H(this.Tz);ml.H(this.aq)}br(a,b,c){a.Ud()&&null===b&&(b=a.mj);this.Kr=b;this.fp=c.RM||null;this.Sg=c.Lm||0;this.am=c.devicePixelRatio||1;this.cv=c.PA||1;this.BE=c.OA||0;this.Nd="number"===typeof c.time?c.time:this.xe.Ea();this.ip=!1;a.VP();
this.oK&&this.xe.gC(this);var d=!1;if(this.Vs){wl(this,a,c);d=!0;var e=this.xe,f=this.Bd,g=this.qd;f=Math.floor(f);g=Math.floor(g);!e.vo||e.vo.M()===f&&e.vo.K()===g||(a.bi(e.vo),e.vo=null);null===e.vo&&(e.vo=a.nt(null,{width:f,height:g,qc:"nearest",Ao:!1}));this.MC=e.vo;Kd.wa(this.wi);Jd();a.Ud()&&ak(a,this.Kr);e=this.Kr.lc();f=this.MC;g=Kd.$;var h=Kd.V,k=Kd.width(),l=Kd.height(),m=f.Si;if(0===(e.Si&wj.COPY_SRC))throw Error("source texture missing COPY_SRC usage");if(0===(m&wj.COPY_DST))throw Error("destination texture missing COPY_DST usage");
if(e===f)throw Error("invalid destination");m=Math.min(e.M(),f.M());const p=Math.min(e.K(),f.K());k=Math.min(k,m-g);l=Math.min(l,p-h);0>=k||0>=l||(Uj(a),Bj&&Cj(`Copying texture to texture, from (${g}, ${h}), size ${k} x ${l}`),a.Ck.copyTextureToTexture({texture:e.Ta,origin:[g,h]},{texture:f.Ta,origin:[g,h]},[k,l]),a.F|=16384)}if(this.hy){d=this.Tz[0];var n=a.bx();if(b=d.yM)a.hf(!1),a.Ot(!0),this.Xp.set(0,0,1,1),this.dl.set(0,0,1,1);a.Ol(d);a.Ie(this.Sg);a.he(this.Kr);this.dl.set(0,0,1,1);if(d.yA&&
this.iy){const {fV:p,gV:q,dV:u}=this.iy(this.fp);p&&this.dl.wa(p);d=Number.isFinite(q)?1/q:0;e=Number.isFinite(u)?1/u:0}else{const [p,q]=ll(this.xe,a);d=1/p;e=1/q}c.$s?this.dv.wa(c.$s):this.dv.set(0,0,0,0);a.qC(El(this,a),this.Xp,this.dl,this.dl,this.dv,d,e,this.am,this.cv,this.BE,this.Nd);a.pC(this.WC(this.aq[0],a));a.Ud()&&this.aE&&ek(a,this.IK?1:0,a.HJ.mN);a.Eh=0;Al(this,a);b&&(a.Ot(!1),a.hf(n))}else if(d||wl(this,a,c),0!==this.dl.width()||0!==this.dl.height()){a.vx();oj(a);a.Eh=0;Zg(a,0);this.VC=
c.D3||null;this.bJ=c.t3||0;this.cJ=c.u3||0;this.wM=!!c.f5;this.nR=a.bx();this.dJ=a.YO();this.ro?(a.hf(!1),this.cE&&a.Ot(!0)):(Kd.wa(this.wi),a.ej()?(c=this.cv*this.am,Hd(Kd,Math.max(this.iu,1)*c,Math.max(this.ju,1)*c),Jd(),Kd.X(0,0,this.Bd,this.qd)):Jd(),a.fQ(Kd.$,Kd.V,Kd.width(),Kd.height(),this.qd));this.vm[0]=b;this.vm[1]=1<=this.ts?this.xe.bj(this):null;this.vm[2]=2===this.ts?this.xe.bj(this):null;for(n of this.bq)c=n.R2,c=0>c?null:this.vm[c],b=n.pJ,b=0>b?null:this.vm[b],a.Ud()?n.ux(a,c,b):n.tx(a,
c,b);a.ie(null);this.vm[1]&&this.xe.fR(this.vm[1],this);this.vm[2]&&this.xe.fR(this.vm[2],this);this.vm.fill(null);a.Ot(!1);this.dJ&&a.lB();a.hf(this.nR);this.ro||a.EH();a.Ud()&&ik(a,!1);this.ip=a.qB();this.VC=this.fp=this.MC=this.Kr=null}}qB(){return this.ip}};"use strict";self.B.R.eg.gj=class{constructor(a,b,c,d=-1){this.Jf=a;this.R2=b;this.pJ=c;this.la=d}Kg(){return this.Jf}Fa(){return this.la}Ge(){return this.Kg().Tz[this.Fa()]}tx(){}ux(){}};"use strict";const Hl=self.B;
Hl.R.eg.gj.g_=class extends Hl.R.eg.gj{constructor(a,b,c,d){super(a,b,c,d)}tx(a,b,c){b=this.Kg();a.vx();Vg(a);a.he(c,b.wM);a.ai(0,0,0,0);Al(b,a);zl(b)}ux(a,b,c){b=this.Kg();a.vx();Vg(a);a.he(c,!1);a.ai(0,0,0,0);Al(b,a);zl(b)}};"use strict";const Il=self.B,Jl=Il.A(Il.Rect),Kl=Il.A(Il.Jd);
Il.R.eg.gj.e_=class extends Il.R.eg.gj{constructor(a,b,c,d){super(a,b,c,d)}tx(a,b,c){const d=this.Kg();Vg(a);a.he(c);Cl(d,a,!0);a.Ie(d.Sg);a.ie(b.lc());Kl.Dg(d.wi);Jl.wa(d.cl);Id(Jl);a.Jl(Kl,Jl);d.eS&&a.Nq(b)}ux(a,b,c){const d=this.Kg();Vg(a);a.he(c,!1);Bl(d,a)?Kl.Dg(d.cl):(ik(a,!1),Cl(d,a,!0),Kl.Dg(d.wi));Oj(a,null);a.Ie(d.Sg);a.ie(b.lc());d.ro?a.Bw():a.Jl(Kl,d.cl)}};"use strict";const Ll=self.B;
Ll.R.eg.gj.OW=class extends Ll.R.eg.gj{constructor(a,b,c,d){super(a,b,c,d)}tx(a,b,c){b=this.Kg();a.he(c,b.wM);a.ai(0,0,0,0);a.dr();a.Ol(this.Ge());Fl(b,a,this.Fa());Al(b,a);zl(b)}ux(a,b,c){b=this.Kg();a.he(c,!1);a.ai(0,0,0,0);a.dr();a.Ol(this.Ge());Fl(b,a,this.Fa());Al(b,a);zl(b)}};"use strict";const Ml=self.B,Nl=Ml.A(Ml.Rect),Ol=Ml.A(Ml.Jd);
Ml.R.eg.gj.aW=class extends Ml.R.eg.gj{constructor(a,b,c,d){super(a,b,c,d)}tx(a,b,c){const d=this.Kg();a.he(c);(c=0===this.pJ)?a.Ie(d.Sg):(a.ai(0,0,0,0),a.dr());a.Ol(this.Ge());Dl(d,a,this.Fa());a.ie(b.lc());Cl(d,a,c);Ol.Dg(d.wi);Nl.wa(d.cl);Id(Nl);a.Jl(Ol,Nl);d.eS&&a.Nq(b)}ux(a,b,c){const d=this.Kg();a.he(c,!1);0===this.pJ?(a.Ie(d.Sg),Oj(a,null),Bl(d,a)?Ol.Dg(d.cl):(ik(a,!1),Cl(d,a,!0),Ol.Dg(d.wi))):(a.ai(0,0,0,0),a.dr(),Ol.Dg(d.cl));a.Ol(this.Ge());Dl(d,a,this.Fa());a.ie(b.lc());d.ro?a.Bw():a.Jl(Ol,
d.cl)}};"use strict";const Pl=self.bf;let Ql=null;const Rl=new Set;let Sl=!1,Tl=!1;
self.MX=class{constructor(a){Ql=a;Object.defineProperties(this,{z4:{value:{},writable:!1},U3:{value:{},writable:!1},storage:{value:new self.PX,writable:!1},uha:{value:Ql.yd(),writable:!1},qc:{value:Ql.Yb,writable:!1}});Ql.xf.addEventListener("keydown",b=>{Rl.has(b.key)?b.stopPropagation():Rl.add(b.key)});Ql.xf.addEventListener("keyup",b=>Rl.delete(b.key));Ql.cb().addEventListener("window-blur",()=>Rl.clear());Ql.yd()&&(self.alert=b=>{Sl||(Sl=!0,console.warn("[Construct] alert() was called from a Web Worker, because the project 'Use worker' setting is enabled. This method is not normally available in a Web Worker. Construct has implemented the alert for you, but note that other features may be missing in worker mode. You may wish to disable 'Use worker', or use a more convenient function like console.log(). For more information please refer to the scripting section of the manual."));
return this.alert(b)})}addEventListener(a,b){Ql.xf.addEventListener(a,b)}removeEventListener(a,b){Ql.xf.removeEventListener(a,b)}signal(a){Pl.zd(a);Ql.pa().rC(a)}get WM(){return Ul(Ql)}get J3(){Tl||(console.warn("IRuntime.fps is deprecated. Use IRuntime.framesPerSecond instead."),Tl=!0);return Ql.Iu}get framesPerSecond(){return Ql.Iu}random(){return Ql.Wp()}get layout(){const a=Ql.Wb();if(!a)throw Error("no layout is running - make sure a layout is loaded before accessing");return a.Tm()}get keyboard(){const a=
Ql.qu.keyboard;if(!a)throw Error("runtime.keyboard used but Keyboard object missing - add it to your project first");return a}get PU(){const a=Ql.qu.PU;if(!a)throw Error("runtime.mouse used but Mouse object missing - add it to your project first");return a}get mV(){const a=Ql.qu.mV;if(!a)throw Error("runtime.touch used but Touch object missing - add it to your project first");return a}get kV(){const a=Ql.qu.kV;if(!a)throw Error("runtime.timelineController used but Timeline Controller object missing - add it to your project first");
return a}get TU(){const a=Ql.qu.TU;if(!a)throw Error("runtime.platformInfo used but Platform Info object missing - add it to your project first");return a}alert(a){return Vl(Ql,"runtime","alert",{message:a+(Ql.yd()?" [via Web Worker]":"")})}};"use strict";self.GX=class{constructor(){}};"use strict";let Wl=null;self.HX=class{constructor(a){Wl=a;Object.defineProperties(this,{Qd:{value:Wl.G(),writable:!1}})}};"use strict";const Xl=self.bf;
self.PX=class{constructor(){Ql.IL||(Ql.IL=localforage.SM({name:"c3-localstorage-"+Ql.JL,description:Ql.YE}));this.gA=Ql.IL}getItem(a){Xl.zd(a);return this.gA.getItem(a)}setItem(a,b){Xl.zd(a);return this.gA.setItem(a,b)}removeItem(a){Xl.zd(a);return this.gA.removeItem(a)}clear(){return this.gA.clear()}keys(){return this.gA.keys()}};"use strict";const Yl=self.B,Zl=ec();
self.eH=class{constructor(){const a=Yl.zb.Rg(Zl);Object.defineProperties(this,{Qd:{value:a.G().Xg,writable:!1},lN:{value:a.tj,writable:!1},KU:{value:a.wK,writable:!1},LU:{value:a.cn(),writable:!1},DU:{value:a.OB(),writable:!1},HU:{value:a.fS,writable:!1},iV:{value:a.ET,writable:!1}})}};"use strict";const $l=self.B,am=self.bf,bm=new WeakMap,cm=ec();
self.RB=class{constructor(){const a=$l.zb.Rg(cm);bm.set(this,a);Object.defineProperties(this,{name:{value:a.ea(),writable:!1},Qd:{value:a.G().Xg,writable:!1},kG:{value:a.Ua().Pu,writable:!1}});a.G().Ok.set(this,a)}addEventListener(a,b){am.zd(a);am.Ml(b);bm.get(this).xf.addEventListener(a,b)}removeEventListener(a,b){am.zd(a);am.Ml(b);bm.get(this).xf.removeEventListener(a,b)}*KA(){for(const a of dm(bm.get(this)))yield em(a)}SM(a){am.th(void 0);am.th(void 0);if("number"!==typeof a&&"string"!==typeof a)throw new TypeError("invalid layer parameter");
var b=bm.get(this);const c=b.G();a=c.Wb().aa(a);if(!a)throw Error("invalid layer");b=fm(c,b,a);a=c.pa();gm(a,!0);hm(b);gm(a,!1);im(a)||0<c.jb.Vu||jm(c);return em(b)}};"use strict";const km=self.bf,lm=new WeakMap;
self.KX=class{constructor(a){lm.set(this,a);const b=[],c=a.Sa,d=c.di().length;for(let e=0;e<d;++e)b.push(new self.bH(c,e));Object.defineProperties(this,{name:{value:a.ea(),writable:!1},index:{value:a.Fa(),writable:!1}})}addEventListener(a,b){km.zd(a);km.Ml(b);lm.get(this).xf.addEventListener(a,b)}removeEventListener(a,b){km.zd(a);km.Ml(b);lm.get(this).xf.removeEventListener(a,b)}get width(){return lm.get(this).M()}set width(a){km.gf(a);lm.get(this).Og(a)}get height(){return lm.get(this).K()}set height(a){km.gf(a);
lm.get(this).vh(a)}getSize(){const a=lm.get(this);return[a.M(),a.K()]}set scale(a){km.gf(a);lm.get(this).QH(a)}get scale(){return lm.get(this).vf}set angle(a){km.gf(a);lm.get(this).He(a)}get angle(){return lm.get(this).fb()}set scrollX(a){km.th(a);lm.get(this).qk(a)}get scrollX(){return lm.get(this).qh()}set scrollY(a){km.th(a);lm.get(this).rk(a)}get scrollY(){return lm.get(this).rh()}scrollTo(a,b){km.th(a);km.th(b);const c=lm.get(this);c.qk(a);c.rk(b)}*aw(){for(const a of lm.get(this).aw())yield a.wt()}set WU(a){km.zd(a);
const b=lm.get(this);if("perspective"===a)mm(b);else if("orthographic"===a)nm(b);else throw Error("invalid projection");}get WU(){return lm.get(this).sg?"orthographic":"perspective"}};"use strict";const om=self.B,pm=self.bf,qm=new WeakMap,rm=new Map([["normal",0],["additive",1],["copy",3],["destination-over",4],["source-in",5],["destination-in",6],["source-out",7],["destination-out",8],["source-atop",9],["destination-atop",10]]),sm=new Map([...rm.entries()].map(a=>[a[1],a[0]])),tm=om.A(om.bb);
self.JX=class{constructor(a){qm.set(this,a);const b=[],c=a.Sa,d=c.di().length;for(let e=0;e<d;++e)b.push(new self.bH(c,e));Object.defineProperties(this,{name:{value:a.ea(),writable:!1},layout:{value:a.rc().Tm(),writable:!1}});a.G().Ok.set(this,a)}*SA(){for(const a of qm.get(this).SA())yield a.wt()}get index(){return qm.get(this).Fa()}get isVisible(){return qm.get(this).Zu}set isVisible(a){qm.get(this).qe(a)}get gG(){return qm.get(this).Wu}set gG(a){qm.get(this).Wu=!!a}get fG(){return qm.get(this).ks}set fG(a){um(qm.get(this),
!!a)}get opacity(){return qm.get(this).Kc()}set opacity(a){a=om.X(+a,0,1);isNaN(a)||qm.get(this).wh(a)}set scale(a){pm.gf(a);vm(qm.get(this),a)}get scale(){return qm.get(this).vf}set mG(a){pm.gf(a);wm(qm.get(this),a)}get mG(){return qm.get(this).fo}set angle(a){pm.gf(a);qm.get(this).He(a)}get angle(){return qm.get(this).Dh}set vl(a){pm.gf(a);qm.get(this).Pg(a)}get vl(){return qm.get(this).hb()}set iG(a){xm(qm.get(this),a)}get iG(){return qm.get(this).Tk}set eG(a){ym(qm.get(this),a)}get eG(){return qm.get(this).iE}set Lm(a){pm.zd(a);
a=rm.get(a);if("number"!==typeof a)throw Error("invalid blend mode");qm.get(this).Ie(a)}get Lm(){return sm.get(qm.get(this).Bl())}set backgroundColor(a){pm.iC(a);if(3>a.length)throw Error("expected 3 elements");qd(tm,a[0],a[1],a[2]);a=qm.get(this);const b=a.un;ud(b,tm)||(sd(b,tm),a.G().ba())}get backgroundColor(){const a=qm.get(this).un;return[a.ab,a.ib,a.$a]}set scrollX(a){pm.th(a);const b=qm.get(this);zm(b,!0);b.qk(a)}get scrollX(){return qm.get(this).qh()}set scrollY(a){pm.th(a);const b=qm.get(this);
zm(b,!0);b.rk(a)}get scrollY(){return qm.get(this).rh()}scrollTo(a,b){pm.th(a);pm.th(b);const c=qm.get(this);zm(c,!0);c.qk(a);c.rk(b)}};"use strict";const Am=self.B,Bm=self.bf,Cm=new WeakMap,Dm=new WeakMap,Em=ec();function Fm(a){let b=Dm.get(a);if(b)return b;b=Am.A(Am.Event.cb);Dm.set(a,b);return b}
self.Nc=class{constructor(){const a=Am.zb.Rg(Em);Cm.set(this,a);const b={Qd:{value:a.G().Xg,writable:!1},xN:{value:a.I().xt(),writable:!1},kG:{value:a.Ua().Pu,writable:!1},uid:{value:a.zc,writable:!1}};if(0!==a.rg.length){var c={},d=Gm(a.Qe);for(let f=0,g=d.length;f<g;++f)c[d[f]]={configurable:!1,enumerable:!0,get:Hm.Instance.prototype.V0.bind(a,f),set:Hm.Instance.prototype.Po.bind(a,f)};c=Object.create(Object.prototype,c);b.tha={value:c,writable:!1}}c=a.Kd;if(0!==c.length){d={};for(var e of c)d[e.Hg().ck()]=
{value:e.Ct(),writable:!1};e=Object.create(Object.prototype,d);b.FA={value:e,writable:!1}}Object.defineProperties(this,b);a.G().Ok.set(this,a)}static Rl(){return Am.zb.AC()}el(){const a=Dm.get(this);a&&(a.m(),Dm.delete(this));Cm.delete(this)}addEventListener(a,b,c){Bm.zd(a);Bm.Ml(b);Fm(this).addEventListener(a,b,c)}removeEventListener(a,b,c){Bm.zd(a);Bm.Ml(b);Fm(this).removeEventListener(a,b,c)}dispatchEvent(a){Fm(this).dispatchEvent(a)}get WM(){const a=Cm.get(this);return Ul(a.G(),a)}};"use strict";
const Im=self.B,Jm=self.bf,Km=new WeakMap,Lm=ec();function Mm(a,b,c){Jm.zd(b);if(!a.Iz)throw Error("no DOM component id set");ne(Km.get(a).G(),a.Iz,b,c)}
self.NO=class extends self.Nc{constructor(a){super();Km.set(this,Im.zb.Rg(Lm));this.ws=!1;this.PE=null;this.xs=!1;this.QE=null;this.Iz=a?.VM}el(){super.el();Km.delete(this)}UL(a){a=!!a;if(this.ws!==a){this.ws=a;var b=Km.get(this).G();a?(this.PE||(this.PE=()=>this.kA()),b.cb().addEventListener("tick",this.PE)):b.cb().removeEventListener("tick",this.PE)}}Sk(){return this.ws}kA(){}tT(a){a=!!a;if(this.xs!==a){this.xs=a;var b=Km.get(this).G();a?(this.QE||(this.QE=()=>{}),b.cb().addEventListener("tick2",
this.QE)):b.cb().removeEventListener("tick2",this.QE)}}ls(){return this.xs}pm(){}};"use strict";const Nm=self.B,Om=self.bf,Pm=new WeakMap,Qm=ec(),Rm=new Map([["normal",0],["additive",1],["copy",3],["destination-over",4],["source-in",5],["destination-in",6],["source-out",7],["destination-out",8],["source-atop",9],["destination-atop",10]]),Sm=new Map([...Rm.entries()].map(a=>[a[1],a[0]]));Nm.A(Nm.bb);
function Tm(a){return class b extends a{constructor(c){super(c);var d=Nm.zb.Rg(Qm);Pm.set(this,d);c=[];var e=d.C();if(d=e.Nf){e=e.I().Sa.di().length;for(let f=0;f<e;++f)c.push(new self.bH(d,f))}}get layout(){return Pm.get(this).C().rc().Tm()}get Zs(){return Pm.get(this).C().aa().wt()}get x(){return Pm.get(this).C().Ga()}set x(c){c=+c;const d=Pm.get(this).C();isNaN(c)||d.Ga()===c||(d.fj(c),K(d))}get y(){return Pm.get(this).C().Ha()}set y(c){c=+c;const d=Pm.get(this).C();isNaN(c)||d.Ha()===c||(d.uk(c),
K(d))}setPosition(c,d){c=+c;d=+d;const e=Pm.get(this).C();isNaN(c)||isNaN(d)||e.Ga()===c&&e.Ha()===d||(e.sk(c,d),K(e))}get vl(){return Pm.get(this).C().hb()}set vl(c){c=+c;const d=Pm.get(this),e=d.C();isNaN(c)||e.hb()===c||(e.Pg(c),d.G().ba())}get width(){return Pm.get(this).C().M()}set width(c){c=+c;const d=Pm.get(this).C();isNaN(c)||d.M()===c||(d.Og(c),K(d))}get height(){return Pm.get(this).C().K()}set height(c){c=+c;const d=Pm.get(this).C();isNaN(c)||d.K()===c||(d.vh(c),K(d))}getSize(){const c=
Pm.get(this).C();return[c.M(),c.K()]}get angle(){return Pm.get(this).C().fb()}set angle(c){c=Nm.le(+c);const d=Pm.get(this).C();isNaN(c)||d.fb()===c||(d.He(c),K(d))}cN(){var c=Um(Pm.get(this).C());new DOMRect(c.$,c.V,c.width(),c.height())}get isVisible(){return Pm.get(this).C().Cc()}set isVisible(c){c=!!c;const d=Pm.get(this),e=d.C();e.Cc()!==c&&(e.qe(c),d.G().ba())}get opacity(){return Pm.get(this).C().Kc()}set opacity(c){c=Nm.X(+c,0,1);const d=Pm.get(this),e=d.C();isNaN(c)||e.Kc()===c||(e.wh(c),
d.G().ba())}set Lm(c){Om.zd(c);c=Rm.get(c);if("number"!==typeof c)throw Error("invalid blend mode");const d=Pm.get(this);d.C().Ie(c);d.G().ba()}get Lm(){return Sm.get(Pm.get(this).C().Bl())}get zIndex(){return Vm(Pm.get(this).C())}kh(c,d){Om.th(c);Om.th(d);return Wm(Pm.get(this).C(),+c,+d)}getParent(){const c=Pm.get(this).ya();return c?em(c):null}*ow(){for(const c of Pm.get(this).ow())yield em(c)}*children(){for(const c of Pm.get(this).children())yield em(c)}*Rj(){for(const c of Pm.get(this).Rj())yield em(c)}removeChild(c){Om.jC(c,
b);const d=Pm.get(this);c=Pm.get(c);d.Ll(c)}}}self.SB=Tm(self.Nc);self.SX=Tm(self.NO);"use strict";const Xm=new WeakMap;self.aH=class extends self.SB{constructor(){super();Xm.set(this,self.Nc.Rl())}focus(){Ym(L(Xm.get(this)),{focus:!0})}blur(){Ym(L(Xm.get(this)),{focus:!1})}};"use strict";const Zm=self.B,$m=self.bf,an=new WeakMap,bn=new WeakMap,cn=ec();function dn(a){let b=bn.get(a);if(b)return b;b=Zm.A(Zm.Event.cb);bn.set(a,b);return b}
self.JO=class{constructor(){const a=Zm.zb.Rg(cn);an.set(this,a);const b={Qd:{value:a.G().Xg,writable:!1},behavior:{value:a.fg().Ty,writable:!1},UF:{value:a.Hg().QD,writable:!1}};Object.defineProperties(this,b);a.G().Ok.set(this,a)}static Rl(){return Zm.zb.AC()}get instance(){return em(an.get(this).ia)}el(){const a=bn.get(this);a&&(a.m(),bn.delete(this));an.delete(this)}addEventListener(a,b,c){$m.zd(a);$m.Ml(b);dn(this).addEventListener(a,b,c)}removeEventListener(a,b,c){$m.zd(a);$m.Ml(b);dn(this).removeEventListener(a,
b,c)}dispatchEvent(a){dn(this).dispatchEvent(a)}};"use strict";const en=self.B,fn=ec();self.KO=class{constructor(){const a=en.zb.Rg(fn);Object.defineProperties(this,{Qd:{value:a.G().Xg,writable:!1},behavior:{value:a.fg().Ty,writable:!1},name:{value:a.ea(),writable:!1}})}};"use strict";const gn=self.B,hn=new WeakMap,jn=ec();self.IO=class{constructor(){const a=gn.zb.Rg(jn);hn.set(this,a);Object.defineProperties(this,{Qd:{value:a.G().Xg,writable:!1}})}};"use strict";const kn=self.B,ln=self.bf,mn=new WeakMap;
kn.A(kn.bb);self.bH=class{constructor(a,b){mn.set(this,a);Object.defineProperties(this,{index:{value:b,writable:!1}})}get name(){return mn.get(this).di()[this.index].ea()}get isActive(){return mn.get(this).Mo(this.index)}set isActive(a){a=!!a;const b=mn.get(this);b.Mo(this.index)!==a&&(b.LH(this.index,a),b.zh(),b.G().ba())}getParameter(a){ln.gf(a);a=Math.floor(+a);a=mn.get(this).AO(this.index,a);if(null===a)throw new RangeError("invalid index");return a instanceof kn.bb?[a.ab,a.ib,a.$a]:a}};"use strict";
const nn=new WeakMap;self.EX=class{constructor(a){nn.set(this,a);Object.defineProperties(this,{name:{value:a.ea(),writable:!1}})}get speed(){return nn.get(this).Ls}get Jia(){return nn.get(this).fi()}get frameCount(){return pn(nn.get(this))}*frames(){for(const a of nn.get(this).Xd)yield a.b2}};"use strict";const qn=new WeakMap;self.LO=class{constructor(a){qn.set(this,a)}get width(){return qn.get(this).M()}get height(){return qn.get(this).K()}getSize(){const a=qn.get(this);return[a.M(),a.K()]}};"use strict";
const rn=new WeakMap;self.FX=class extends self.LO{constructor(a){super(a.Hd());rn.set(this,a);Object.defineProperties(this,{duration:{value:a.Dy,writable:!1}})}get tag(){return rn.get(this).$d}};"use strict";const sn=self.bf,tn=new WeakMap;function un(a){a=tn.get(a);if(a.Ce)throw Error("timeline/tween was released and is no longer valid");return a}
self.TO=class{constructor(a){tn.set(this,a);a.G().Ok.set(this,a)}pause(){un(this).Gf()}resume(){var a=un(this);a.Ce||vn(a)&&a.Play(!0)}stop(){un(this).Dc()}set time(a){sn.gf(a);un(this).fr(a)}get time(){return un(this).Ea()}set totalTime(a){sn.gf(a);un(this).TH(a)}get totalTime(){return un(this).dd()}set playbackRate(a){sn.gf(a);un(this).nk(a)}get playbackRate(){return un(this).kd}get progress(){const a=un(this);return a.Ea()/a.dd()}get jV(){return un(this).Wf}get finished(){return wn(un(this))}get wha(){return un(this).IsPlaying()}};
"use strict";const xn=new WeakMap;self.RX=class extends self.TO{constructor(a){super(a);xn.set(this,a);Object.defineProperties(this,{name:{value:a.ea(),writable:!1}})}};"use strict";const yn=new WeakMap,zn=new WeakMap;let An=null;function Bn(a){a=yn.get(a);if(a.Ce)throw Error("tween was released and is no longer valid");return a}
self.P8=class extends self.TO{constructor(a,b,c){super(a);An||(An=c.Iga);yn.set(this,a);b&&zn.set(this,b)}stop(){const a=Bn(this);zn.get(this).qba(a)}get instance(){const a=Bn(this).Z();return a?em(a):null}get value(){const a=Bn(this);if("value"!==a.Um())throw Error("not a value tween");return a.Sd("value").Hb().Ba()}};"use strict";self.PO=class extends self.eH{constructor(){super()}};"use strict";const Cn=self.B,Dn=new WeakMap,En=ec();
function Fn(a,b,c){Gn(Dn.get(a).G(),a.Iz,b,d=>{const e=a.yL.get(d.elementId);c(e,d)})}self.N8=class extends self.PO{constructor(a){super();Dn.set(this,Cn.zb.Rg(En));if(!a?.VM)throw Error("no DOM component ID specified");this.Iz=a.VM;this.K2=0;this.yL=new Map;Fn(this,"elem-focused",b=>{b.xL=!0});Fn(this,"elem-blurred",b=>{b&&(b.xL=!1)})}};"use strict";const Hn=self.B,In=new WeakMap,Jn=ec();self.OO=class extends self.RB{constructor(){super();const a=Hn.zb.Rg(Jn);In.set(this,a)}};"use strict";
const Kn=self.B,Ln=new WeakMap,Mn=ec();self.QO=class extends self.SX{constructor(a){super(a);Ln.set(this,Kn.zb.Rg(Mn));this.bT=this.AL=null}el(){super.el();if(this.AL){const a=Ln.get(this).G().cb();a.removeEventListener("renderercontextlost",this.AL);a.removeEventListener("renderercontextrestored",this.bT);this.bT=this.AL=null}Ln.delete(this)}};"use strict";const Nn=self.B,On=Nn.A(Nn.Rect),Pn=new WeakMap,Qn=ec();function Rn(a,b,c){c||(c={});c.elementId=a.OE;Mm(a,b,c)}
function Sn(a,b){b||(b={});b.elementId=a.OE;Km.get(a).G().yd()?Mm(a,"focus",b):window.c3_runtimeInterface._OnMessageFromRuntime({type:"event",component:a.Iz,handler:"focus",data:b,responseId:null})}function Tn(a,b){b=!!b;a.XS!==b&&(a.XS=b,Rn(a,"set-visible",{isVisible:b}))}
self.M8=class extends self.QO{constructor(a){if(!a?.VM)throw Error("no DOM component ID specified");super(a);a=Nn.zb.Rg(Qn);Pn.set(this,a);var b=this.kG;const c=b.K2++;b.yL.set(c,this);this.OE=c;this.XS=!0;this.I2=this.xL=!1;this.J2=-.2;this.vv=Nn.A(Nn.Rect,0,0,-1,-1);a=a.G().U;this.aT=a.Pj;this.$S=a.Oj;this.ZS=this.YS=-1;this.UL(!0)}el(){super.el();this.kG.yL.delete(this.OE);Rn(this,"destroy");this.OE=-1;Pn.delete(this)}kA(){var a=Pn.get(this);if(!Un(a)){var b=a.C(),c=b.aa(),d=Um(b),[e,f]=Vn(c,d.$,
d.V),[g,h]=Vn(c,d.ja,d.da);a=a.G().U;d=a.pd;var k=a.gd;if(b.Cc()&&c.Cc()){const l=Pn.get(this).G().U.Kw();("Android"!==Nn.W.Vd||"scale-inner"!==l&&"scale-outer"!==l&&"crop"!==l)&&(0>=g||0>=h||e>=d||f>=k)?Tn(this,!1):(On.set(e,f,g,h),d=a.Pj,k=a.Oj,a=c.Xr,b=Wn(b),On.Fd(this.vv)&&this.aT===d&&this.$S===k&&this.YS===a&&this.ZS===b?Tn(this,!0):(this.vv.wa(On),this.aT=d,this.$S=k,this.YS=a,this.ZS=b,Tn(this,!0),d=null,this.I2&&(d=c.Yi()+this.J2),Rn(this,"update-position",{left:Math.round(this.vv.$),top:Math.round(this.vv.V),
width:Math.round(this.vv.width()),height:Math.round(this.vv.height()),htmlIndex:a,htmlZIndex:b,fontSize:d})))}else Tn(this,!1)}}};"use strict";self.NX=class extends self.IO{constructor(){super()}};"use strict";self.MO=class extends globalThis.KO{constructor(){super()}};"use strict";const Xn=self.B,Yn=new WeakMap,Zn=ec();
self.fH=class extends self.JO{constructor(){super();Yn.set(this,Xn.zb.Rg(Zn));this.zL=this.xs=this.ws=!1}el(){super.el();this.UL(!1);this.tT(!1);var a=!1;if(this.zL!==a){this.zL=a;var b=Yn.get(this).G();a?b.vn.Gb(this):b.vn.Ef(this)}Yn.delete(this)}UL(a){a=!!a;if(this.ws!==a){this.ws=a;var b=Yn.get(this).G();a?b.Wl.Gb(this):b.Wl.Ef(this)}}Sk(){return this.ws}kA(){}tT(a){a=!!a;if(this.xs!==a){this.xs=a;var b=Yn.get(this).G();a?b.wn.Gb(this):b.wn.Ef(this)}}ls(){return this.xs}HK(){return this.zL}pm(){}};
"use strict";self.O8=class{constructor(){}};"use strict";const $n=new WeakMap;self.J8=class{constructor(a,b){var c=a.pa();const d=a.Ob(),e=d.Mc();var f=a.Ac();const g=ao(f);f=f.Ra(d);c=c.Qf.Ra();b&&c.yx(b);bo(a,!1);$n.set(this,{Qd:a,vga:d,gja:e,jia:g,dia:f,loop:c})}release(){const {Qd:a}=$n.get(this),b=a.Ac(),c=a.pa().Qf;bo(a,!0);c.La();b.La();$n.delete(this)}};"use strict";const co=self.bf;let eo=null,fo=null;
self.LX=class{constructor(a,b){fo=a;eo=b}setColor(a){eo.Ff(a[0],a[1],a[2],a[3])}rect(a){eo.qx(a.left,a.top,a.right,a.bottom)}line(a,b,c,d){eo.pH(a,b,c,d)}deleteTexture(a){co.jC(a,self.QX);a=fo.Ok.get(a);eo.bi(a)}};"use strict";const go=new WeakMap,ho=new WeakMap;self.QX=class{constructor(a,b){go.set(this,{Qd:a,sja:b});ho.set(b,this);a.Ok.set(this,b);Object.defineProperties(this,{width:{value:b.M(),writable:!1},height:{value:b.K(),writable:!1}})}};"use strict";const io=self.bf,jo=new WeakMap;
function ko(a){return jo.get(a).M4}self.L8=class{constructor(a,b){jo.set(this,{Qd:a,M4:b});a.Ok.set(this,b)}release(){ko(this).m()}set lineHeight(a){io.gf(a);ko(this).OH(a)}get lineHeight(){return ko(this).Gp}setColor(a){io.iC(a);var b=a[0],c=a[1];a=a[2];var d=ko(this);qd(li,b,c,a);d.mk(li)}set verticalAlign(a){Hi(ko(this),a)}get verticalAlign(){return ko(this).jh}set text(a){io.zd(a);ko(this).Ql(a)}get text(){return ko(this).Tw()}};"use strict";
const lo=self.B,mo=new Set(["local","remote"]),no=new Map([["mp4","video/mp4"],["webm","video/webm"],["m4a","audio/mp4"],["mp3","audio/mpeg"],["js","application/javascript"],["wasm","application/wasm"],["svg","image/svg+xml"],["html","text/html"]]);function oo(a){const b=lo.A(lo.Event,"loadingprogress");a.wE=lo.X(a.Tx/a.pA,0,1);b.progress=a.wE;a.g.cb().dispatchEvent(b)}
async function po(a,b){a=await qo(a,b,"buffer");b?(b=b.split("."),2>b.length?b="":(b=b.at(-1).toLowerCase(),b=no.get(b)||"")):b="";return new Blob([a],{type:b})}function qo(a,b,c){"flat"===a.np&&(b=b.toLowerCase());return Vl(a.g,"runtime","cordova-fetch-local-file",{filename:b,as:c})}async function ro(a,b){"flat"===a.np&&(b=b.toLowerCase());var c=a.hR.get(b);if(c)return c;c=await po(a,b);c=URL.createObjectURL(c);a.hR.set(b,c);return c}
function so(a,b){if(lo.hH(b))return Promise.resolve(b);if(a.fE&&a.yp)return ro(a,b);"flat"===a.np&&(b=b.toLowerCase());return Promise.resolve(b)}async function to(a){try{await Promise.all(a.DE),a.wE=1}catch(b){console.error("Error loading: ",b),a.WJ=!0,oo(a)}}async function uo(a){const b=[],c=[];for(const [d,e,f]of a.EM)a.pA+=f,b.push(vo(a,d,e,c).then(()=>{a.Tx+=f;ff(a.DS)}));await Promise.all(b);a.g.yd()&&0<c.length&&await Vl(a.g,"runtime","load-webfonts",{webfonts:c})}
async function vo(a,b,c,d){try{let g=await so(a,c);"Gecko"===lo.W.Eg&&(b=`'${b}'`);if("Gecko"===lo.W.Eg&&"preview"===a.g.Lf||"playable-ad-single-file"===a.g.Lf){{c=g;let k=a.AR.get(c);if(k)g=k;else{var e,f=c;"preview"===a.g.Lf&&(f=(new URL(f,location.href)).toString());(e=a.U1.get(f)||null)?(k=URL.createObjectURL(e),a.AR.set(c,k),g=k):g=c}}}const h=new FontFace(b,`url('${g}')`);a.g.yd()?self.fonts.add(h):document.fonts.add(h);await h.load();a.g.yd()&&d.push({name:b,url:g})}catch(g){console.warn(`[C3 runtime] Failed to load web font '${b}': `,
g)}}function wo(a,b){for(const [c,d,e]of b)a.h1.set(c,{fileName:c,Sga:d.map(f=>({type:f[0],Oga:f[1],dha:c+f[1],fileSize:f[2]})),vha:e})}
lo.QV=class extends lo.ta{constructor(a,b){super();const c=b.exportType;this.g=a;this.np="folders";this.hR=new Map;this.fE="cordova"===c;this.nS=!!b.isiOSCordova;this.yp=!!b.isFileProtocol;this.T2=b.supportedAudioFormats||{};this.h1=new Map;this.P2=b.scriptFolder;this.XR="";this.U1=b.fileMap||new Map;this.AR=new Map;this.oD="html5"===c||"scirra-arcade"===c||"instant-games"===c?"remote":"local";this.Ux=new Map;this.EM=[];this.DE=[];this.OR=!1;this.wE=this.Tx=this.pA=0;this.WJ=!1;this.DS=lo.A(lo.j_,
()=>oo(this),50);this.aL=lo.A(lo.mx,Math.max(lo.hardwareConcurrency,8));this.NL=lo.A(lo.mx,20);new self.GX}m(){for(const a of this.Ux.values())a.m();this.Ux.clear();lo.H(this.DE);this.g=null}G(){return this.g}Pm(a,b){b=b||this.oD;return lo.YB(a)?("flat"===this.np&&(a=a.toLowerCase()),this.fE&&this.yp?po(this,a):"playable-ad-single-file"===this.g.Lf?self.c3_runtimeInterface._PlayableAdFetchBlob(a):"local"===b?this.aL.Gb(()=>lo.Pm(a)):this.NL.Gb(()=>lo.Pm(a))):lo.Pm(a)}yw(a){return lo.YB(a)?("flat"===
this.np&&(a=a.toLowerCase()),this.fE&&this.yp?qo(this,a,"buffer"):"playable-ad-single-file"===this.g.Lf?lo.$V(self.c3_runtimeInterface._PlayableAdFetchBlob(a)):"local"===this.oD?this.aL.Gb(()=>lo.yw(a)):this.NL.Gb(()=>lo.yw(a))):lo.yw(a)}zw(a){return lo.YB(a)?("flat"===this.np&&(a=a.toLowerCase()),this.fE&&this.yp?qo(this,a,"text"):"playable-ad-single-file"===this.g.Lf?lo.dO(self.c3_runtimeInterface._PlayableAdFetchBlob(a)):"local"===this.oD?this.aL.Gb(()=>lo.zw(a)):this.NL.Gb(()=>lo.zw(a))):lo.zw(a)}async vO(a){a=
await this.zw(a);return JSON.parse(a)}ZB(a){if(a.jw&&!mo.has(a.jw))throw Error("invalid load policy");let b=this.Ux.get(a.url);if(b)return b;b=lo.A(lo.gH,this,{url:a.url,size:a.size||0,jw:a.jw||this.oD});this.Ux.set(b.Kq(),b);this.OR||(this.pA+=b.gi(),this.DE.push(xo(b).then(()=>{var c=b.gi();this.Tx+=c;ff(this.DS)})));return b}async rH(a){a=await so(this,a);return await Vl(this.g,"runtime","add-stylesheet",{url:a})}};"use strict";const yo=self.B;
function xo(a){if("local"===a.XK||a.hu)return a.CK=!0,Promise.resolve();if(a.Gi)return a.Gi;a.Gi=a.od.Pm(a.Em,a.XK).then(b=>{a.CK=!0;a.Gi=null;return a.hu=b}).catch(b=>{console.error("Error loading resource: ",b);a.Gi=null});return a.Gi}function zo(a){return a.hu?Promise.resolve(a.hu):a.Gi?a.Gi:a.od.Pm(a.Em,a.XK)}
yo.PV=class extends yo.ta{constructor(a,b){super();this.od=a;this.g=a.G();this.Em=b.url||"";this.xm=b.size;this.XK=b.jw;this.hu=b.blob||null;this.CK=!!this.hu;this.Gi=null}m(){this.hu=this.g=this.od=this.Gi=null}Kq(){return this.Em}gi(){return this.xm}nH(){return this.CK}};"use strict";const Ao=self.B,Bo=new Ao.mx,Co=new Set;
async function Do(a,b,c){try{const d=await zo(a);return 0===a.jc?a.fq=null:await Bo.Gb(async()=>{const e=await b.vw(d,c);a.fq=null;if(0===a.jc)return b.bi(e),null;a.Hm=e;a.$R=e.M();a.YR=e.K();return a.Hm})}catch(d){throw console.error("Failed to load texture: ",d),d;}}async function Eo(a){a=await zo(a);return Ao.qb.ImageBitmap?await createImageBitmap(a):await Ao.cO(a)}
Ao.gH=class extends Ao.PV{constructor(a,b){super(a,b);this.Hm=this.fq=null;this.jc=0;this.YR=this.$R=-1;Co.add(this)}m(){if(0!==this.jc)throw Error("released image asset which still has texture references");this.od.Ux.delete(this.Kq());this.fq=null;Co.delete(this);super.m()}static Kt(){for(const a of Co)a.fq=null,a.Hm=null,a.jc=0}Sq(a,b){b=b||{};this.jc++;if(this.Hm)return Promise.resolve(this.Hm);if(this.fq)return this.fq;b.bw=this.g.U.GT;return this.fq=Do(this,a,b)}Kl(){if(0>=this.jc)throw Error("texture released too many times");
this.jc--;0===this.jc&&this.Hm&&(this.Hm.za().bi(this.Hm),this.Hm=null)}lc(){return this.Hm}M(){return this.$R}K(){return this.YR}};"use strict";const Fo=self.B;function Go(a,b){return a.C().Ti-b.C().Ti}function Ho(a){a.cz&&(a.L.length===a.$k.size?a.Dc():(Fo.Yh(a.L,a.$k),a.$k.clear(),a.cz=!1))}
Fo.m_=class extends Fo.ta{constructor(a,b,c){super();this.ka=b;this.ca=c;this.L=[];this.jz=!0;this.$k=new Set;this.cz=!1}m(){Fo.H(this.L);this.$k.clear()}Dc(){Fo.H(this.L);this.jz=!0;this.$k.clear();this.cz=!1}cj(){if(!this.L.length)return!0;if(this.L.length>this.$k.size)return!1;Ho(this);return!0}VB(a){this.$k.has(a)?(this.$k.delete(a),0===this.$k.size&&(this.cz=!1)):(this.L.push(a),this.jz=1===this.L.length)}Ef(a){this.$k.add(a);this.cz=!0;50<=this.$k.size&&Ho(this)}JG(a){Ho(this);this.jz||(this.L.sort(Go),
this.jz=!0);this.L.length&&a.push(this.L)}};"use strict";const Io=self.B;
Io.n_=class extends Io.ta{constructor(a,b){super();this.YC=a;this.XC=b;this.qj=Io.A(Io.lx)}m(){this.qj.m();this.qj=null}Ho(a,b,c){let d=this.qj.T(a,b);return d?d:c?(d=Io.A(Io.m_,this,a,b),this.qj.Set(a,b,d),d):null}wk(a){return Math.floor(a/this.YC)}xk(a){return Math.floor(a/this.XC)}vk(a,b,c){if(b)for(let d=b.$,e=b.ja;d<=e;++d)for(let f=b.V,g=b.da;f<=g;++f){if(c&&c.kh(d,f))continue;const h=this.Ho(d,f,!1);h&&(h.Ef(a),h.cj()&&this.qj.Eo(d,f))}if(c)for(let d=c.$,e=c.ja;d<=e;++d)for(let f=c.V,g=c.da;f<=
g;++f)b&&b.kh(d,f)||this.Ho(d,f,!0).VB(a)}eC(a,b){let c=this.wk(a.$);const d=this.xk(a.V),e=this.wk(a.ja);for(a=this.xk(a.da);c<=e;++c)for(let f=d;f<=a;++f){const g=this.Ho(c,f,!1);g&&g.JG(b)}}};"use strict";const M=self.B,Jo=new M.Rect,Ko=new M.Jd,Lo=[];new M.Rect;new M.Rect;const Mo=self.me,No=Mo.tG,Oo=Mo.ZA,Po=Mo.tl;Po.create();const Qo=No.create(),Ro=Oo.create(),So=No.create(),To=No.create(),Uo=No.create(),Vo=M.A(M.hr);M.A(M.Rect);function Wo(a,b){return a.C().Ti-b.C().Ti}
function Xo(a,b){return a.C().hb()-b.C().hb()}const Yo=[],Zo=[],$o=[],ap={name:"",dt:-1,hN:!1,isVisible:!0,gG:!0,fG:!1,backgroundColor:[1,1,1,1],iG:!0,CN:[1,1],opacity:1,eG:!1,$U:!1,rV:!1,sV:!1,mG:1,Lm:0,vl:0,EU:[],xU:[],hV:[]};
function bp(a,b,c=!1){if(a.L.includes(b))c&&a.L.sort((f,g)=>{f=cp(f.C());g=cp(g.C());return f-g});else if(b.ef()){var d=[...b.Rj()];d.push(b);d.sort((f,g)=>{f=cp(f.C());g=cp(g.C());return f-g});for(var e of d)if(e.Bc())for(const f of e.md)d.includes(f)||(b=[...f.Rj()],b.push(f),b.sort((g,h)=>{g=cp(g.C());h=cp(h.C());return g-h}),b&&b.length&&d.splice(d.length,0,...b));for(const f of d)f.Ua().Yd&&a.ni(f,!0)}else if(b.Ua().Yd&&a.ni(b,!0),b.Bc())for(d of b.md)if(e=[...d.Rj()],e.push(d),e.sort((f,g)=>
{f=cp(f.C());g=cp(g.C());return f-g}),e&&e.length)for(const f of e)f.Ua().Yd&&a.ni(f,!0)}function um(a,b){b=!!b;a.ks!==b&&(a.ks=b,dp(a.Pf),a.g.ba())}function vm(a,b){a.vf!==b&&(a.vf=b,ep(a.Pf),fp(a),a.g.ba())}function wm(a,b){a.fo!==b&&(a.fo=b,fp(a),a.g.ba())}function xm(a,b){b=!!b;a.Tk!==b&&(a.Tk=b,a.g.ba())}function ym(a,b){b=!!b;a.iE!==b&&(a.iE=b,a.g.ba())}function zm(a,b){b=!!b;if(a.In!==b){if(a.In=b)b=a.rc(),a.Hj=b.qh(),a.Ij=b.rh();fp(a);a.g.ba()}}
function Vn(a,b,c){return gp(a,b,c,0,a.Yi())}function hp(a){a.WE.wa(a.tb);wd(a.WE)}function ip(a){return a.d3&&!a.NT}function jp(a,b,c){return M.A(M.oH,a,b,{name:c[0],dt:c[2],isVisible:c[3],gG:c[13],fG:c[19],backgroundColor:c[4].map(d=>d/255),iG:c[5],CN:[c[6],c[7]],opacity:c[8],eG:c[9],$U:c[17],rV:c[18],sV:c[10],mG:c[11],Lm:c[12],vl:c[16],EU:c[14],xU:c[15],hV:c[20]})}
function kp(a){for(const b of a.bS){const c=lp(a.g,b[1]);mp(a.Pf,c);c.Jr||(c.Jr=b);a.lm.push(b);a.cS.set(b[2],b)}M.wd(a.CT,a.lm);a.bS=null}function np(a,b){return a.cS.get(b)}function op(a,b){a.HM=!1;a.oE=!1;if(!b||b.I().Ua().wK)a.$J=!1}function pp(a,b){if(b){b=new Set;for(var c of a.L){var d=c.C().Ti;0<=d&&b.add(d)}c=-1;for(const e of a.L)if(d=e.C(),!(0<=d.Ti)){for(++c;b.has(c);)++c;d.Ti=c|0}}a.L.sort(Wo)}function*qp(a){yield a;yield*a.SA()}function fp(a){a.DK=!0;a.lz=!0;a.mz=!0}
function rp(a){if(a.mz){a.mz=!1;var b=a.g.RE,c=a.g.SE,d=(a.qh()-b)*a.zj+b,e=(a.rh()-c)*a.Aj+c;b=sp(a);c=a.g.zg/b;b=a.g.zf/b;d-=c/2;var f=e-b/2;a.g.Qn&&(d=Math.round(d),f=Math.round(f));e=a.WT;e.set(d,f,d+c,f+b);c=a.fb();0!==c&&(Jo.wa(e),Jo.offset(-e.kw(),-e.lw()),0===c?Ko.Dg(Jo):Od(Ko,Jo,Math.sin(c),Math.cos(c)),Ko.cN(Jo),Jo.offset(e.kw(),e.lw()),e.wa(Jo));b=a.ud;tp(a,b,a.AA);if(up(a)){c=a.BM;e=a.g.U;d=e.pd;e=e.gd;const [g,h]=vp(a,0,0,b),[k,l]=vp(a,d,0,b),[m,n]=vp(a,d,e,b),[p,q]=vp(a,0,e,b);a=Math.min(g,
k,m,p);b=Math.min(h,l,n,q);d=Math.max(g,k,m,p);e=Math.max(h,l,n,q);isFinite(a)||(a=-Infinity);isFinite(b)||(b=-Infinity);isFinite(d)||(d=Infinity);isFinite(e)||(e=Infinity);c.set(a,b,d,e)}else a.BM.wa(a.AA)}}function wp(a){rp(a);return a.AA}function xp(a){rp(a);return a.BM}function yp(a){a=a.rc();return[zp(a),Ap(a)]}
function tp(a,b,c){rp(a);var d=a.WT;if(0===b)c.wa(d);else{let h=d.kw(),k=d.lw();if(a.Pf.sg)var e=1;else e=Bp(a),e/=e-b;var f=e;e=d.width()/f;d=d.height()/f;const [l,m]=yp(a);if(.5!==l||.5!==m){const n=a.Ee()/sp(a);var g=a.g;const p=a.Ee()/n;f=(l-.5)*g.zg/p;g=(m-.5)*g.zf/p;a=a.fb();0!==a&&(Vo.set(f,g),Vo.rotate(a),f=Vo.ka,g=Vo.ca);b=M.sG(n,0,b);h+=M.Af(f,0,b);k+=M.Af(g,0,b)}c.set(h-e/2,k-d/2,h+e/2,k+d/2)}}
function Cp(a){return!Dp(a)&&a.NT?(M.wd($o,a.L),$o.sort((b,c)=>{var d=a.rc().VI,e=d[0],f=d[1];d=d[2];var g=b.C();const h=c.C();c=g.Ga()-e;b=g.Ha()-f;g=g.hb()-d;e=h.Ga()-e;f=h.Ha()-f;d=h.hb()-d;return e*e+f*f+d*d-(c*c+b*b+g*g)}),$o):a.L}function Ep(a,b){M.wo(b,Cp(a));for(const c of a.Te)c.Cc()&&0<c.Kc()&&Ep(c,b)}function Dp(a){return!a.G().ql||!a.M2}function up(a){return!Dp(a)&&a.rc().h2}function Fp(a){if(!up(a))return!1;for(const b of a.Te)if(!Fp(b))return!1;return!0}
function Gp(a,b,c=!0){c?a.Te.push(b):a.Te.unshift(b)}function Hp(a){return a.Cc()&&0<a.Kc()&&Ip(a)}function Jp(){var a=Kp[0];for(const b of a.Te)if(Hp(b))return!0;return!1}function*Lp(a){for(const b of a.Te)yield*Lp(b);yield a}function Mp(a,b){for(const c of a.SA())if(c===b)return!0;return!1}function Np(a,b){return a===b||a.zj===b.zj&&a.Aj===b.Aj&&a.vf===b.vf&&a.fo===b.fo&&a.Dh===b.Dh&&a.qh()===b.qh()&&a.rh()===b.rh()}
function Op(a){if(!a.HM){a.L.sort(Xo);if(ip(a))for(let e=0,f=a.L.length;e<f;++e){var b=a.L[e].C();b.Ti=e|0;var c=a.Dv,d=b.Pz;b=d.$;const g=d.V,h=d.ja;for(d=d.da;b<=h;++b)for(let k=g;k<=d;++k){const l=c.Ho(b,k,!1);l&&(l.jz=!1)}}else for(let e=0,f=a.L.length;e<f;++e)a.L[e].C().Ti=e|0;a.HM=!0}}function Pp(a){if(!a.$J){a=Qp(a.Pf,a.Xr).map(c=>[...Lp(c)]).flat();var b=0;for(const c of a){for(const d of c.L)d.I().Ua().wK&&Rp(d.C(),b++);c.$J=!0}}}
function Ip(a){if(0<a.L.length||!a.Tk)return!0;for(const b of a.Te)if(Ip(b))return!0;return!1}function Sp(a){if(a.Tt())return!0;for(const b of a.Te)if(Sp(b))return!0;return!1}function Bp(a){return up(a)?a.rc().VI[2]:a.Ee()/sp(a)}
function Tp(a,b){if(a.DK){var c=a.zz;const l=a.g;var d=a.rc();if(up(a)){No.wa(So,d.VI);No.wa(To,d.z1);No.wa(Uo,d.A1);d=l.RE;var e=l.SE,f=To[0]-So[0],g=To[1]-So[1],h=To[2]-So[2];So[0]=(So[0]-d)*a.zj+d;So[1]=(So[1]-e)*a.Aj+e;So[2]*=Math.max(a.zj,a.Aj);To[0]=So[0]+f;To[1]=So[1]+g;To[2]=So[2]+h}else{d=a.g;g=a.rc();f=d.RE;e=d.SE;f=(a.qh()-f)*a.zj+f;h=(a.rh()-e)*a.Aj+e;d.Qn&&(f=Math.round(f),h=Math.round(h));e=f+0;f=h+0;g=g.sg?a.Ee(null):a.Ee(null)/sp(a);const [m,n]=yp(a);if(.5!==m||.5!==n){var k=a.Ee(null)/
g;h=(m-.5)*d.zg/k;d=(n-.5)*d.zf/k;k=a.fb();0!==k&&(Vo.set(h,d),Vo.rotate(k),h=Vo.ka,d=Vo.ca);e+=h;f+=d}const [p,q,u]=[e,f,g];No.set(So,p,q,u);No.set(To,p,q,u-100);d=a.fb();0===d?No.set(Uo,0,1,0):No.set(Uo,Math.sin(d),Math.cos(d),0)}Sg(b,c,So,To,Uo,l.zf);a.DK=!1}return a.zz}function sp(a){return(a.vf*a.Pf.vf-1)*a.fo+1}
function Up(a,b){if(a.nE){var c=a.g.U;const [h,k]=yp(a);if(a.Pf.sg){var d=a.Dj,e=c.Dl(),f=self.devicePixelRatio,g=2*b.Ee(e)*f*b.hA/e;c=c.El()*g/(2*f);e=e*g/(2*f);f=-c;g=-e;b.Ud()?Fg.C4(d,f,c,g,e,b.Jp,b.mp):Fg.B4(d,f,c,g,e,b.Jp,b.mp)}else.5===h&&.5===k?Po.wa(a.Dj,c.pD):Rg(b,a.Dj,c.El()/c.Dl(),h,k);a.nE=!1}return a.Dj}function Vp(a,b){b.Pl(Up(a,b));a=Tp(a,b);b.er(a)}
function Wp(a,b){let c=null;if(b.ej()&&Xp(a.g)){var d=a.g.U;if(d.za().yh()){var e=d.TK.get(a);e||(e={Zs:a,name:a.ea(),UN:N.A(N.R.wQ,d.Ye),YF:0,oN:0,NU:0},d.TK.set(a,e));a=e.UN}else a=null;a&&(a=c=Vi(a),b.yh()&&(d=nj(b),d.oa=18,d.Xf=a,b.kc=0))}return c}function Yp(a,b){b.Ud()&&Xp(a.g)&&(a=2*(a.Fa()+1),Vj(b,a,a+1))}
function Zp(a,b,c){const d=wp(a),e=a.lf,f=a.rc().sg,g=$p(a.rc());let h=null;for(let k=0,l=c.length;k<l;++k){const m=c[k];if(m===h)continue;h=m;const n=m.C();n.Cc()&&aq(n,d,g,f)&&bq(a,m,n,b,e)}}
function bq(a,b,c,d,e){if(c.Yw()){const u=c.Nf.Kg();var f=u.br,g=c.Bl(),h=a.g.Gw();var k=b.g;var l=k.Uu.get(b);k=l?l.T():cq(k);l=a.g.Hw()*sp(a);var m=a.fb(),n=Um(c);if(u.hy&&!u.Vs)var p=null;else a:{var q=Um(c);p=dq(c);c=c.Qm();const r=p+c,t=q.$,v=q.V,w=q.ja;q=q.da;if(up(a)){if(eq(a,t,v,p)||eq(a,w,v,p)||eq(a,w,q,p)||eq(a,t,q,p)||0<c&&(eq(a,t,v,r)||eq(a,w,v,r)||eq(a,w,q,r)||eq(a,t,q,r))){p=null;break a}}else if(r>=a.Ee()/sp(a)){p=null;break a}let [A,G]=fq(a,t,v,p),[H,T]=fq(a,w,q,p);if(0!==a.fb()||
0<c||up(a)){const [xa,va]=fq(a,w,v,p),[ia,Ba]=fq(a,t,q,p);if(0<c){const [vb,wb]=fq(a,t,v,r),[Ia,ih]=fq(a,w,v,r),[jh,bw]=fq(a,w,q,r),[cw,dw]=fq(a,t,q,r);p=Math.min(A,H,xa,ia,vb,Ia,jh,cw);H=Math.max(A,H,xa,ia,vb,Ia,jh,cw);A=p;p=Math.min(G,T,va,Ba,wb,ih,bw,dw);T=Math.max(G,T,va,Ba,wb,ih,bw,dw);G=p}else p=Math.min(A,H,xa,ia),H=Math.max(A,H,xa,ia),A=p,p=Math.min(G,T,va,Ba),T=Math.max(G,T,va,Ba),G=p}Jo.set(A,G,H,T);p=Jo}f.call(u,d,e,{RM:b,Lm:g,devicePixelRatio:h,time:k,PA:l,OA:m,$s:n,bG:p,D3:null,t3:null,
u3:null,f5:null});b=a.hb();d.Eh=b;u.qB()&&Vp(a,d)}else gq(b,c,d)}function hq(a){if(a.lz){var b=a.g.za();const c=Up(a,b),d=Tp(a,b);b=a.VT;xg(0,1,0,d,c,wg,og);xg(1,1,0,d,c,wg,pg);xg(0,0,0,d,c,wg,qg);xg(1,0,0,d,c,wg,rg);xg(0,1,1,d,c,wg,sg);xg(1,1,1,d,c,wg,tg);xg(0,0,1,d,c,wg,ug);xg(1,0,1,d,c,wg,vg);yg(qg,og,sg,b.zS);yg(og,pg,tg,b.LT);yg(pg,rg,vg,b.oT);yg(rg,qg,ug,b.aR);yg(ug,sg,tg,b.yR);yg(rg,pg,og,b.oL);a.lz=!1}return a.VT}
function gq(a,b,c){b=b.Ns;if(c.ng!==b){const d=b.O;d.Ol(b.Ic);d.Ie(b.Sg);d.mk(b.tb);Zg(d,b.ud);d.ng=b}a.ci(c)}
function vp(a,b,c,d=0){var e=a.Yi();const f=a.g,g=f.za(),h=sp(a);Oo.set(Ro,0,0,f.zg/h,f.zf/h);b/=e;c=Ro[3]-c/e;e=Up(a,g);a=Tp(a,g);a:if(xg(b,c,0,a,e,Ro,jg)&&xg(b,c,1,a,e,Ro,kg)){gg.Do(kg,kg,jg);gg.set(lg,0,0,1);d=-d;a=gg.zo(lg,kg);b=0;if(0===a){if(0!==gg.zo(lg,jg)+d){d=!1;break a}}else if(b=-(gg.zo(jg,lg)+d)/a,0>b){d=!1;break a}gg.LN(Qo,jg,kg,b);d=!0}else d=!1;return d?[Qo[0],Qo[1]]:[NaN,NaN]}
function gp(a,b,c,d,e){var f=a.g;const g=f.za(),h=sp(a);Oo.set(Ro,0,0,f.zg/h,f.zf/h);f=Up(a,g);a=Tp(a,g);return M.R.dC(b,c,d,a,f,Ro,Qo)?[Qo[0]*e,(Ro[3]-Qo[1])*e]:[NaN,NaN]}function fq(a,b,c,d=0){return gp(a,b,c,d,a.At()*a.Rm())}function eq(a,b,c,d){a=hq(a).oL;return!(a.x*b+a.y*c+a.z*d>=a.w)}
M.oH=class extends M.ta{constructor(a,b,c){super();c=Object.assign({},ap,c);this.Pf=a;this.g=a.G();this.Bj=b;this.Ka=c.name;this.la=-1;this.ks=!!c.fG;this.Xr=-1;this.lb=c.dt;this.gz=!!c.hN;this.Zu=!!c.isVisible;this.Wu=!!c.gG;this.un=M.A(M.bb);Bd(this.un,c.backgroundColor);this.Tk=!!c.iG;this.zj=c.CN[0];this.Aj=c.CN[1];this.tb=M.A(M.bb,1,1,1,c.opacity);this.WE=M.A(M.bb);this.iE=!!c.eG;this.M2=!!c.$U;this.NT=!!c.rV;this.d3=!!c.sV;this.fo=c.mG;this.Sg=c.Lm;this.lf=null;this.vf=1;this.ud=c.vl;this.Ij=
this.Hj=this.Dh=0;this.In=!1;this.AA=M.A(M.Rect);this.WT=M.A(M.Rect);this.BM=M.A(M.Rect);this.mz=!0;this.Dj=Po.create();this.nE=!0;this.zz=Po.create();this.DK=!0;this.VT=M.A(M.R.u0);this.lz=!0;this.CT=[];this.bS=c.EU;this.lm=[];this.fD=[];this.cS=new Map;this.L=[];this.qn=this.$J=this.HM=!1;const d=this.g.U;this.Sa=M.A(M.Fq,this,c.xU);this.Jf=M.A(M.R.eg,d.Ey,{aG:(e,f)=>{f=f.fp;const g=f.bj();e.mk(f.UG());e.pt(g);e.Nq(g);d.Yq(g)},dG:e=>this.Sa.zC(e)});this.DA=this.Wn=!0;this.Dv=null;this.MK=[];this.oE=
!1;this.u2=M.A(M.Rect,0,0,-1,-1);this.G1=M.A(M.Rect,0,0,-1,-1);this.VR=new self.JX(this);hp(this);ip(this)&&(this.Dv=M.A(M.n_,this.g.Ji,this.g.Ii));this.Te=c.hV.map(e=>jp(this.Pf,this,e))}m(){for(const a of this.Te)a.m();M.H(this.Te);for(const a of this.L)iq(this.g,a);M.H(this.L);this.Sa.m();this.Sa=null;this.Jf.m();this.g=this.Pf=this.Bj=this.VR=this.Jf=null}ni(a,b){if(!a.Ua().Yd)throw Error("instance is not of world type");const c=a.C();if(c.aa()!==this)throw Error("instance added to wrong layer");
this.L.push(a);0!==c.hb()&&(this.qn=!0);b&&ip(this)&&K(a.C());op(this,a)}mr(a,b){const c=this.L.indexOf(a);0>c||(b&&ip(this)&&jq(a.C()),this.L.splice(c,1),op(this,a),0===this.L.length&&(this.qn=!1))}ox(a,b,c,d,e,f){const g=this.g.pa(),h=this.g.nd,k=a.Oa,l=[];for(const p of this.lm){var m=p[0];if(b.kh(m[0],m[1])){m=h[p[1]];if(m!==a)if(k){if(!a.xD.has(m))continue}else continue;m=e;if(!m){var n=O(this.g);this.rc()===n?m=this:(m=kq(n,this.ea()))||(m=lq(n,this.Fa()))}n=mq(this.g,p,m,!1,void 0,void 0,!1,
f);bp(m,n);m=n.C();nq(m,c,d);K(m);gm(g,!0);hm(n);gm(g,!1);l.push(n)}}return l}rc(){return this.Pf}ea(){return this.Ka}wI(a){this.la=a}Fa(){return this.la}G(){return this.g}Rm(){return this.g.Rm()}Kg(){this.Ix();return this.Jf}Ix(){const a=this.Et();if(this.Wn||a!==this.DA||this.Jf.Bz){var b=this.Sa.Bh;vl(this.Jf,b.map(c=>c.Ge()),{ew:b.map(c=>c.Fa()),ZM:!a,XN:!0});this.Wn=!1;this.DA=a}}zh(){this.Sa.zh();this.Wn=!0}Cc(){for(const a of qp(this))if(!a.Zu)return!1;return!0}qe(a){a=!!a;this.Zu!==a&&(this.Zu=
a,this.g.ba())}qk(a){var b=this.rc();const c=b.Bp?-Infinity:oq(b);b=b.Bp?Infinity:b.M()-oq(b);a>b&&(a=b);a<c&&(a=c);this.Hj!==a&&(this.Hj=a,this.In&&(fp(this),this.g.ba()))}rk(a){var b=this.rc();const c=b.Bp?-Infinity:pq(b);b=b.Bp?Infinity:b.K()-pq(b);a>b&&(a=b);a<c&&(a=c);this.Ij!==a&&(this.Ij=a,this.In&&(fp(this),this.g.ba()))}qh(){return this.In?this.Hj:this.rc().qh()}rh(){return this.In?this.Ij:this.rc().rh()}Ee(a){return this.g.Ee(a)}Kc(){return this.tb.Xa}wh(a){a=M.X(a,0,1);this.tb.Xa!==a&&
(td(this.tb,a),hp(this),this.g.ba())}UG(){return this.WE}Et(){return vd(this.tb,1,1,1,1)}Pg(a){this.ud!==a&&(this.ud=a,this.g.ba())}hb(){return this.ud}He(a){a=M.le(a);this.Dh!==a&&(this.Dh=a,fp(this),this.g.ba())}fb(){return M.le(this.Pf.fb()+this.Dh)}Ie(a){this.Sg!==a&&(this.Sg=a,this.g.ba())}Bl(){return this.Sg}*SA(){let a=this.Bj;for(;a;)yield a,a=a.Bj}Tt(){return this.iE||!this.Et()||0!==this.Bl()||this.Sa.Yw()}bj(){return this.lf}ci(a,b,c){var d=this.g.U,e=this.Tt(),f=null;const g=Wp(this,a);
Yp(this,a);e?(f={qc:this.g.Yb,Uj:!0,sq:a.Ud()?this.g.Ws:!1},"low"===d.Bi&&(f.width=d.El(),f.height=d.Dl()),this.lf=f=this.g.Cw(f),a.he(f),this.Tk&&a.ai(0,0,0,0)):(this.lf=b,a.he(b));this.Tk||a.fe(this.un);qq(a,this.lf,this.Te,e&&this.Tk);Yp(this,a);Vp(this,a);d=this.hb();a.Eh=d;a.hf(!Dp(this));if(sp(this)>Number.EPSILON)if(Op(this),d=ip(this)&&0===this.hb()&&!this.qn,up(this)){d=this.lf;var h=hq(this),k=Cp(this);for(let t=0,v=k.length;t<v;){var l=k[t],m=l.C();if(m.Cc()&&rq(m,h)){(!l.Mt()||0<m.Qm())&&
Zo.push(l);var n=dq(l.C());Yo.push(l);for(var p=t+1;p<v;++p){var q=k[p],u=q.C();if(u.Cc()&&rq(u,h)){if(dq(u)!==n)break;q.Mt()?(0<u.Qm()&&Zo.push(q),Yo.push(q)):Zo.push(q)}}if(1!==Yo.length||0!==(Yo[0].F&32)){l=a;m=this.lf;l.HG();for(let w=0,A=Yo.length;w<A;++w)n=Yo[w],q=n.C(),q.Ab(1048576,!0),gq(n,q,l);l.lB();for(let w=0,A=Yo.length;w<A;++w)n=Yo[w],q=n.C(),bq(this,n,q,l,m),q.Ab(1048576,!1);l.kB();for(let w=0,A=Zo.length;w<A;++w)l=Zo[w],m=l.C(),m.Ab(2097152,!0),bq(this,l,m,a,d),m.Ab(2097152,!1)}else{bq(this,
l,m,a,d);for(let w=0,A=Zo.length;w<A;++w)m=Zo[w],m!==l&&(n=m.C(),bq(n.aa(),m,n,a,d))}t=p;M.H(Yo);M.H(Zo)}else++t}}else if(d){k=this.Dv;d=this.G1;h=this.u2;p=wp(this);d.set(k.wk(p.$),k.xk(p.V),k.wk(p.ja),k.xk(p.da));if(this.oE&&d.Fd(h))k=this.MK;else{Op(this);M.H(Lo);this.Dv.eC(wp(this),Lo);if(Lo.length)if(1===Lo.length)k=Lo[0];else{for(k=Lo;1<k.length;){m=[];n=k.length;for(q=0;q<n-1;q+=2){p=m;l=p.push;u=k[q];var r=k[q+1];const t=[];let v=0,w=0,A=u.length,G=r.length;for(;v<A&&w<G;){const H=u[v],T=
r[w];H.C().Ti<T.C().Ti?(t.push(H),++v):(t.push(T),++w)}for(;v<A;++v)t.push(u[v]);for(;w<G;++w)t.push(r[w]);u=t;l.call(p,u)}1===n%2&&m.push(k[n-1]);k=m}k=k[0]}else k=[];this.oE=!0;h.wa(d)}Zp(this,a,k);k!==this.MK&&M.wd(this.MK,k)}else Zp(this,a,Cp(this));a.Eh=0;Zg(a,0);e&&(a.hf(!1),e=f,f=this.g,0===this.Sa.Bh.length?(a.he(b),Vg(a),c&&0===this.Sg&&this.Et()?a.mB(e):(a.Ie(this.Sg),a.mk(this.WE),a.pt(e)),a.Nq(e),f.Yq(e)):this.Kg().br(a,b,{RM:this,Lm:this.Bl(),devicePixelRatio:f.Gw(),PA:f.Hw()*sp(this),
OA:this.fb(),$s:wp(this),bG:null,fN:!0}));g&&sj(a,g);this.lf=null}At(){return sp(this)*this.g.At()}Yi(){return sp(this)*this.g.Yi()}na(){return{d:this.gz,s:this.vf,a:this.Dh,v:this.Zu,i:this.Wu,html:this.ks,bc:this.un.toJSON(),t:this.Tk,sx:this.Hj,sy:this.Ij,hosp:this.In,px:this.zj,py:this.Aj,c:this.tb.toJSON(),sr:this.fo,fx:this.Sa.ed(),cg:this.fD}}ra(a){this.gz=!!a.d;this.vf=a.s;this.Dh=a.a;this.Zu=!!a.v;this.Wu=a.hasOwnProperty("i")?a.i:!0;this.ks=!!a.html;Bd(this.un,a.bc);this.Tk=!!a.t;a.hasOwnProperty("sx")&&
(this.Hj=a.sx);a.hasOwnProperty("sy")&&(this.Ij=a.sy);a.hasOwnProperty("hosp")&&(this.In=!!a.hosp);this.zj=a.px;this.Aj=a.py;Bd(this.tb,a.c);hp(this);this.fo=a.sr;M.wd(this.fD,a.cg);M.wd(this.lm,this.CT);const b=new Set(this.fD);let c=0;for(let d=0,e=this.lm.length;d<e;++d)b.has(this.lm[d][2])||(this.lm[c]=this.lm[d],++c);M.$e(this.lm,c);this.Sa.mc(a.fx);this.Wn=!0}wt(){return this.VR}};"use strict";const P=self.B,sq=self.$h;P.A(P.Rect);P.A(P.Rect);
const tq=P.A(P.Rect),uq=P.A(P.bb),vq=self.me.tG,Kp=[],wq=[],xq=[],yq=[];let zq=null;function Aq(a,b){if(zq!==a){Vp(a,b);var c=a.hb();b.Eh=c;zq=a}}function mm(a){a.sg&&(a.sg=!1,Bq(a),Cq(a),a.g.ba())}function nm(a){a.sg||(a.sg=!0,Bq(a),Cq(a),a.g.ba())}function mp(a,b){if(b.Bc())for(const c of b.Gh.qm)a.bs.add(c);else a.bs.add(b)}function kq(a,b){return a.RK.get(b.toLowerCase())||null}function lq(a,b){b=P.X(Math.floor(b),0,a.Qc.length-1);return a.Qc[b]}async function dp(a){Dq(a);Fq(a);a.DL=a.Lw()}
function zp(a){return a.sg?.5:a.MF}function Ap(a){return a.sg?.5:a.NF}function Qp(a,b){const c=[];for(const d of a.Tf)if(a=d.Xr,a===b)c.push(d);else if(a>b)break;return c}function qq(a,b,c,d){c=c.filter(e=>Hp(e));for(let e=0,f=c.length;e<f;){const g=c[e];if(Fp(g)&&!Sp(g)){Kp.push(g);for(let h=e+1;h<f;++h){const k=c[h];if(Fp(k)&&!Sp(k))Kp.push(c[h]);else break}if(2<=Kp.length||1===Kp.length&&Jp()){Gq(a,b);e+=Kp.length;P.H(Kp);continue}P.H(Kp)}g.ci(a,b,d&&0===e);++e}}
function $p(a){const b=zp(a);a=Ap(a);return 0>b||1<b||0>a||1<a}function ep(a){a.qk(a.qh());a.rk(a.rh());for(const b of a.Qc)b.In&&(b.qk(b.qh()),b.rk(b.rh()))}function Dq(a){a.Qc=[...a.aw()];a.RK.clear();a.SK.clear();for(let b=0,c=a.Qc.length;b<c;++b){const d=a.Qc[b];d.wI(b);a.RK.set(d.ea().toLowerCase(),d);a.SK.set(d.lb,d)}}function Hq(a){let b=sp(a.Qc[0]);for(let c=1,d=a.Qc.length;c<d;++c){const e=a.Qc[c];if(0!==e.zj||0!==e.Aj)b=Math.min(b,sp(e))}return b}function oq(a){return.5*a.g.zg/Hq(a)}
function pq(a){return.5*a.g.zf/Hq(a)}function Cq(a){for(const b of a.Qc)fp(b)}function Bq(a){for(const b of a.Qc)b.nE=!0,b.lz=!0,b.mz=!0}function Iq(a,b){return a.SK.get(b)||null}
function Jq(a,b,c,d){if(2<=d)if(c){if(c===b||Mp(c,b))throw Error(`cannot move layer '${b.ea()}' to sub-layer of itself`);Gp(c,b,2===d);b.Bj=c}else 2===d?a.Tf.push(b):a.Tf.unshift(b),b.Bj=null;else{var e=c.Bj;if(e){if(Mp(c,b))throw Error(`cannot move layer '${b.ea()}' to sub-layer of itself`);a=e.Te.indexOf(c);if(-1===a)throw Error("cannot find layer to insert by");0===d&&++a;e.Te.splice(a,0,b);b.Bj=e}else{e=a.Tf.indexOf(c);if(-1===e)throw Error("cannot find layer to insert by");0===d&&++e;a.Tf.splice(e,
0,b);b.Bj=null}}}function Kq(a,b){var c=b.Bj;if(c){a=c.Te.indexOf(b);if(-1===a)throw Error("cannot find layer to remove");c.Te.splice(a,1);return!0}if(1<a.Tf.length){c=a.Tf.indexOf(b);if(-1===c)throw Error("cannot find layer to remove");a.Tf.splice(c,1);return!0}return!1}function Fq(a){let b=0;for(const c of a.Tf){for(const d of Lp(c))d.Xr=b;c.ks&&b++}}
function Lq(a){for(a=a.Tf.filter(b=>Hp(b))[0];a;){if(!a.Tk)return sd(uq,a.un),td(uq,1),uq;if(a.Tt())return pd(uq,0,0,0,0),uq;a=a.Te.filter(b=>Hp(b))[0]}pd(uq,0,0,0,0);return uq}function Mq(a,b,c){if(b===a||!c)return Promise.resolve();b&&(P.xW(a.Pi,b.Pi),b.Pi.clear());b=[];for(const d of a.bs)a.Pi.has(d)||(b.push(d.Ht(c)),a.Pi.add(d));return Promise.all(b)}function Nq(a,b){a.jA.add(b);b.then(()=>a.jA.delete(b)).catch(()=>a.jA.delete(b))}
async function Oq(a,b){if(b.Oa)throw Error("cannot load textures for family");var c=a.g.za();!c||c.hk()||a.Pi.has(b)||(a.Pi.add(b),c=b.Ht(c),Nq(a,c),await c,b.aC(),a.g.ba())}function Pq(a,b){if(b.Oa||0<b.L.length)throw Error("cannot unload textures");a.g.za()&&a.Pi.has(b)&&(a.Pi.delete(b),b.Zq())}
function Qq(a,b){for(const d of a.g.nd)if(!d.Oa&&d.Yd)for(const e of d.qa()){const f=e.C();var c=f.aa();c=P.X(c.Fa(),0,a.Qc.length-1);c=a.Qc[c];Rq(f,c,!0);c.L.includes(e)||(c.L.push(e),0!==e.C().hb()&&(c.qn=!0),op(c,e))}if(!b)for(const d of a.Qc)pp(d,!1)}
function Sq(a){for(const e of a.Qc){var b=e,c=a.my;const f=b.Pf.js;let g=0;const h=b.lm;for(let k=0,l=h.length;k<l;++k){var d=h[k];const m=lp(b.g,d[1]);let n=!0;if(!Tq(m)||f)d=mq(b.g,d,b,!0),c.push(d),m.Cf()&&(n=!1,b.fD.push(d.zc));n&&(h[g]=h[k],++g)}M.$e(h,g);jm(b.g);op(b)}}
function Uq(a){let b=!1;for(const [d,e]of Object.entries(a.Op)){const f=Vq(a.g,parseInt(d,10));if(f&&!f.Oa&&Tq(f))for(const g of e){var c=null;if(f.Yd&&(c=g.hasOwnProperty("instJson")?Iq(a,g.instJson.w.l):Iq(a,g.w.l),!c))continue;c=mq(a.g,f,c,!1,0,0,!0);g.hasOwnProperty("instJson")?c.mc(g.instJson):c.mc(g);b=!0;a.ny.push(c);g.hasOwnProperty("instJson")&&(a.gJ.set(c,g),a.fJ.set(g.index,c))}}for(const d of a.Qc)pp(d,!0),op(d);b&&(jm(a.g),Wq(a.g))}
function Xq(a,b){for(const d of b){if(!d.Bc())continue;const e=d.C(),f=Yq(d);for(const g of d.I().Gh.qm)if(g!==d.I()){var c=g.qa();c.length>f?d.md.push(c[f]):(c=e?mq(a.g,g,e.aa(),!0,e.Ga(),e.Ha(),!0):mq(a.g,g,null,!0,0,0,!0),jm(a.g),Zq(g),d.md.push(c),b.push(c))}}}function $q(a){for(const b of a.gK)lp(a.g,b[1]).Bc()||mq(a.g,b,null,!0)}function ar(a,b){b.layout=a.Tm();return a.g.yl(b)}
async function br(a,b){const c=a.g,d=a.jb,e=c.pa();a.uR&&(a.rd=e.nF.get(a.uR.toLowerCase())||null,cr(a.rd));d.ov=a;a.P=a.H2;a.S=a.G2;a.Hj=c.Ji/2;a.Ij=c.Ii/2;ep(a);Bq(a);Cq(a);Fq(a);await dr(a.g.U,a.Lw(),!0);Qq(a,b);Sq(a);a.js||Uq(a);Xq(a,a.my);Xq(a,a.ny);$q(a);d.Ki=null;jm(c);var f=a.g.d1;await Promise.all(f);P.H(f);if(!c.Di){for(const g of a.my)er(g);for(const g of a.ny)fr(g,a.gJ,a.fJ);for(const [g,h]of Object.entries(a.Op))(f=Vq(a.g,parseInt(g,10)))&&!f.Oa&&Tq(f)&&P.H(h);for(const g of a.my)gr(g);
for(const g of a.ny)gr(g)}P.H(a.my);P.H(a.ny);a.gJ.clear();a.fJ.clear();await Promise.all([...a.bs].map(g=>g.xH(a.g.za())));b&&(c.cb().dispatchEvent(new P.Event("beforefirstlayoutstart")),await c.yl(new P.Event("beforeprojectstart")));await ar(a,new P.Event("beforeanylayoutstart"));c.cb().dispatchEvent(new P.Event("beforelayoutstart"));await a.yl(new P.Event("beforelayoutstart"));c.Di||await c.nb(P.j.Ma.D.zP,null,null);c.cb().dispatchEvent(new P.Event("afterlayoutstart"));await a.yl(new P.Event("afterlayoutstart"));
await ar(a,new P.Event("afteranylayoutstart"));b&&(c.cb().dispatchEvent(new P.Event("afterfirstlayoutstart")),await c.yl(new P.Event("afterprojectstart")));hr(e,d);await Promise.all([...a.jA]);a.js=!1}function ir(a){const b=[],c=a.gK;let d=0;for(let e=0,f=c.length;e<f;++e){const g=c[e],h=lp(a.g,g[1]);h.Cf()?h.Bc()&&jr(h.Gh)||b.push(mq(a.g,g,null,!0)):(c[d]=g,++d)}P.$e(c,d);jm(a.g);Xq(a,b)}
async function kr(a){const b=a.jb;a.g.Di||(await ar(a,new P.Event("beforeanylayoutend")),await a.yl(new P.Event("beforelayoutend")),await a.g.nb(P.j.Ma.D.FZ,null,null),await a.yl(new P.Event("afterlayoutend")),await ar(a,new P.Event("afteranylayoutend")));lr(b,!0);mr(a.g.pa());if(!a.js){a.Kz.clear();var c=0;for(var d of a.Qc){Op(d);for(var e of d.L){var f=e.I();if(!f.Cf()&&Tq(f)){f=a;var g=e,h=c,k=g.I().lb.toString();f.Op.hasOwnProperty(k)||(f.Op[k]=[]);k=f.Op[k];h={index:h,instJson:g.ed(),sceneGraphJson:{children:[]}};
k.push(h);f.Kz.set(g,h);c++}}}for(const l of a.Qc)for(const m of l.L)if(c=m.I(),!c.Cf()&&Tq(c)){c=a;d=c.Kz.get(m);for(const n of m.Rd())(e=c.Kz.get(n))&&d.sceneGraphJson.children.push({index:e.index,flags:nr(n.C())})}a.Kz.clear()}for(const l of a.Qc){for(const m of l.L)m.I().Cf()||iq(l.g,m);jm(l.g);M.H(l.L);l.qn=!1;op(l)}for(const l of a.g.nd)if(!(l.Cf()||l.Yd||l.Ua().tj||l.Oa)){for(const m of l.qa())iq(a.g,m);jm(a.g)}lr(b,!1);b.Wb()===a&&(b.ov=null)}
function or(a,b){const c=a.g.U;a.Tt()?(b.he(null),b.ai(0,0,0,0),b={qc:a.g.Yb,Uj:b.Ud()||a.g.Ws||a.Sa.Yw(),sq:b.Ud()?a.g.Ws:!1},"low"===c.Bi&&(b.width=c.El(),b.height=c.Dl()),a.lf=a.g.Cw(b)):a.lf=null}
function Gq(a,b){var c=Kp;c[0].Tk||(sd(uq,c[0].un),td(uq,1),a.fe(uq));a.hf(!0);for(var d of c)Op(d),Ep(d,wq);d=c[0];c=Wp(d,a);Yp(d,a);for(let m=0,n=wq.length;m<n;){var e=wq[m],f=e.C(),g=f.aa();if(f.Cc()&&rq(f,hq(g))){(!e.Mt()||0<f.Qm())&&yq.push(e);var h=dq(e.C());xq.push(e);for(d=m+1;d<n;++d){var k=wq[d],l=k.C();if(l.Cc()&&rq(l,hq(l.aa()))){if(dq(l)!==h)break;k.Mt()?(0<l.Qm()&&yq.push(k),xq.push(k)):yq.push(k)}}if(1!==xq.length||0!==(xq[0].F&32)){e=a;f=b;g=xq;e.HG();for(let p=0,q=g.length;p<q;++p)h=
g[p],k=h.C(),l=k.aa(),k.Ab(1048576,!0),Aq(l,e),gq(h,k,e);e.lB();for(let p=0,q=g.length;p<q;++p)h=g[p],k=h.C(),l=k.aa(),Aq(l,e),bq(l,h,k,e,f),k.Ab(1048576,!1);e.kB();for(let p=0,q=yq.length;p<q;++p)e=yq[p],f=e.C(),g=f.aa(),f.Ab(2097152,!0),Aq(g,a),bq(g,e,f,a,b),f.Ab(2097152,!1)}else{Aq(g,a);bq(g,e,f,a,b);for(let p=0,q=yq.length;p<q;++p)f=yq[p],f!==e&&(g=f.C(),h=g.aa(),Aq(h,a),bq(h,f,g,a,b))}m=d;P.H(xq);P.H(yq)}else++m}c&&sj(a,c);P.H(wq);zq=null}
P.DY=class extends P.ta{constructor(a,b,c){super();this.jb=a;this.g=a.G();this.Ka=c[0];this.H2=c[1];this.G2=c[2];this.P=c[1];this.S=c[2];this.Bp=!!c[3];this.sg=!!c[4];this.MF=c[5];this.NF=c[6];this.uR=c[7];this.rd=null;this.lb=c[8];this.la=b;this.Ij=this.Hj=0;this.vf=1;this.Dh=0;this.bs=new Set;this.Pi=new Set;this.jA=new Set;this.my=[];this.ny=[];this.gJ=new Map;this.fJ=new Map;this.gK=[];this.h2=!1;this.VI=vq.create();this.z1=vq.create();this.A1=vq.create();this.Tf=[];this.Qc=[];this.RK=new Map;
this.SK=new Map;this.DL=-1;const d=this.g.U;this.Sa=P.A(P.Fq,this,c[11]);this.Jf=P.A(P.R.eg,d.Ey,{aG:(e,f)=>{f=f.fp.bj();oj(e);e.pt(f);e.Nq(f);d.Yq(f)},dG:e=>this.Sa.zC(e)});this.Wn=!0;this.YT=!1;this.lf=null;this.Op={};this.Kz=new Map;this.js=!0;this.c2=new self.KX(this);this.xf=P.A(P.Event.cb);for(const e of c[9])this.Tf.push(jp(this,null,e));Dq(this);for(const e of this.aw())kp(e);for(const e of c[10]){a=lp(this.g,e[1]);if(!a)throw Error("missing nonworld object class");a.Jr||(a.Jr=e);this.gK.push(e);
mp(this,a)}}m(){for(const a of this.Qc)a.m();P.H(this.Qc);this.jA.clear();this.g=this.jb=this.rd=null}G(){return this.g}ea(){return this.Ka}Fa(){return this.la}Kg(){this.Ix();return this.Jf}Ix(){const a="low"===this.g.U.Bi;if(this.Wn||this.YT!==a||this.Jf.Bz){var b=this.Sa.Bh;vl(this.Jf,b.map(c=>c.Ge()),{ew:b.map(c=>c.Fa()),zU:a,XN:!0});this.Wn=!1;this.YT=a}}zh(){this.Sa.zh();this.Wn=!0}qk(a){const b=this.Bp?-Infinity:oq(this),c=this.Bp?Infinity:this.M()-oq(this);a>c&&(a=c);a<b&&(a=b);this.Hj!==a&&
(this.Hj=a,Cq(this),this.g.ba())}qh(){return this.Hj}rk(a){const b=this.Bp?-Infinity:pq(this),c=this.Bp?Infinity:this.K()-pq(this);a>c&&(a=c);a<b&&(a=b);this.Ij!==a&&(this.Ij=a,Cq(this),this.g.ba())}rh(){return this.Ij}QH(a){this.vf!==a&&(this.vf=a,Cq(this),ep(this),this.g.ba())}He(a){a=P.le(a);this.Dh!==a&&(this.Dh=a,Cq(this),this.g.ba())}fb(){return this.Dh}M(){return this.P}Og(a){!isFinite(a)||1>a||(this.P=a)}K(){return this.S}vh(a){!isFinite(a)||1>a||(this.S=a)}*aw(){for(const a of this.Tf)yield*Lp(a)}aa(a){return"number"===
typeof a?lq(this,a):kq(this,a.toString())}ZN(a,b,c){if(kq(this,a))throw Error(`layer name '${a}' already in use`);if(!b&&2>c)throw Error("invalid insert position");a=P.A(P.oH,this,2<=c?b:b.Bj,{name:a,dt:Math.floor(1E15*Math.random()),hN:!0});Jq(this,a,b,c);this.G().ba();dp(this)}gP(a,b,c){if(!b&&2>c)throw Error("invalid insert position");a===b&&2>c||(Kq(this,a),Jq(this,a,b,c),this.G().ba(),dp(this))}LP(a){if(Kq(this,a)){const b=this.g.pa();gm(b,!0);a.m();gm(b,!1);this.G().ba();dp(this)}}CH(){const a=
new Set;for(var b of this.aw()){var c;if(c=b.gz){a:{for(const d of b.SA())if(d.gz){c=!0;break a}c=!1}c=!c}c&&a.add(b)}if(0!==a.size){b=this.g.pa();gm(b,!0);for(const d of a)Kq(this,d),d.m();gm(b,!1);this.G().ba();dp(this)}}Lw(){return this.Tf.at(-1).Xr+1}DC(){this.Pi.clear()}ox(a,b,c,d,e,f,g){if(c)return c.ox(a,b,e,f,d,g);c=[];for(const h of this.Qc)c.push(h.ox(a,b,e,f,d,g));return c.flat()}bj(){return this.lf}Tt(){const a=this.g,b=a.za().ej();return"low"===a.U.Bi||b&&a.Ws||this.Sa.Yw()||b&&a.ql}na(){const a=
{sx:this.qh(),sy:this.rh(),s:this.vf,a:this.fb(),w:this.M(),h:this.K(),ortho:this.sg,vpX:zp(this),vpY:Ap(this),fv:this.js,persist:this.Op,fx:this.Sa.ed(),layers:{},dynamicLayers:[]};for(const h of this.Qc)if(h.gz){var b=h.Bj,c=a.dynamicLayers,d=c.push,e=h.lb,f=h.ea();b=b?b.lb:null;var g=(g=h.Bj)?g.Te.indexOf(h):h.rc().Tf.indexOf(h);d.call(c,{sid:e,name:f,parentSid:b,siblingIndex:g,data:h.na()})}else a.layers[h.lb.toString()]=h.na();return a}ra(a){this.Hj=a.sx;this.Ij=a.sy;this.vf=a.s;this.Dh=a.a;
this.P=a.w;this.S=a.h;this.sg=!!a.ortho;a.hasOwnProperty("vpX")&&(this.MF=a.vpX);a.hasOwnProperty("vpY")&&(this.NF=a.vpY);this.js=!!a.fv;this.Op=a.persist;this.Sa.mc(a.fx);this.Wn=!0;for(const [g,h]of Object.entries(a.layers)){var b=Iq(this,parseInt(g,10));b&&b.ra(h)}if(a.hasOwnProperty("dynamicLayers")){this.CH();jm(this.g);b=new Map;a=a.dynamicLayers;for(let g=a.length-1;0<=g;--g){var c=a[g],d=c.sid,e=c.name,f=c.parentSid;const h=c.siblingIndex;c=c.data;Dq(this);if(kq(this,e)||Iq(this,d))continue;
let k;if(null===f)k=null,f=this.Tf;else{k=Iq(this,f);if(!k)continue;f=k.Te}d=P.A(P.oH,this,k,{name:e,dt:d,hN:!0});f.push(d);e=b.get(f);e||(e=[],b.set(f,e));e.push({Zs:d,QN:h});d.ra(c)}for(const [g,h]of b){h.sort((k,l)=>k.QN-l.QN);for(const k of h)b=k.Zs,a=k.QN,g.splice(g.indexOf(b),1),g.splice(a,0,b)}}dp(this);Bq(this);Cq(this)}Tm(){return this.c2}Fg(a){a.layout=this.Tm();var b=this.g;(b=b.Fb&&!im(b.pa()))&&sq.VH();this.xf.dispatchEvent(a);b&&sq.wG()}yl(a){a.layout=this.Tm();return xe(this.xf,a)}};
"use strict";const pr=self.B;function lr(a,b){if(b)a.Vu++;else{if(0>=a.Vu)throw Error("already unset");a.Vu--}}function qr(a){if(a.yD)return a.yD;if(a.kj.length)return a.kj[0];throw Error("no first layout");}function rr(a,b){return a.VK.get(b.toLowerCase())||null}function*sr(a){a.ov&&(yield a.ov);a.PL.length&&(yield*a.PL)}function tr(a){(a=a.Wb())&&Bq(a)}function ur(a){(a=a.Wb())&&Cq(a)}
pr.EY=class extends pr.ta{constructor(a){super();this.g=a;this.kj=[];this.VK=new Map;this.gv=new Map;this.ov=null;this.PL=[];this.yD=null;this.Vu=0;this.Ki=null}m(){this.Ki=this.yD=this.ov=this.g=null;pr.H(this.kj);this.VK.clear();this.gv.clear();pr.H(this.PL)}Da(a){a=pr.A(pr.DY,this,this.kj.length,a);this.kj.push(a);this.VK.set(a.ea().toLowerCase(),a);this.gv.set(a.lb,a)}G(){return this.g}rc(a){"number"===typeof a?(a=pr.X(Math.floor(a),0,this.kj.length-1),a=this.kj[a]):a=rr(this,a.toString());return a}Wb(){return this.ov}};
"use strict";const vr=self.B;function*wr(a){for(const b of a.Ae)yield b}function xr(a,b,c){a.Zn.has(b)||a.Zn.set(b,new Set);a.Zn.get(b).add(c)}function yr(a){a.Hi.length||a.Ae.length||a.dh.length||a.kz||(a.Jn=!1)}function zr(a,b){a.Ae.includes(b)?(b.mm=!0,b.$g=!1,b.Un=!1):(b.mm=!1,b.$g=!0,b.Un=!1,a.dh.includes(b)||a.dh.push(b));a.Jn||(a.Jn=!0)}function Ar(a,b){b.mm=!1;b.$g=!1;Br(b);vr.Km(a.dh,b);yr(a)}
function Cr(a,b){b.mm=!1;b.$g=!1;a.Ae.includes(b)&&(b.Un=!0,a.Hi.push(b),vr.Km(a.Ae,b));a.dh.includes(b)&&(b.Un=!0)}function Dr(a,b){b.mm=!1;b.$g=!1;b.Un=!1;b.nk(1);vr.Km(a.Ae,b)}function Er(a){a.Ce||Fr(a)&&a.Fh&&a.vp&&a.wO()}function Gr(a){return a.Am.map(b=>b.na())}function Hr(a){return a.map(b=>b.ea())}function Ir(a,b,c){var d=new Set;for(const e of c)Jr(e,b)||d.add(e);vr.Yh(c,d);if(b){d=e=>f=>f.ea()===e;for(const e of b)(b=a.hq.get(e.toLowerCase())||null)&&(c.find(d(e))||c.push(b))}}
function Jr(a,b){if(!b)return!1;for(const c of b)if(c===a.ea())return!0;return!1}
vr.l0=class extends vr.ta{constructor(a){super();this.g=a;this.mA=vr.A(vr.j0);this.$n=null;this.Am=[];this.hq=new Map;this.Zn=new Map;this.Bm=new Map;this.dh=[];this.Ae=[];this.Hi=[];this.kz=this.pu=this.Jn=!1;this.mo=()=>{if(!this.G().Di&&this.Jn&&!this.pu){for(this.kz=!0;this.dh.length;){var b=this.dh.pop();b.Un?(b.Oc(!1,!0),b.mm=!1,b.$g=!1,this.Hi.push(b)):(b.Oc(),this.Ae.push(b));0!==b.pc&&(this.pc=1)}b=this.g.Cy;var c=this.g.Nr,d=this.g.Ue;for(let e=this.Ae.length-1;0<=e;e--){const f=this.Ae[e];
f&&f.Qg(b,d,c)}this.kz=!1;0!==this.pc&&this.G().ba()}};this.Pv=()=>this.qI();this.MI=()=>this.Jx();this.UK=()=>{this.pu=!1};this.Tu=b=>this.CC(b.instance);this.ZQ=()=>this.Wt();this.DI=()=>this.Ah();this.PQ=()=>{const b=this.g.jb.Wb();if(b)for(const c of this.Am){const d=c.XG();d&&b.ea()===d&&zr(this,c)}};this.By=[];this.pc=0}m(){this.DH();this.DI=this.Tu=this.UK=this.MI=this.Pv=this.mo=null;for(const a of this.Am)a.Gf(),a.m();vr.H(this.Am);this.Am=null;this.mA.m();this.mA=null;vr.H(this.dh);this.dh=
null;vr.H(this.Ae);this.Ae=null;vr.H(this.Hi);this.Hi=null;this.hq.clear();this.hq=null;this.Zn.clear();this.Zn=null;this.Bm.clear();this.Bm=null;vr.H(this.By);this.g=this.By=null}vG(){const a=this.g.cb();a.addEventListener("pretick",this.mo);a.addEventListener("tick2",this.Pv);a.addEventListener("beforelayoutchange",this.MI);a.addEventListener("layoutchange",this.UK);a.addEventListener("instancedestroy",this.Tu);a.addEventListener("beforeload",this.ZQ);a.addEventListener("afterload",this.DI);a.addEventListener("afterlayoutstart",
this.PQ)}DH(){const a=this.g.cb();a.removeEventListener("pretick",this.mo);a.removeEventListener("tick2",this.Pv);a.removeEventListener("beforelayoutchange",this.MI);a.removeEventListener("layoutchange",this.UK);a.removeEventListener("instancedestroy",this.Tu);a.removeEventListener("beforeload",this.ZQ);a.removeEventListener("afterload",this.DI);a.removeEventListener("afterlayoutstart",this.PQ)}Da(a){this.mA.Gb(a);const b=this.mA.T(a[0]);a=Kr.A(Kr.Ro,a[0],b,this);a.Yu=!0;this.Gb(a);for(const c of a.EO())xr(this,
c,a);this.Bm.set(a.ea(),0)}IG(a){var b=this.mA;a=a.Dt();b=b.T(a);b=vr.Ro.IG(`${a}:${this.Bm.get(a)}`,b,this);this.Bm.set(a,this.Bm.get(a)+1);this.Gb(b);return b}Gb(a){this.Am.push(a);this.hq.set(a.ea().toLowerCase(),a)}Ef(a){Lr(a);if(!a.Yu){vr.Km(this.Am,a);vr.Km(this.dh,a);vr.Km(this.Ae,a);vr.Km(this.Hi,a);this.hq.delete(a.ea().toLowerCase());for(const [b,c]of this.Zn.entries())c.has(a)&&(c.delete(a),0===c.size&&this.Zn.delete(b));a.Ce||a.m()}}ua(a){this.g.ua(a,this.$n,null)}G(){return this.g}IB(){return this.$n}qI(){if(!this.G().Di&&
this.Jn&&!this.pu){var a;for(let b=0,c=this.Hi.length;b<c;b++){const d=this.Hi[b];a||(a=new Set);Lr(d);Er(d);a.add(d)}if(a){vr.Yh(this.Hi,a);this.pc=0;for(let b=0,c=this.Ae.length;b<c;b++)if(0!==this.Ae[b].pc){this.pc=1;break}}yr(this)}}Jx(){for(this.pu=!0;this.dh.length;)Ar(this,this.dh.pop());const a=new Set;for(const b of this.Ae)b.Jx()&&(Lr(b),a.add(b));vr.Yh(this.Ae,a);a.clear();for(const b of this.Hi)b.Jx()&&(Lr(b),a.add(b));vr.Yh(this.Hi,a);yr(this);for(const b of this.Am)b.wl()}CC(a){var b=
a.I();b=this.Zn.has(b)?this.Zn.get(b):void 0;if(b)if(this.g.Di)this.By.push(a);else for(const c of b)c.Yu||(c.Ce?this.Ef(c):Fr(c)||(Er(c),this.Ef(c)))}Wt(){for(const a of this.dh.map(b=>b))Er(a),this.Ef(a);for(const a of this.Ae.map(b=>b))Er(a),this.Ef(a)}Ah(){for(const a of this.By)this.CC(a);vr.H(this.By);for(const a of this.Am)a.Ah()}na(){return{timelinesJson:Gr(this),scheduledTimelinesJson:Hr(this.dh),playingTimelinesJson:Hr(this.Ae),markedForRemovalTimelinesJson:Hr(this.Hi),hasRuntimeListeners:this.Jn,
changingLayout:this.pu,isTickingTimelines:this.kz}}ra(a){if(a){for(var b of this.Bm.keys())this.Bm.set(b,0);b=a.timelinesJson;for(const c of b){b=this.hq.get(c.name.toLowerCase())||null;if(!b){b=(b=c.name.split(":"))&&2===b.length?b[0]:null;if(!b)continue;b=this.hq.get(b.toLowerCase())||null;b=this.IG(b)}b.ra(c);b.mb.length||this.Ef(b)}Ir(this,a.scheduledTimelinesJson,this.dh);Ir(this,a.playingTimelinesJson,this.Ae);Ir(this,a.markedForRemovalTimelinesJson,this.Hi);this.Jn=!a.hasRuntimeListeners;this.pu=
!!a.changingLayout;this.kz=!!a.isTickingTimelines;for(const c of this.Am)c.Yu||(a=c.Dt(),this.Bm.set(a,this.Bm.get(a)+1));this.Jn||(this.Jn=!0);yr(this)}}};"use strict";const Mr=self.B,Nr=[0,0],Or=[0,0],Pr=[0,0,0,0,0],Qr=Array(4),Rr=[{x:0,y:0,t:0,Pd:0},{x:0,y:0,t:0,Pd:0},{x:0,y:0,t:0,Pd:0}],Sr={x:0,y:0,t:0,Pd:0};
Mr.Wea=class{constructor(a,b){this.ds=!1;this.Ve=a;this.io=[];var c;if(b)a:{a=this.Ve;for(c of a.mb)if(Kr.vd(c.Um(),b)){b=c;break a}b=null}else b=Mr.first(this.Ve.mb);if(c=b)if(b=c.Sd("offsetX"),c=c.Sd("offsetY"),b&&c){b=b.KB();c=c.KB();for(let d=1,e=Math.min(b.length,c.length);d<e;++d){a=b[d];const f=a.Tp,g=c[d],h=g.Tp;f&&"cubic-bezier"===f.CL&&h&&"cubic-bezier"===h.CL?this.io.push(Mr.A(Mr.h0,f,h,a,g,this.io.length)):this.io.push(Mr.A(Mr.k0,a,g,this.io.length))}this.ds=!0}}m(){for(const a of this.io)a.m();
Mr.H(this.io);this.Ve=this.io=null}dC(a,b){let c=NaN,d=this.io.length;for(let e=0;e<d;e++){const f=this.io[e];if("cubic-bezier"===f.sc()){const g=f.dC(a,b);isNaN(c)?(c=g[3],Or[0]=g[2],Or[1]=f.Fa()):g[3]<c&&(c=g[3],Or[0]=g[2],Or[1]=f.Fa())}}return Or}};function Tr(a,b){return a.ds?self.Eq.Wm("cubicbezier")(b,a.b1+a.Gz,a.i1+a.Gz,a.v1+a.Gz,a.J1+a.Gz):NaN}function Ur(a,b){return a.ds?self.Eq.Wm("cubicbezier")(b,a.c1+a.Hz,a.j1+a.Hz,a.w1+a.Hz,a.K1+a.Hz):NaN}
Mr.h0=class{constructor(a,b,c,d,e){this.la=e;e=Vr(a,"cubic-bezier");var f=Vr(c,"cubic-bezier");const g=Vr(b,"cubic-bezier"),h=Vr(d,"cubic-bezier");this.b1=Wr(a);this.c1=Wr(b);this.i1=Wr(a)+e.eA;this.j1=Wr(b)+g.eA;this.v1=Wr(c)+f.Fy;this.w1=Wr(d)+h.Fy;this.J1=Wr(c);this.K1=Wr(d);this.hU=this.gU=this.fU=this.eU=this.dU=this.cU=this.OQ=this.NQ=0;this.nv=NaN;this.ds=!1;this.hv=100;this.sn=Array(this.hv+1);this.sn[0]=0;this.mv=[];this.Ip=[];for(a=0;100>a;a++)this.Ip.push({x:0,y:0,t:0,Pd:0});this.ds=!0;
a=Tr(this,0);b=Ur(this,0);c=0;for(d=1;d<=this.hv;d++)e=Tr(this,.01*d),f=Ur(this,.01*d),c+=Math.hypot(a-e,b-f),this.sn[d]=c,a=e,b=f}m(){Mr.H(this.sn);this.sn=null;Mr.H(this.mv);this.mv=null;Mr.H(this.Ip);this.Ip=null}sc(){return"cubic-bezier"}Fa(){return this.la}Map(a){if(!this.ds)return NaN;if(this.ds){a*=this.sn[this.hv];for(var b=0,c=this.hv,d=0;b<c;)d=b+((c-b)/2|0),this.sn[d]<a?b=d+1:c=d;this.sn[d]>a&&d--;b=this.sn[d];a=b===a?d/this.hv:(d+(a-b)/(this.sn[d+1]-b))/this.hv}else a=void 0;Nr[0]=Tr(this,
a);Nr[1]=Ur(this,a);return Nr}dC(a,b){var c=100;if(!(this.mv.length>=c)){this.mv=Array(c);c++;for(var d=0;d<c-1;d++){var e=d/(c-1),f=e**2,g=e**3,h=this.OQ+this.fU*e+this.gU*f+this.hU*g;this.Ip[d].x=this.NQ+this.cU*e+this.dU*f+this.eU*g;this.Ip[d].y=h;this.Ip[d].t=e;this.Ip[d].Pd=0;this.mv[d]=this.Ip[d]}}c=this.mv;e=Number.MAX_SAFE_INTEGER;d=0;if(isNaN(this.nv))for(f=0;100>f;f++){g=c[f];h=g.x-a;var k=g.y-b;g.Pd=h*h+k*k;g.Pd<e&&(e=g.Pd,d=f)}else{for(f=this.nv;f<this.nv+5&&!(f>=c.length);f++)g=c[f],
h=g.x-a,k=g.y-b,g.Pd=h*h+k*k,g.Pd<e&&(e=g.Pd,d=f);for(f=this.nv;f>this.nv-5&&!(0>f);f--)g=c[f],h=g.x-a,k=g.y-b,g.Pd=h*h+k*k,g.Pd<e&&(e=g.Pd,d=f)}this.nv=d;e=c[d];f=1;g=Number.MAX_SAFE_INTEGER;a:do{h=c.length;var l=0===d?0:d-1;h=d===h-1?h-1:d+1;k=c[l].t;let q=(c[h].t-k)/4;if(.001>q)break;Qr[0]=c[l];for(l=1;2>=l;l++){const u=k+l*q;var m=u**2,n=u**3;const r=this.NQ+this.cU*u+this.dU*m+this.eU*n;m=this.OQ+this.fU*u+this.gU*m+this.hU*n;n=r-a;var p=m-b;n=n*n+p*p;if(n<g){Sr.x=r;Sr.y=m;Sr.t=u;Sr.Pd=n;e=Sr;
break a}p=Rr[l-1];p.x=r;p.y=m;p.t=u;p.Pd=n;Qr[l]=p}Qr[3]=c[h];c=Qr}while(20>f++);a=e;Pr[0]=a.x;Pr[1]=a.y;Pr[2]=a.t;Pr[3]=a.Pd;return Pr}};Mr.k0=class{constructor(a,b,c){this.la=c;this.V2=Wr(a);this.W2=Wr(b);this.Hz=this.Gz=0}m(){}sc(){return"line"}Fa(){return this.la}Ga(){return this.V2+this.Gz}Ha(){return this.W2+this.Hz}};"use strict";const Kr=self.B;function wn(a){if(a.zs)return a.zs;a.zs=new Promise(b=>{a.VE=b});return a.zs}function Lr(a){if(!a.Ce)for(const b of a.mb)b.jn()}
function Br(a){a.zs&&(a.VE(),a.zs=null,a.VE=null)}function Fr(a){return a.mb.some(b=>Xr(b)?Yr(b):!0)}function Zr(a,b,c,d,e){if(a.MD){var f;for(let h=0;h<a.mb.length;h++){var g=a.mb[h];b===g.Z()&&(g=g.Sd(d))&&c.constructor===g.Hb().constructor&&g.Lc()===e.Lc()&&(f||(f=[]),f.push(g))}return f}}function $r(a){return a.IsPlaying()?0<a.kd:!0}function as(a){if(Kr.Zm(a))return a.slice(0);if(Kr.dj(a))return a.split(" ");throw Error("invalid tags");}
function bs(a,b){a.Fh=b;b=a.Ea();if(0>=b||b>=a.dd())a.Fh=!0}function cs(a,b){Kr.tc(b)||(b=a.dd());a.Nb=0>b?0:b>=a.dd()?a.dd():b}function ds(a){a.MD=0;for(const b of a.mb)b.zp&&(a.MD=1)}function es(a,b,c=!1,d=NaN,e=!1,f=!1){for(var g of a.mb)g.Bq();for(const h of a.mb){g=b;if("number"===typeof d&&!isNaN(d)){const k=a.Ea()-h.Lg(),l=d-h.Lg();0>k&&0<l&&(g=h.Lg(),cs(a,g))}h.Ja(g,!1,c,!0,a.pg,f)}for(const h of a.mb)h.Aq();a.pg&&e&&(a.pg=!1)}
function fs(a){a.pc=0;for(const b of a.mb)b.FC(),0===a.pc&&1===b.pc&&(a.pc=1),a.eu||1!==b.Qh||(a.eu||(a.eu=[]),a.YQ=a.eu.push(b))}function gs(a){Kr.j.Pc&&a.constructor===Kr.Ro&&(Kr.j.Pc.D.yH(a),a.Ub.ua(Kr.j.Pc.D.eaa),a.Ub.ua(Kr.j.Pc.D.faa),a.Ub.ua(Kr.j.Pc.D.gaa),Kr.j.Pc.D.wH())}function vn(a){if(!a.yt())if(a.zt()&&1===a.Qb)if($r(a)){if(a.Ea()>=a.dd())return!1}else{if(0>=a.Ea())return!1}else if(!a.yt()&&!a.zt())if($r(a)){if(a.Ea()>=a.dd())return!1}else if(0>=a.Ea())return!1;return!0}
function hs(a){return a.mb.some(b=>Xr(b)?Yr(b)?(b=b.I())?b.Cf():!1:!1:!1)}function is(a){for(const b of a.mb)b.Xc=null,b.Nn=NaN,b.Wa=null,b.Yn=NaN,b.jy=!0}function js(a,b){for(const c of a.mb)if(b===c.Z())return c;return null}function ks(a){return a.mb.map(b=>b.na())}function ls(a,b){is(a);b.forEach((c,d)=>{a.mb[d].ra(c)});a.mb.filter(c=>Yr(c))}
Kr.Ro=class extends Kr.ta{constructor(a,b,c){super();this.g=c.G();this.Ub=c;this.Od=b;this.Ka=a;this.mb=[];this.MT=0;this.eu=null;this.YQ=0;this.mO();this.VE=this.zs=null;this.Kp=this.Nb=0;this.kd=1;this.Qb=0;this.Me=1;this.vp=this.$g=this.mm=!1;this.Fh=!0;this.Un=this.Ce=!1;this.ep=-1;this.pg=this.Gn=this.Yu=this.Ru=!1;this.av=NaN;this.Wf=[""];this.DT="";this.iM=!1;this.MD=this.pc=0;this.bK=null}static IG(a,b,c){return Kr.A(Kr.Ro,a,b,c)}m(){if(!this.Ce){var a=this.g.cb();Ar(this.Ub,this);Cr(this.Ub,
this);Br(this);for(const b of this.mb)b.m();Kr.H(this.mb);this.Od=this.Ub=this.g=this.mb=null;this.Ce=!0;this.VE=this.zs=null;this.xO(a)}}xO(a){const b=Kr.A(Kr.Event,"timelinestatereleased");b.wja=this;a.dispatchEvent(b)}sc(){return 0}mO(){for(const a of ms(this.Od.Uw()))this.MT=this.mb.push(Kr.XH.Da(this,a))}G(){return this.g}yx(a){this.Ka=a}ea(){return this.Ka}Dt(){return this.Od.ea()}dd(){return this.Od.dd()}TH(a){this.Od.TH(a)}Qw(){return this.Od.Qw()}Zi(){return this.Od.Zi()}Lc(){return this.Od.Lc()}Nl(a){for(const b of this.mb)b.Nl(a)}yt(){return this.Od.yt()}zt(){return this.Od.zt()}fi(){return this.Od.fi()}nk(a){this.kd=
a}XG(){return this.Od.XG()}NB(){return this.Od.NB()}YG(){return this.Od.YG()}gQ(a){this.Wf=as(a);this.iM=!0}CX(a){return this.Wf&&this.Wf.length?(a=as(a))&&a.length?a.every(Kr.Ro.W0,this):!1:!1}DP(){Kr.j.Pc&&this.constructor===Kr.Ro&&(Kr.j.Pc.D.yH(this),this.Ub.ua(Kr.j.Pc.D.kaa),this.Ub.ua(Kr.j.Pc.D.laa),this.Ub.ua(Kr.j.Pc.D.maa),this.Ub.ua(Kr.j.Pc.D.Q$),Kr.j.Pc.D.wH())}wO(){this.Gn||(this.Gn=!0,Kr.j.Pc&&this.constructor===Kr.Ro&&(Kr.j.Pc.D.yH(this),this.Ub.ua(Kr.j.Pc.D.haa),this.Ub.ua(Kr.j.Pc.D.iaa),
this.Ub.ua(Kr.j.Pc.D.jaa),this.Ub.ua(Kr.j.Pc.D.P$),Kr.j.Pc.D.wH()))}IsPlaying(a=!1){return this.ep===this.g.Qi||this.$g&&!a?!0:this.mm}Ea(){return this.Nb}fr(a){const b=this.Ea();cs(this,a);bs(this,!1);this.Fh||(this.Ru=!0);if(this.IsPlaying(!0)||this.$g||!this.vp)this.IsPlaying(!0)||this.$g||this.vp?this.IsPlaying(!0)?this.Gf():this.$g&&(Ar(this.Ub,this),this.Oc(!0)):this.Oc(!0);ds(this);es(this,this.Ea(),!0,b);fs(this);this.pc&&this.G().ba();gs(this)}nn(a){Kr.tc(a)||(a=this.dd());this.Nb=0>a?0:
a>=this.dd()?this.dd():a;for(const b of this.mb)b.pk()}Play(a=!1){this.Ce||this.$g?a=!1:this.IsPlaying(!0)&&this.ep===this.g.Qi?(this.Ru=!1,a=this.Ub,vr.Km(a.Ae,this),yr(a),zr(this.Ub,this),wn(this),a=!0):this.IsPlaying(!0)||!this.Fh&&!a&&!this.Ru?a=!1:(this.Ru=!1,zr(this.Ub,this),wn(this),a=!0);return a}Gf(a=!1){this.Ce||(bs(this,a),Cr(this.Ub,this),this.Fh&&Br(this))}Dc(a=!0,b=!1){if(!this.Ce)if(!this.IsPlaying(!0)&&this.$g)Ar(this.Ub,this);else if(!this.Fh){this.Gf(!0);$r(this)?cs(this,0):cs(this,
this.dd());var c=this.Ea();ds(this);b?es(this,c,!1,NaN,!1,!0):es(this,c,!1);a&&gs(this);fs(this);this.pc&&a&&this.G().ba()}}Jx(){if(this.Ce)return!0;if(!this.G().Di&&hs(this))return!1;Dr(this.Ub,this);this.G().Di||this.Dc(!1,!0);return!0}Oc(a=!1,b=!1){if(!this.Un||b){if(a){this.Gn=!1;this.pg=this.vp=!0;ds(this);for(const c of this.mb)c.Oc()}else if(this.mm=!0,this.$g=!1,this.DP(),this.Fh){this.ep=-1;0!==this.Qb&&(this.kd=Math.abs(this.kd));this.Qb=0;this.Me=1;this.Gn=this.Fh=!1;this.pg=this.vp=!0;
$r(this)?cs(this,0):cs(this,this.dd());ds(this);for(const c of this.mb)c.Oc()}else{this.pg=!0;this.Gn=!1;ds(this);for(const c of this.mb)c.jg()}fs(this)}}Qg(a,b,c){if(this.YG()){if(0===a&&0===this.av)return;this.av=a;a=c}else{if(0===c&&0===this.av)return;a=this.av=c;b=1}c=this.Nb+this.Kp;b=c+a*b*this.kd;a=this.Od.Qs;0>b?(this.Nb=0,this.Kp=-b):b>=a?(this.Nb=a,this.Kp=this.Nb-b):(this.Nb=b,this.Kp=0);var d=!1;b=!1;var e=this.yt(),f=this.zt();e||f?e&&!f?0<this.kd?this.Nb>=a&&(this.nn(0),b=!0):0>=this.Nb&&
(this.nn(a),b=!0):!e&&f?0<this.kd?this.Nb>=a&&(cs(this,a),this.nk(-1*this.kd),b=!0,1===this.Qb?this.Me<this.fi()?(this.Me++,this.Qb=0):d=!0:0===this.Qb&&(this.Qb=1)):0>=this.Nb&&(cs(this,0),this.nk(-1*this.kd),b=!0,1===this.Qb?this.Me<this.fi()?(this.Me++,this.Qb=0):d=!0:0===this.Qb&&(this.Qb=1)):e&&f&&(0<this.kd?this.Nb>=a&&(cs(this,a),this.nk(-1*this.kd),b=!0,this.Qb++,Kr.wrap(this.Qb,0,2)):0>=this.Nb&&(cs(this,0),this.nk(-1*this.kd),b=!0,this.Qb++,Kr.wrap(this.Qb,0,2))):0<this.kd?this.Nb>=a&&(this.Me<
this.fi()?(this.Me++,this.nn(0),b=!0):(cs(this,a),d=!0)):0>=this.Nb&&(this.Me<this.fi()?(this.Me++,this.nn(a),b=!0):(cs(this,0),d=!0));e=this.MT;if(d){for(d=0;d<e;d++)this.mb[d].wx();this.Gf(!0);this.ep=this.g.Qi}else{f=this.YQ;for(d=0;d<f;d++)this.eu[d].Bq();if(1===this.MD)for(d=0;d<e;d++){const g=this.mb[d],h=g.Lg(),k=c-h;0>this.Nb-h&&0<k?(this.Nb=0>h?0:h>=a?a:h,g.Ja(h,!0,!1,b,this.pg,!1)):g.Ja(this.Nb,!0,!1,b,this.pg,!1)}else for(d=0;d<e;d++)this.mb[d].Ja(this.Nb,!0,!1,b,this.pg,!1);for(d=0;d<
f;d++)this.eu[d].Aq();this.pg&&(this.pg=!1)}}wl(){for(const a of this.mb)a.wl()}Sd(a){for(const b of this.mb)for(const c of b.kb)if(c.ma.ld===a)return c}EO(){const a=[];for(const b of this.mb)a.push(b.I());return a.filter(b=>b)}Ah(){for(const a of this.mb)a.Ah()}na(){return{tracksJson:ks(this),name:this.Ka,playheadTime:this.Ea(),playbackRate:this.kd,pingPongState:this.Qb,currentRepeatCount:this.Me,isPlaying:this.mm,isScheduled:this.$g,initialStateSet:this.vp,finishedTriggers:this.Gn,complete:this.Fh,
released:this.Ce,markedForRemoval:this.Un,completedTick:this.ep,implicitPause:this.Ru,isTemplate:this.Yu,tags:this.Wf.join(" "),stringTags:this.DT,tagsChanged:this.iM,firstTick:this.pg}}ra(a){a&&(ls(this,a.tracksJson),this.Ka=a.name,this.Nb=a.playheadTime,this.kd=a.playbackRate,this.Qb=a.pingPongState,this.Me=a.currentRepeatCount,this.mm=!!a.isPlaying,this.$g=!!a.isScheduled,this.vp=!!a.initialStateSet,this.Gn=a.hasOwnProperty("finishedTriggers")?!!a.finishedTriggers:!1,this.Fh=!!a.complete,this.Ce=
!!a.released,this.Un=!!a.markedForRemoval,this.ep=a.completedTick,this.Ru=!!a.implicitPause,this.Yu=!!a.isTemplate,this.Wf=a.tags.split(" "),this.DT=a.stringTags,this.iM=!!a.tagsChanged,this.pg=!!a.firstTick)}static W0(a){const b=this.Wf;return""===a?1===b.length&&""===b[0]:b.map(c=>c.toLowerCase()).includes(a.toLowerCase())}QG(){this.bK||(this.bK=Kr.A(self.RX,this));return this.bK}};"use strict";const ns=self.B;
function os(a,b){a.jy=!1;if(a.Xc!==b){a.wl();a.Xc=b;a.Yn=b.I().Fa();a.Nn=b.zc;a.Wa=b.C();for(const h of ps(a)){var c=h.P4;switch(h.H4.df()){case "instance-variable":var d=b.I(),e=qs(d,h.name),f=rs(d,e);d=ss(d,e);f===h.name&&d===h.type&&c.N.ma.ug[0]!==e&&(c.wA=e);break;case "behavior":var g=h.UF;f=a.I();d=b.I();e=c.Hg(d);g&&e&&(g=g.ea(),ts(f,g),ts(d,g),e=e.lb,c.N.ma.ug[0]!==e&&(c.lb=e))}}}}function Xr(a){return 0===a.sc()}function Yr(a){return Xr(a)?(a=us(a.G(),a.Mw()))?!Un(a):!1:!1}
function vs(a){if(a.Yc)return a.Yc;a.Yc=a.fc.dk().Yc;return a.Yc}function ws(a){a.Xc||a.Z()}function xs(a){return a.Xc?!Un(a.Xc):!1}function*ps(a){for(const d of a.kb){var b=d.Hb(),c=a.I();const e={H4:d,P4:b};switch(d.df()){case "world-instance":e.zia=d.ma.ld;break;case "instance-variable":b=b.vt();e.name=rs(c,b);e.type=ss(c,b);break;case "effect":c=ys(c.Sa,b.N.ma.ug[0]);e.Jga=c;break;case "behavior":c=b.Hg(c);e.UF=c;break;case "plugin":e.kG=c.Ua()}yield e}}
function zs(a,b){a:{var c=a.fc.dk().Yc;const d=c.length;for(let e=0;e<d;e++){const f=c[e];if(f.Ea()===b){c=f;break a}}c=void 0}return c?c:As(b,a.fc)}function Bs(a){return a.kb.map(b=>b.na())}function Cs(a,b){b.forEach((c,d)=>{a.kb[d].ra(c)})}function Ds(a,b){b=a.fc.dk().Yc[b];a.Vk=b}
ns.XH=class extends ns.ta{constructor(a,b){super();this.Ve=a;this.fc=b;this.Ri=b.Uw();this.Yn=this.Nn=NaN;this.Wa=this.Xc=null;this.jy=!1;this.zp=0<b.Lg();this.lp=this.cs=!1;this.YD=NaN;this.Vk=null;this.Yc=this.fc.dk().Yc;this.kb=[];this.kO();this.Qh=this.pc=this.Ag=0}static Da(a,b){return ns.A(ns.XH,a,b)}m(){this.Yc=null;for(const a of this.kb)a.m();ns.H(this.kb);this.Vk=this.fc=this.Wa=this.Xc=this.Ve=this.kb=null}kO(){for(const a of Es(this.fc.cf()))this.kb.push(ns.sb.Da(this,a))}jn(){for(const a of this.kb)a.jn()}wl(){for(const a of this.kb)a.wl();
this.Wa=this.Xc=null}gb(){return this.Ve}G(){return this.Ve.G()}Sd(a){for(let b=0;b<this.kb.length;b++){const c=this.kb[b];if(c.ma.ld===a)return c}}I(){if(Xr(this)){var a=this.TG();if(-1!==a)return lp(this.G(),a)}}Z(){if(!this.jy)return this.Xc&&xs(this)?this.Xc:this.Xc=us(this.G(),this.Mw())}C(){if(this.Wa&&xs(this))return this.Wa;const a=this.Z();a&&(this.Wa=a.C());return this.Wa}Mw(){return isNaN(this.Nn)?this.fc.Mw():this.Nn}Zi(){return this.fc.Zi()}Lc(){return this.fc.Lc()}Um(){return this.fc.Um()}Lg(){return this.fc.Lg()}Vm(){return this.fc.Vm()}Nl(a){for(const b of vs(this))b.Nl(a);
for(const b of this.kb)b.Nl(a)}Sm(){return this.fc.Sm()}hn(a){this.fc.hn(a)}TG(){return isNaN(this.Yn)?this.fc.TG():this.Yn}ph(){const a=this.Z();return a&&L(a).ik()?L(a).ph():this.fc.ph()}oh(){const a=this.Z();return a&&L(a).ik()?L(a).oh():this.fc.oh()}sc(){return this.fc.sc()}ea(){return this.fc.ea()}pk(){for(const a of this.kb)a.pk()}Oc(){ws(this);if(xs(this)||!Xr(this)){var a=$r(this.gb())?0:this.Vm();for(const b of this.kb)b.Oc(a),0===this.Ag&&1===b.Ag&&(this.Ag=1),0===this.pc&&1===b.pc&&(this.pc=
1);this.Qh=0;this.kb.some(b=>b.Qh)&&(this.Qh=1);this.Vk=zs(this,a);this.lp=this.cs=!1;this.Ja(a);this.bC(zs(this,a))}}jg(){ws(this);if(xs(this)||!Xr(this)){$r(this.Ve);var a=this.Ve.Ea()-this.Lg();this.Vk=zs(this,a);for(const b of this.kb)b.jg(a)}}wx(){if(!(this.gb().Fh||(ws(this),!xs(this)&&Xr(this)||this.zp))){const a=this.Ve.Ea();a>=this.Lg()+this.Vm()?this.Ja(this.Vm(),!0,!1,!0,!1,!1,!0):0>=a&&this.Ja(0,!0,!1,!0,!1,!1,!0)}}FC(){for(let a=0,b=this.kb.length;a<b;a++){const c=this.kb[a];c.FC();0===
this.Ag&&1===c.Ag&&(this.Ag=1);0===this.pc&&1===c.pc&&(this.pc=1)}}Bq(){const a=this.kb.length;for(let b=0;b<a;b++)this.kb[b].Bq()}Ja(a,b=!1,c=!1,d=!1,e=!1,f=!1,g=!1){this.Xc||this.Z();var h=0===this.fc.oa;if(!((!this.Xc||Un(this.Xc))&&h||f&&h&&this.I().Cf()||(a-=this.Lg(),0>a))){a:if(f=a,b&&this.zp&&!this.cs){if($r(this.gb())){if(0>f)break a}else if(f>this.Vm())break a;for(var k of this.kb)k.Oc();this.cs=!0}k=a;if(!e&&b&&ns.j.Pc){e=this.gb();f=this.Vk.Rf;h=this.Vk.Ea();var l=f?f.Ea():e.dd();if(k<=
h||k>=l)this.Vk=As(k,this.fc),$r(e)?f&&this.bC(this.Vk):(e=this.Vk.Rf)&&this.bC(e)}for(let m=0,n=this.kb.length;m<n;m++)this.kb[m].Ja(a,c,d,g);if(b&&this.zp&&!this.lp)if($r(this.gb())){if(a>=this.Vm()){for(const m of this.kb)m.Ja(this.Vm(),!1,!0);this.lp=!0}}else if(0>=a){for(const m of this.kb)m.Ja(0,!1,!0);this.lp=!0}0!==this.Ag&&(this.Wa||(this.Wa=this.Xc.C()),this.Wa&&K(this.Wa))}}Aq(){const a=this.kb.length;for(let b=0;b<a;b++)this.kb[b].Aq()}bC(a){if(ns.j.Pc){var b=this.gb(),c=b.Ub;ns.j.Pc.D.yH(b);
ns.j.Pc.D.dba(a);c.ua(ns.j.Pc.D.N$);c.ua(ns.j.Pc.D.bC);ns.j.Pc.D.wH(b);ns.j.Pc.D.Saa(a)}}pB(a){for(const b of this.kb)b.pB(a)}cr(){for(const a of this.kb)a.cr()}Zj(){ws(this);if(xs(this)||!Xr(this))for(const a of this.kb)a.Zj()}$j(){ws(this);if(xs(this)||!Xr(this)){var a=!1;for(const b of this.kb){const c=b.$j();!a&&c&&(a=!0)}a&&(a=Fs(this.fc.dk()),a.fr(this.gb().Ea()),a.Nl("noease"),a.hn(!0),a.gQ(""))}}Ah(){if(!isNaN(this.YD)){var a=this.YD;if(ns.tc(a)&&(a=us(this.G(),a))){var b=this.gb(),c=this.fc.Um(),
d=this.Ve.mb.indexOf(this);if(a)if("number"===typeof d&&0<=d){var e=b.mb[d];e&&(os(e,a),xr(b.Ub,a.I(),b))}else for(e of b.mb)if(Xr(e)){if(c){if(e.Um()!==c)continue}else if(e.Xc)continue;os(e,a);xr(b.Ub,a.I(),b);break}}}this.YD=NaN}na(){var a=this.Z();a=a?a.zc:this.Mw();var b=Bs(this);var c=this.fc.dk().Yc.indexOf(this.Vk);return{propertyTracksJson:b,lastKeyframeDataItemJson:c,initialStateOfNestedSet:this.cs,endStateOfNestedSet:this.lp,instanceUid:a,cleared:this.jy}}ra(a){if(a){Cs(this,a.propertyTracksJson);
Ds(this,a.lastKeyframeDataItemJson);this.YD=a.instanceUid;this.cs=!1;a.hasOwnProperty.initialStateOfNestedSet&&(this.cs=a.initialStateOfNestedSet);this.lp=!1;a.hasOwnProperty.endStateOfNestedSet&&(this.lp=a.endStateOfNestedSet);this.jy=a.hasOwnProperty("cleared")?a.cleared:!1;for(const b of this.kb)0===this.Ag&&1===b.Ag&&(this.Ag=1),0===this.pc&&1===b.pc&&(this.pc=1);this.Qh=0;this.kb.some(b=>b.Qh)&&(this.Qh=1)}}};"use strict";const Gs=self.B;function Hs(a){a.cf();return Is(a.ma).Xb[0].sc()}
function Js(a){if(a.Xb)return a.Xb;a.Xb=Is(a.ma).Xb;return a.Xb}function Ks(a,b){const c=a.gb(),d=a.Hc.JB(b,a.ma);return d?d:$r(c)?a.Hc.nh(b,a.ma):Ls(b,a.ma)}
Gs.sb=class extends Gs.ta{constructor(a,b){super();this.xb=a;this.ma=b;this.Hc=b.cf();this.Qh=this.pc=this.Ag=0;this.Vf=this.Hb();this.Xb=Is(this.ma).Xb;this.qr=this.Ed=null}static Da(a,b){return Gs.A(Gs.sb,a,b)}m(){this.xb=null;this.Vf&&(this.Vf.m(),this.Vf=null);this.Hc=this.ma=this.Xb=null}cf(){return this.Hc}gb(){return this.xb.gb()}G(){return this.xb.G()}Z(){return this.xb.Z()}Hb(){if(this.Vf)return this.Vf;let a;switch(this.ma.df()){case "behavior":a=new Gs.sb.WV(this);break;case "effect":a=
new Gs.sb.GW(this);this.pc=1;break;case "instance-variable":a=new Gs.sb.XX(this);break;case "plugin":a=new Gs.sb.d_(this);this.pc=1;break;case "world-instance":a=new Gs.sb.Wq(this);this.Ag=this.pc=1;break;case "value":a=new Gs.sb.s0(this);break;case "audio":a=new Gs.sb.RV(this)}return this.Vf=a}df(){return this.ma.df()}Sm(){return this.ma.Sm()}hn(a){this.ma.hn(a)}Zi(){return this.ma.Zi()}Lc(){return this.ma.Lc()}Nl(a){for(const b of Js(this))b.Nl(a)}DG(){return this.ma.DG()}KB(){return Is(this.ma).KB()}JB(a){return this.Hc.JB(a,
this.ma)}nh(a){return this.Hc.nh(a,this.ma)}jn(){this.Hb().jn()}wl(){this.Hb().wl()}gg(){return this.Hb().gg()}pk(){this.Hb().pk()}Oc(a){this.Hb().Oc();this.Ed=Ks(this,a);this.FC()}jg(a){this.Hb().jg();this.Ed=Ks(this,a)}FC(){var a=this.xb;this.Qh=0;if(Xr(a)){var b=this.gb();a=a.Z();const c=this.Hb(),d=this.ma.ld;c.Il()?(b=Zr(b,a,c,d,this))&&b.length&&(this.Qh=1):this.Qh=0}}Bq(){this.Vf.Bq()}Ja(a,b=!1,c=!1,d=!1){let e,f=!1;if(b)var g=this.Hc.nh(a,this.ma);else{if(this.Ed){var h=this.gb();const k=
this.Ed.Rf;g=this.Ed.Ea();h=k?k.Ea():h.dd();if(a<=g||a>=h)this.Ed=this.Hc.nh(a,this.ma),f=!0}else this.Ed=this.Hc.nh(a,this.ma),f=!0;g=this.Ed}g&&(e=g.Rf);this.Vf.Ja(a,g,e,b,c,d,f)}hg(a){if(this.Ed){var b=this.gb();const d=this.Ed.Rf;var c=this.Ed.Ea();b=d?d.Ea():b.dd();if(a<=c||a>=b)this.Ed=this.Hc.nh(a,this.ma)}else this.Ed=this.Hc.nh(a,this.ma);c=this.Ed;return this.Vf.hg(a,c,c.Rf)}Aq(){this.Vf.Aq()}$N(){const a=Ms(Is(this.ma));this.Ed=null;return a}pB(a){this.Ed=null;Ns(Is(this.ma),a)}cr(){this.Hb().cr()}Zj(){if(this.Hb().Zj()){const a=
Is(this.ma).Xb[0],b=this.Hb().gg();Os(a,b)}}$j(){const a=this.Hb().$j();if(a){const b=this.gb().Ea(),c=this.Hb(),d=this.Hc.nh(b,this.ma),e=this.$N();e.iQ(d.sc());e.fr(b);e.Nl(d.Io());e.hn(!0);e.pe(Ps(c));Os(e,c.gg())}this.Hb().hB();return a}na(){return{sourceAdapterJson:this.Hb().na()}}ra(a){a&&this.Hb().ra(a.sourceAdapterJson)}};"use strict";const Qs=self.B.sb;
function Ps(a){a=a.N;const b=a.xb.gb().Ea(),c=a.Hc.nh(b,a.ma),d=c.Rf;switch(Hs(a)){case "numeric":return Qs.jx.Ja(b,c,d,a);case "angle":return Qs.bB.Ja(b,c,d,a);case "boolean":return Qs.dB.Ja(b,c,d,a);case "color":return Qs.iB.Ja(b,c,d,a);case "text":return Qs.sC.Ja(b,c,d,a)}}function Rs(a){if(a.bh)return a.bh;a.bh=Ss(a);return a.bh}
function Ss(a){const b=a.N;switch(b.DG()?Hs(b):""){case "combo":case "boolean":case "text":case "string":return new Qs.Mg.iP(a);case "numeric":case "number":case "angle":return"combo"===a.N.ma.sc()?new Qs.Mg.iP(a):new Qs.Mg.jP(a);case "color":case "offsetColor":return new Qs.Mg.lW(a);default:return new Qs.Mg.jP(a)}}
Qs.Wq=class{constructor(a){this.N=a;this.bh=null;Rs(this)}m(){this.bh&&(this.bh.m(),this.bh=null);this.N=null}Il(){return this.bh.Il()}Sd(){return this.N}jn(){this.bh&&this.bh.jn()}wl(){this.bh&&this.bh.wl()}vt(){}Fa(){return this.vt()}Sw(){}pk(){Rs(this).pk()}Oc(){Rs(this).Oc()}jg(){Rs(this).jg()}Bq(){this.bh.mt()}Ja(a,b,c,d,e,f,g){let h;switch(Hs(this.N)){case "numeric":h=Qs.jx.Ja(a,b,c,this.N);break;case "angle":h=Qs.bB.Ja(a,b,c,this.N);break;case "boolean":h=Qs.dB.Ja(a,b,c,this.N);break;case "color":h=
Qs.iB.Ja(a,b,c,this.N);break;case "text":h=Qs.sC.Ja(a,b,c,this.N)}this.bh.Cq(a,h,b,c,d,e,f,g)}hg(a,b,c){switch(Hs(this.N)){case "numeric":return Qs.jx.Ja(a,b,c,this.N);case "angle":return Qs.bB.Ja(a,b,c,this.N);case "boolean":return Qs.dB.Ja(a,b,c,this.N);case "color":return Qs.iB.Ja(a,b,c,this.N);case "text":return Qs.sC.Ja(a,b,c,this.N)}}Aq(){this.bh.lt()}cr(){var a=Rs(this);a.Gj=a.gg()}hB(){Rs(this).hB()}gg(){return Rs(this).gg()}Zj(){return Rs(this).Zj()}$j(){return Rs(this).$j()}na(){return{propertyAdapterJson:Rs(this).na()}}ra(a){a&&
Rs(this).ra(a.propertyAdapterJson)}};"use strict";const Ts=self.B;class Us extends Ts.sb.Wq{constructor(a){super(a);this.wA=NaN}vt(){return this.N.ma.ug[0]}Fa(){return this.wA?this.wA:super.Fa()}Sw(){return this.N.xb.Z()}Ja(a,b,c,d,e,f,g){Rs(this).CG(b.Ba())&&super.Ja(a,b,c,d,e,f,g)}hg(a,b,c){if(Rs(this).CG(b.Ba()))return super.hg(a,b,c)}na(){return Object.assign(super.na(),{index:this.wA})}ra(a){a&&(super.ra(a),this.wA=a.index)}}Ts.sb.XX=Us;"use strict";const Vs=self.B;
class Ws extends Vs.sb.Wq{constructor(a){super(a);this.lb=NaN}vt(){return this.N.ma.ug[1]}Sw(){var a=this.N.ma,b=this.lb?this.lb:a.ug[0];a=this.N.xb.Z();b=Xs(a,b);return L(a.Kd[b])}Hg(a){return a.fu.get(this.N.ma.ug[2].toLowerCase())||null}Ja(a,b,c,d,e,f,g){const h=this.N.xb.Z();this.Hg(h.I())&&super.Ja(a,b,c,d,e,f,g)}hg(a,b,c){const d=this.N.xb.Z();if(this.Hg(d.I()))return super.hg(a,b,c)}na(){return Object.assign(super.na(),{sid:this.lb})}ra(a){a&&(super.ra(a),this.lb=a.sid)}}Vs.sb.WV=Ws;"use strict";
const Ys=self.B;function Zs(a){const b=a.N.xb.C().Nf;if(a=ys(b.Sa,a.N.ma.ug[0]))return b.Mo(a.Fa())}class $s extends Ys.sb.Wq{constructor(a){super(a)}vt(){return this.N.ma.ug[1]}Sw(){const a=this.N.xb.C().Nf,b=ys(a.Sa,this.N.ma.ug[0]).Fa();return a.Mo(b)?a.BO(b):null}Ja(a,b,c,d,e,f,g){Zs(this)&&super.Ja(a,b,c,d,e,f,g)}hg(a,b,c){if(Zs(this))return super.hg(a,b,c)}}Ys.sb.GW=$s;"use strict";const at=self.B;
function bt(a){const b=a.N.xb.I().Ua();if(at.j.hc&&b instanceof at.j.hc&&("initial-frame"===a.N.ma.ld||"initial-animation"===a.N.ma.ld))switch(a.N.Lc()){case "relative":return null;case "absolute":return null}}
class ct extends at.sb.Wq{constructor(a){super(a)}vt(){return this.N.ma.ug[0]}Sw(){return L(this.N.xb.Z())}Ja(a,b,c,d,e,f,g){var h=this.N.xb;const k=h.I().Ua();h=h.Z().I().Ua();k===h&&super.Ja(a,b,c,d,e,f,g)}hg(a,b,c){var d=this.N.xb;const e=d.I().Ua();d=d.Z().I().Ua();if(e===d)return super.hg(a,b,c)}}at.sb.d_=ct;"use strict";const dt=self.B;
class et extends dt.sb.Wq{constructor(a){super(a);this.Jc=0;this.TD=!1}Il(){return!1}Oc(){this.N.cf();let a=this.N.ma;a=Is(a).Xb[0];this.Jc=Wr(a)}jg(){}Ba(){this.TD||this.N.Ja(0);return this.Jc}Ja(a,b,c){this.Jc=dt.sb.jx.Ja(a,b,c,this.N);this.TD=!0}cr(){}hB(){}gg(){return this.Jc}Zj(){return!1}$j(){return!1}na(){return{value:this.Jc,init:this.TD}}ra(a){a&&(this.Jc=a.value,this.TD=a.hasOwnProperty("init")?a.init:!0)}}dt.sb.s0=et;"use strict";const ft=self.B;
function gt(a){if(self.B.j.Audio){var b;if(b=ht.get(self.B.j.Audio)||null){if(!b.tj)throw Error("must be single-global plugin");b=b.WL}else b=null;b&&(a.Uf=L(b.Fl()));a.wc=self.B.j.Audio.xa;a.Cu=self.B.j.Audio.Qa}}function it(a){if(!a.si){var b=a.N.xb.Sd("audioSource");b&&(a.si=b.Hb())}}
class jt extends ft.sb.Wq{constructor(a){super(a);this.Vl=!1;this.Cu=this.wc=this.Uf=null;this.Ve=this.N.gb();this.xb=this.N.xb;this.bA=this.N.ma.ug;this.BJ=this.bA[0];this.fM=this.bA[1];this.lj=this.bA[3]?this.bA[3]:Math.random().toString(36).slice(2);this.BA=this.ys=this.Np=NaN;this.si=null;gt(this)}m(){super.m();this.si=this.BJ=this.bA=this.xb=this.Ve=this.Cu=this.wc=this.Uf=null}jn(){super.jn();this.Vl=!1;this.Uf&&(this.Cu&&(this.Np=this.Cu.Naa.call(this.Uf,this.lj),this.ys=this.Cu.Hfa.call(this.Uf,
this.lj)),this.wc&&this.wc.Gf.call(this.Uf,this.lj))}gr(a){this.BA=a}Oc(){super.Oc();this.Np=NaN;this.Vl=!1}jg(){super.jg();const a=this.N.gb().Ea();this.Np=a-this.fM;switch(this.N.ma.ld){case "volume":this.ys=this.N.hg(a)}this.Vl=!1}Ja(a,b,c,d,e,f,g){if(this.Uf)switch(this.N.ma.ld){case "audioSource":if(!$r(this.Ve))break;if(d){this.wc&&this.wc.Gf.call(this.Uf,this.lj);break}if(a<this.fM){this.Vl=!1;break}b=this.Cu.Maa.call(this.Uf,this.lj);this.Ve.kd!==b&&this.wc.nk.call(this.Uf,this.lj);if(this.Vl)break;
if(!this.N.gb().IsPlaying())break;this.Vl=!0;isNaN(this.Np)?(b=self.performance.now(),a-=this.fM,"suspended"===this.Uf.bX()?this.Vl=!1:(a+=(self.performance.now()-b)/1E3,this.wc&&(b=this.BA,isNaN(b)?(this.gr(0),b=0):this.gr(b),this.wc.c_.call(this.Uf,this.BJ,b,this.lj,a)))):(a=this.Np,this.Np=NaN,b=(b=this.N.xb.Sd("volume"))?b.Hb().ys:this.ys,this.ys=NaN,"suspended"===this.Uf.bX()?this.Vl=!1:this.wc&&(this.gr(b),this.wc.c_.call(this.Uf,this.BJ,b,this.lj,a)));break;case "volume":it(this),super.Ja(a,
b,c,d,e,f,g)}}hg(a,b,c){if(this.Uf)switch(this.N.ma.ld){case "volume":return it(this),super.hg(a,b,c)}}GO(){return this.si?this.si.BA:0}J_(a,b){this.si&&this.si.gr(this.GO()+b);this.wc&&this.si&&this.wc.gr.call(this.Uf,this.si.lj)}BV(a,b){this.si&&this.si.gr(b);this.wc&&this.si&&this.wc.gr.call(this.Uf,this.si.lj)}na(){return{audioPlaybackStarted:this.Vl,audioTag:this.lj,pauseTime:this.Np,pauseVolume:this.ys,volume:this.BA}}ra(a){a&&(this.Vl=a.audioPlaybackStarted,this.lj=a.audioTag,this.Np=a.pauseTime,
this.ys=a.pauseVolume,this.BA=a.volume,gt(this))}}ft.sb.RV=jt;"use strict";function kt(a,b,c){return $r(a.N.gb())?b():c()}function lt(a,b,c){return"relative"===a.N.Lc()?b():c()}function mt(a){if(a.Nv)return a.Nv;a.Nv=a.Vf.Sw();return a.Nv}function nt(a,b=!1){const c=[];for(const d of a){a=d.xb.Lg();for(const e of Js(d))b&&0===e.Ea()?c.push({time:a+e.Ea(),value:e.ij}):b||c.push({time:a+e.Ea(),value:e.ij})}return c.sort((d,e)=>d.time-e.time)}
function ot(a,b){for(let c=b.length-1;0<=c;c--)if(b[c].time<=a)return b[c];return null}
self.B.sb.Mg=class{constructor(a){this.Vf=a;this.N=a.Sd();this.Wa=this.N.xb.C();this.ld=this.N.ma.ld;this.Eu=!1;this.Nv=this.Gj=null}m(){this.Nv=this.Gj=this.Wa=this.N=this.Vf=null}Il(){return!1}jn(){}wl(){this.Nv=this.Gj=this.Wa=null}Hb(){return this.Vf}Sd(){return this.N}C(){return this.Wa?this.Wa:this.Wa=this.N.xb.C()}pk(){}Oc(){}jg(){}hB(){this.Gj=null}gg(){}Zj(){}$j(){}CG(a){return typeof this.mn()===typeof a}mt(){}Cq(){}lt(){}lr(){return kt(this,()=>{const a=this.N.ma;this.N.cf();return Is(a).Xb[0]},
()=>{const a=this.N.ma;return this.N.cf().ek(a)}).ij}xC(){const a=this.N.gb().Ea()-this.N.xb.Lg();return kt(this,()=>{const b=this.N.ma;return this.N.cf().nh(a,b)},()=>{const b=this.N.ma,c=this.N.cf(),d=Ls(a,b);return d?d:c.ek(b)}).ij}yC(){}lg(){return this.Vf.Fa()}na(){return{firstAbsoluteUpdate:this.Eu,saveState:this.Gj}}ra(a){a&&(this.Eu=a.firstAbsoluteUpdate,this.Gj=a.saveState)}};"use strict";const pt=self.B,qt=new Map,rt=[0,0,0];
function st(a){return pt.Oq(a,pt.bb)?a.toArray().slice(0,3):a.slice(0,3)}function tt(a,b){a=ut(a);b=ut(b);return ud(a,b)}function ut(a){return pt.Oq(a,pt.bb)?a:new pt.bb(a[0],a[1],a[2],1)}function vt(a,b,c){a=qt.get(a).get(b).get(c);a.tV=!0;return a.color}
class wt extends pt.sb.Mg{constructor(a){super(a)}pk(){}Oc(){}jg(){}gg(){const a=this.N.df(),b=mt(this),c=this.lg();switch(a){case "behavior":return st(b.cd(c));case "effect":return st(b[c]);case "plugin":return st(b.cd(c));case "world-instance":return st(this.mn())}}Zj(){const a=this.lr();return!tt(a,this.mn())}$j(){return pt.ff(this.Gj)?!1:!tt(this.Gj,this.mn())}lr(){const a=super.lr();return ut(a)}xC(){const a=super.xC();return ut(a)}yC(){}CG(){return!0}Il(){return!0}mt(){var a=this.N.gb(),b=this.N.Z();
const c=this.N.Hb();(a=Zr(a,b,c,this.ld,this.N))&&1<a.length&&(qt.has(b)||qt.set(b,new Map),b=qt.get(b),a=this.N.df(),b.has(a)||b.set(a,new Map),b=b.get(a),b.has(this.ld)||b.set(this.ld,{tV:!1,color:new pt.bb(0,0,0,1)}))}Cq(a,b){var c=this.N.gb(),d=this.N.xb;a=this.N.Z();var e=this.N.Hb();const f=this.N.df();if((e=Zr(c,a,e,this.ld,this.N))&&1<e.length){if(e=nt(e,!0),c=c.Ea(),c=ot(c,e))e=c.time-d.Lg(),0===e?rd(vt(a,f,this.ld),b[0],b[1],b[2]):0>e||(c=b[0],d=b[1],b=b[2],e=this.N.Ja(e,!1,!0),c=Cd(c,e[0]),
d=Cd(d,e[1]),b=Cd(b,e[2]),rd(vt(a,f,this.ld),c,d,b))}else this.Tl(b[0],b[1],b[2])}lt(){const a=this.N.Z();if(qt.has(a)){var b=qt.get(a),c=this.N.df();if(b.has(c)){var d=b.get(c);if(d.has(this.ld)){var e=d.get(this.ld),f=e.color;e.tV&&this.Tl(f.ab,f.ib,f.$a);0===d.size&&b.delete(c);0===b.size&&qt.delete(a)}}}}mn(){const a=this.N.df(),b=mt(this),c=this.lg();switch(a){case "behavior":return ut(b.cd(c));case "effect":return b[c].clone();case "plugin":return ut(b.cd(c));case "world-instance":return this.C().tb.clone()}}Tl(a,
b,c){var d=this.N.df();const e=mt(this),f=this.lg();switch(d){case "behavior":rt[0]=a;rt[1]=b;rt[2]=c;e.xh(f,rt);break;case "effect":qd(e[f],a,b,c);break;case "plugin":rt[0]=a;rt[1]=b;rt[2]=c;e.xh(f,rt);break;case "world-instance":d=this.C(),qd(xt,a,b,c),yt(d,xt)}}na(){}ra(){}}pt.sb.Mg.lW=wt;"use strict";const zt=self.B,At=zt.sb;
class Bt extends zt.sb.Mg{constructor(a){super(a)}pk(){}Oc(){}jg(){}gg(){return this.mn()}Zj(){return this.lr()!==this.gg()}$j(){return zt.ff(this.Gj)?!1:this.Gj!==this.gg()}Il(){return!1}Cq(a,b){const c=this.N,d=c.xb,e=c.df();var f=c.gb();const g=d.Z(),h=c.Hb();(f=Zr(f,g,h,this.ld,c))&&1<f.length&&(f=nt(f),a=ot(a+d.Lg(),f))&&(b=a.value);switch(Hs(c)){case "numeric":if(!At.jx.ln(this.lg(),mt(this),b,e))return;break;case "angle":if(!At.bB.ln(this.lg(),mt(this),b,e))return;break;case "boolean":if(!At.dB.ln(this.lg(),
mt(this),b,e))return;break;case "color":if(!At.iB.ln(this.lg(),mt(this),b,e))return;break;case "text":if(!At.sC.ln(this.lg(),mt(this),b,e))return}this.Tl(b)}mn(){const a=this.N.df(),b=mt(this),c=this.lg();switch(a){case "behavior":return b.cd(c);case "effect":return b[c];case "instance-variable":return Ct(b,c);case "plugin":return b.cd(c)}}Tl(a){const b=this.N.df(),c=mt(this),d=this.lg();switch(b){case "behavior":c.xh(d,a);break;case "effect":c[d]=a;break;case "instance-variable":c.Po(d,a);break;
case "plugin":c.xh(d,a)}}}zt.sb.Mg.iP=Bt;"use strict";const Dt=self.B,Et=new Map,Ft=(a,b,c,d,e,f=!1,g=null,h=null)=>{Et.set(a,{PN:b,g3:c,T3:d,round:e,F3:f,init:g,reset:h})};Ft("offsetX",(a,b,c,d)=>{"relative"===d.N.Lc()?Gt(a,b,c.gb().NB()):Gt(a,b)},(a,b)=>a.fj(b),a=>a.Ga(),!0);Ft("offsetY",(a,b,c,d)=>{"relative"===d.N.Lc()?Ht(a,b,c.gb().NB()):Ht(a,b)},(a,b)=>a.uk(b),a=>a.Ha(),!0);
Ft("offsetWidth",(a,b,c,d,e)=>{if(0!==b){var f=1===d.ol.sc();if(("relative"===d.N.Lc()||f)&&a.oe()&&It(a)){if(isNaN(d.jj)){const h=[];for(var g=a.ya();g;)h.push(g),g=g.ya();h.reverse();g=(l,m)=>{if(m=js(m.gb(),l.Z()))return m.ph();m=L(l.Z());return m.ik()?m.ph():Jt(l.Ia)};const k=(l,m,n,p=0)=>{l=js(m.gb(),l.Z());if(!l)return p;n=l.Sd(n);if(!n)return p;n=Is(n.ma);return n?(n=n.ek())?n.Ba():p:p};if(f)f=h[h.length-1].M();else{let l=h[0];f=Jt(l.Ia)*l.Ia.Iv;f+=k(l,c,"offsetWidth");f+=g(l,c)*k(l,c,"offsetScaleX");
for(let m=1;m<h.length;m++)l=h[m],f*=l.Ia.Iv,f+=k(l,c,"offsetWidth"),f+=g(l,c)*k(l,c,"offsetScaleX")}d.jj=0===f?Number.EPSILON:f}e||a.jk(b/d.jj,!0)}else a.jk(b)}},(a,b)=>a.Og(b),a=>a.M(),!0);
Ft("offsetHeight",(a,b,c,d,e)=>{if(0!==b){var f=1===d.ol.sc();if(("relative"===d.N.Lc()||f)&&a.oe()&&Kt(a)){if(isNaN(d.jj)){const h=[];for(var g=a.ya();g;)h.push(g),g=g.ya();h.reverse();g=(l,m)=>{if(m=js(m.gb(),l.Z()))return m.oh();m=L(l.Z());return m.ik()?m.oh():Lt(l.Ia)};const k=(l,m,n,p=0)=>{l=js(m.gb(),l.Z());if(!l)return p;n=l.Sd(n);if(!n)return p;n=Is(n.ma);return n?(n=n.ek())?n.Ba():p:p};if(f)f=h[h.length-1].K();else{let l=h[0];f=Lt(l.Ia)*l.Ia.Jv;f+=k(l,c,"offsetHeight");f+=g(l,c)*k(l,c,"offsetScaleY");
for(let m=1;m<h.length;m++)l=h[m],f*=l.Ia.Jv,f+=k(l,c),f+=g(l,c)*k(l,c,"offsetScaleY")}d.jj=0===f?Number.EPSILON:f}e||Mt(a,b/d.jj,!0)}else Mt(a,b)}},(a,b)=>a.vh(b),a=>a.K(),!0);Ft("offsetAngle",(a,b)=>{b=+b;0!==b&&a.cn()&&(a.Xa=Q.le(a.Xa+b),Nt(a))},(a,b)=>a.He(b),a=>a.fb(),!1,!0);
Ft("offsetOpacity",(a,b,c,d)=>{b/=d.Fz?d.Fz:1;c=a.Kc()+b;0===d.Wc?(1<c?d.Wc+=c-1:0>c&&(d.Wc+=c),Ot(a,b)):(c=a.Kc()+b,0<b&&0<d.Wc?1<c&&(d.Wc+=c-1):0<b&&0>d.Wc?(d.Wc+=b,0<d.Wc&&(Ot(a,d.Wc),d.Wc=0)):0>b&&0<d.Wc?(d.Wc+=b,0>d.Wc&&(Ot(a,d.Wc),d.Wc=0)):0>b&&0>d.Wc&&0>c&&(d.Wc+=c))},(a,b)=>{a.wh(b)},a=>a.Kc(),!1,!0,(a,b,c)=>{a.Wc=0;switch(a.N.Lc()){case "relative":a.N.cf();var d=Is(a.N.ma).Xb,e=a.C().Kc(),f=e;for(var g of d)f=g.Ea(),f=a.N.hg(f),f=e+f,f=Dt.X(f,0,1);a.Sv=e-f;a.Sv=Math.round(100*(a.Sv+Number.EPSILON))/
100;f=e;for(e=d.length-1;0<=e;e--)g=d[e].Ea(),g=a.N.hg(g),f-=g,f=Dt.X(f,0,1);a.Rv=f;a.Rv=Math.round(100*(a.Rv+Number.EPSILON))/100}d=1===a.ol.sc();if(("relative"===a.N.Lc()||d)&&b.oe()&&Pt(b)){d=[];for(b=b.ya();b;)d.push(b),b=b.ya();d.reverse();b=(h,k,l)=>{h=js(k.gb(),h.Z());if(!h)return 0;l=h.Sd(l);if(!l)return 0;l=Is(l.ma);return l?(l=l.ek())?l.Ba():0:0};f=d[0].Ia.wF;f+=b(d[0],c,"offsetOpacity");for(e=1;e<d.length;e++)f+=b(d[e],c,"offsetOpacity");a.Fz=0===f?1:f}},a=>{switch(a.N.Lc()){case "relative":a.Wc=
0;const b=a.C();let c=b.Kc();c=Math.round(100*(c+Number.EPSILON))/100;$r(a.N.gb())?(b.wh(c+a.Sv),a.dc=0):(b.wh(c-a.Rv),a.dc=Ps(a.Hb()))}});Ft("offsetOriginX",(a,b)=>{a.Xk+=+b},(a,b)=>{a.Xk=+b},a=>a.$i(),!1);Ft("offsetOriginY",(a,b)=>{a.Yk+=+b},(a,b)=>{a.Yk=+b},a=>a.aj(),!1);Ft("offsetZElevation",(a,b)=>{a.Pg(a.hb()+b)},(a,b)=>a.Pg(b),a=>a.hb(),!0);
Ft("offsetScaleX",(a,b,c,d)=>{if(0!==b){var e=0>a.M()?-1:1;"relative"===d.N.Lc()&&a.oe()&&It(a)?(b*=c.ph()*e,isNaN(d.jj)&&Et.get("offsetWidth").PN(a,1,c,d,!0),a.jk(b/d.jj,!0)):a.jk(c.ph()*e*b)}},(a,b,c)=>{a.Og(c.ph()*b)},(a,b)=>{const c=0>a.M()?-1:1;if(It(a)){var d=a.ya(),e=js(b.gb(),d.Z());e?d=d.M()/e.ph():(e=L(d.Z()),d=e.ik()?d.M()/e.ph():1);return a.M()*c/(b.ph()*d)}return a.M()*c/b.ph()},!1);
Ft("offsetScaleY",(a,b,c,d)=>{if(0!==b){var e=0>a.K()?-1:1;"relative"===d.N.Lc()&&a.oe()&&Kt(a)?(b*=c.oh()*e,isNaN(d.jj)&&Et.get("offsetHeight").PN(a,1,c,d,!0),Mt(a,b/d.jj,!0)):Mt(a,c.oh()*e*b)}},(a,b,c)=>{a.vh(c.oh()*b)},(a,b)=>{const c=0>a.K()?-1:1;if(Kt(a)){var d=a.ya(),e=js(b.gb(),d.Z());e?d=d.K()/e.oh():(e=L(d.Z()),d=e.ik()?d.K()/e.oh():1);return a.K()*c/(b.oh()*d)}return a.K()*c/b.oh()},!1);
function Qt(a,b,c,d){var e=a.N.Zi();e="default"===e?"continuous":e;if("discrete"!==e||c){if("discrete"===e&&d&&(c=a.N.gb().Ea(),!a.N.JB(c)))return;c=mt(a);d=a.lg();e=a.C();var f=a.N.xb;switch(a.N.df()){case "behavior":c.xh(d,b);break;case "effect":c[d]=b;break;case "instance-variable":c.Po(d,b);break;case "plugin":c.xh(d,b,bt(a.Hb()));break;case "world-instance":a.lK(e,b,f);break;case "audio":a.YL.call(a.Hb(),e,b,f)}}}
function Rt(a,b,c,d){switch(a.N.ma.sc()){case "angle":b=Dt.Wj(b)}var e=(b.toString().split(".")[1]||"").length;b=a.mn();if(0===e)if(a.iF)e=Math.round(b);else if(a.yJ)switch(a.N.ma.sc()){case "angle":e=Dt.Vb(Math.round(Dt.Wj(b)));break;default:e=Number(Dt.toFixed(b,2))}else e=b;else e=a.iF?Number(Dt.toFixed(b,e)):b;a.Tl(e-b,c,d);switch(a.N.ma.ld){case "offsetWidth":case "offsetScaleX":a=a.C();c=a.M();a.jk(Number(Dt.toFixed(c,2))-c);break;case "offsetHeight":case "offsetScaleY":a=a.C(),c=a.K(),Mt(a,
Number(Dt.toFixed(c,2))-c)}}
class St extends Dt.sb.Mg{constructor(a){super(a);this.Rv=this.Sv=this.Wc=this.dc=0;this.jj=this.Fz=NaN;this.UQ=this.VQ=void 0;this.YL=this.$L=this.ZL=this.UD=this.fF=this.lK=this.nK=this.mK=null;this.yJ=this.iF=!1;this.ol=Dt.Oq(this.N.gb(),Dt.p0)?new Dt.sb.Mg.bZ(this):new Dt.sb.Mg.aZ(this);const b=this.N.ma.ld;switch(this.N.df()){case "world-instance":a=Et.get(b);this.mK=a.T3;this.nK=a.PN;this.lK=a.g3;this.iF=a.round;this.yJ=a.F3;this.UD=a.init;this.fF=a.reset;break;case "audio":this.ZL=a.GO,this.$L=
a.J_,this.YL=a.BV,this.iF=!0,this.yJ=!1}}m(){this.YL=this.$L=this.ZL=this.UD=this.fF=this.lK=this.nK=this.mK=this.ol=null;super.m()}Il(){return this.ol.Il()}pk(){this.fF&&this.fF(this)}Oc(){var a=this.ol.Oc();"number"===typeof a&&(this.dc=a);this.UD&&(a=this.C(),this.UD(this,a,this.N.xb))}jg(){const a=this.ol.jg();"number"===typeof a&&(this.dc=a)}gg(){return this.mn()}Zj(){return this.lr()!==this.gg()}$j(){return Dt.ff(this.Gj)?!1:this.Gj!==this.gg()}mt(){this.ol.mt()}Cq(a,b,c,d,e,f,g,h){return this.ol.Cq(a,
b,c,d,e,f,g,h)}lt(){this.ol.lt()}mn(){const a=mt(this),b=this.lg(),c=this.C(),d=this.N.xb;switch(this.N.df()){case "behavior":return a.cd(b);case "effect":return a[b];case "instance-variable":return Ct(a,b);case "plugin":return a.cd(b);case "world-instance":return this.mK(c,d);case "audio":return this.ZL.call(this.Hb(),c,d)}}Tl(a){var b=mt(this),c=this.lg(),d=this.C();const e=this.N.xb;switch(this.N.df()){case "behavior":b.tH(c,a);break;case "effect":b[c]+=a;break;case "instance-variable":if(0!==
a){c|=0;b=b.rg;if(0>c||c>=b.length)throw new RangeError("invalid instance variable");d=b[c];if("number"===typeof d)b[c]="number"===typeof a?b[c]+a:b[c]+parseFloat(a);else{if("boolean"===typeof d)throw Error("can not set offset of boolean variable");if("string"===typeof d)throw Error("can not set offset of string variable");throw Error("unknown instance variable type");}}break;case "plugin":b.tH(c,a,bt(this.Hb()));break;case "world-instance":this.nK(d,a,e,this);break;case "audio":this.$L.call(this.Hb(),
d,a,e,this)}}Vt(a,b,c,d,e,f,g,h){this.ol.Vt(a,b,c,d,e,f,g,h)}na(){return Object.assign(super.na(),{v:this.dc,a:this.Wc,fod:this.Sv,bod:this.Rv,of:this.Fz,sf:this.jj,armorf:this.VQ,armandf:this.UQ})}ra(a){a&&(super.ra(a),this.dc=a.v,this.Wc=a.a,this.Sv=Dt.tc(a.fod)?a.fod:0,this.Rv=Dt.tc(a.bod)?a.bod:0,this.Fz=Dt.tc(a.of)?a.of:NaN,this.jj=Dt.tc(a.sf)?a.sf:NaN,this.VQ=Dt.tc(a.armorf)?a.armorf:void 0,this.UQ=Dt.tc(a.armandf)?a.armandf:void 0)}}Dt.sb.Mg.jP=St;"use strict";
class Tt{constructor(a){this.KF=!1;this.Jc=0;this.uJ=this.ZE=!1;this.kb=a;for(let b=0,c=this.kb.length;b<c;b++)this.kb[b].qr=this}pe(a){this.Jc=a}Ba(){return this.Jc}wx(a){this.uJ=a}Dc(){this.KF=!1;this.Jc=0;this.uJ=this.ZE=!1}}
class Ut{constructor(a){this.tf=a}m(){this.tf=null}sc(){return 0}Oc(){const a=this.tf;this.tf.Sd();return lt(a,()=>kt(a,()=>0,()=>Ps(a.Hb())),()=>{})}jg(){}Il(){switch(this.tf.Sd().Lc()){case "relative":return!1;case "absolute":return!0}}mt(){var a=this.tf.Sd();const b=a.ma.ld;switch(a.Lc()){case "absolute":if(a.qr)a.qr.Dc();else{const c=a.gb(),d=a.Z(),e=a.Hb();(a=Zr(c,d,e,b,a))&&1<a.length&&new Tt(a)}}}Cq(a,b,c,d,e,f,g,h){var k=this.tf,l=this.tf.Sd();switch(l.Lc()){case "relative":g=k.dc;k.Tl(b-
g,c,d);f&&this.Vt(a,c,d,e,g,b);k.dc=b;break;case "absolute":if(c=l.gb(),a=l.xb,l.Z(),l.Hb(),l.qr){if(k=l.qr,d=nt(k.kb,!0),c=c.Ea(),c=ot(c,d))a=c.time-a.Lg(),0===a?(k.wx(g),k.ZE=h,k.KF=!0,k.pe(k.Ba()+b)):0>a||(l=l.hg(a),k.wx(g),k.ZE=h,k.KF=!0,k.pe(k.Ba()+(b-l)))}else Qt(k,b,h,g)}}lt(){const a=this.tf;var b=this.tf.Sd();switch(b.Lc()){case "absolute":b.qr&&(b=b.qr,b.KF&&Qt(a,b.Ba(),b.ZE,b.uJ))}}Vt(a,b,c,d,e,f){const g=this.tf;d||(b&&a===b.Ea()?Rt(g,Wr(b),b,c):c&&a===c.Ea()?Rt(g,Wr(c),b,c):0===f-e&&
Rt(g,Wr(b),b,c))}}self.B.sb.Mg.aZ=Ut;"use strict";
class Vt{constructor(a){this.tf=a}m(){this.tf=null}sc(){return 1}Oc(){const a=this.tf;a.Eu=!0;return this.yC(a.lr())}jg(){const a=this.tf;if(a.lr()!==a.xC())return a.Eu=!0,this.yC(a.xC())}Il(){return!1}mt(){}Cq(a,b,c,d,e,f,g){const h=this.tf,k=h.dc;switch(h.Sd().Lc()){case "relative":h.Tl(b-k,c,d);f&&this.Vt(a,c,d,e,k,b,!1,g);break;case "absolute":if(h.Eu)h.Eu=!1,h.Tl(k,c,d);else if(0===a&&0===h.Sd().gb().dd())Qt(h,b,!0,!1);else if(h.Tl(b-k,c,d),f){f=this.Vt;var l=this.tf;const n=l.C().Z();var m=
l.Sd().G().Ub;l=0;for(const p of wr(m))if(0===p.sc()){a:{for(const q of p.mb)if(Xr(q)&&n===q.Z()){m=!0;break a}m=!1}m&&l++}else 1===p.sc()&&p.Z()===n&&l++;f.call(this,a,c,d,e,k,b,1>=l,g)}}h.dc=b}lt(){}yC(a){return a-this.tf.gg()}Vt(a,b,c,d,e,f){const g=this.tf;d?b&&a===b.Ea()?Rt(g,Wr(b),b,c):c&&a===c.Ea()?Rt(g,Wr(c),b,c):c||Rt(g,Wr(b),b,c):b&&a===b.Ea()?Rt(g,Wr(b),b,c):c&&a===c.Ea()?Rt(g,Wr(c),b,c):0===f-e&&Rt(g,Wr(b),b,c)}}self.B.sb.Mg.bZ=Vt;"use strict";const Wt=self.B,Xt=self.Eq;
Wt.sb.jx=class{constructor(){}static ln(a,b,c,d){let e;switch(d){case "behavior":e=b.cd(a);break;case "effect":e=b[a];break;case "instance-variable":e=Ct(b,a);break;case "plugin":e=b.cd(a)}return e===c?!1:!0}static Ja(a,b,c,d){if(!c){var e=d.ma;e=d.cf().ek(e);return Wr(e)}let f=d.Zi();"default"===f&&(f="continuous");"combo"===d.ma.sc()&&(f="discrete");if("discrete"===f)return Wr(b);if("continuous"===f||"step"===f){const h=d.gb().Qw();"step"===f&&0!==h&&(e=1/h,a=Math.floor(a*e)/e);e=Wr(b);const k=
Wr(c),l=Vr(b,"cubic-bezier"),m=Vr(c,"cubic-bezier");var g=l&&l.fA&&m&&m.Gy;if(!g&&e===k)return e;const n=b.Ea();c=c.Ea();"step"===f&&0!==h&&(a=Wt.X(a,n,c));a=Wt.normalize(a,n,c);b=b.Io();g?(g=c-n,b=Xt.Wm(b)(g*a,0,1,g),b=Xt.Wm("cubicbezier")(b,e,e+l.eA,k+m.Fy,k)):b=Xt.Wm(b)((c-n)*a,e,k-e,c-n);return"integer"===d.ma.sc()?Math.floor(b):b}}};"use strict";const Yt=self.B;
Yt.sb.bB=class{constructor(){}static ln(a,b,c,d){let e;switch(d){case "behavior":e=b.cd(a);break;case "effect":e=b[a];break;case "instance-variable":e=Ct(b,a);break;case "plugin":e=b.cd(a)}return e===c?!1:!0}static Ja(a,b,c,d){if(!c)return b=d.ma,b=d.cf().ek(b),Wr(b);var e=d.Zi();"default"===e&&(e="continuous");"combo"===d.ma.sc()&&(e="discrete");if("discrete"===e)return Wr(b);if("continuous"===e||"step"===e){var f=d.gb().Qw();"step"===e&&0!==f&&(d=1/f,a=Math.floor(a*d)/d);const g=b.Ea(),h=c.Ea();
d=Wr(b);c=Wr(c);"step"===e&&0!==f&&(a=Yt.X(a,g,h));if(e=Vr(b,"angle")){f=e.OL;if(d===c&&0===f)return d;a=Yt.normalize(a,g,h);b=self.Eq.Wm(b.Io())(a,0,1,1);switch(e.qJ){case "closest":return Yt.KM(d,c,b,f);case "clockwise":return Yt.i3(d,c,b,f);case "anti-clockwise":return Yt.h3(d,c,b,f)}}else{if(d===c)return d;a=Yt.normalize(a,g,h);b=self.Eq.Wm(b.Io());return Yt.KM(d,c,b(a,0,1,1))}}}};"use strict";
self.B.sb.dB=class{constructor(){}static ln(a,b,c,d){let e;switch(d){case "behavior":e=b.cd(a);break;case "effect":e=b[a];break;case "instance-variable":e=Ct(b,a);break;case "plugin":e=b.cd(a)}return!!e===!!c?!1:!0}static Ja(a,b,c,d){return c?Wr(b)?1:0:(a=d.ma,a=d.cf().ek(a),Wr(a)?1:0)}};"use strict";const Zt=self.B,$t=[0,0,0],au=[0,0,0],Ad=[0,0,0];
Zt.sb.iB=class{constructor(){}static ln(a,b,c,d){let e;switch(d){case "behavior":e=b.cd(a);break;case "effect":e=b[a];break;case "instance-variable":e=Ct(b,a);break;case "plugin":e=b.cd(a)}Array.isArray(c)?($t[0]=c[0],$t[1]=c[1],$t[2]=c[2]):(zd(c),$t[0]=Math.floor(255*Ad.ab),$t[1]=Math.floor(255*Ad.ib),$t[2]=Math.floor(255*Ad.$a));Array.isArray(e)?(au[0]=e[0],au[1]=e[1],au[2]=e[2]):(zd(e),au[0]=Math.floor(255*Ad.ab),au[1]=Math.floor(255*Ad.ib),au[2]=Math.floor(255*Ad.$a));return $t[0]!==au[0]||$t[1]!==
au[1]||$t[2]!==au[2]?!0:!1}static Ja(a,b,c,d){if(!c)return b=d.ma,b=d.cf().ek(b),b=Wr(b),$t[0]=b[0],$t[1]=b[1],$t[2]=b[2],$t;var e=d.Zi();"default"===e&&(e="continuous");if("discrete"===e)return b=Wr(b),$t[0]=b[0],$t[1]=b[1],$t[2]=b[2],$t;if("continuous"===e||"step"===e){var f=d.gb().Qw();"step"===e&&0!==f&&(d=1/f,a=Math.floor(a*d)/d);d=b.Ea();var g=c.Ea(),h=Wr(b);c=Wr(c);"step"===e&&0!==f&&(a=Zt.X(a,d,g));f=Zt.normalize(a,d,g);a=h[0];e=h[1];h=h[2];const k=c[0],l=c[1];c=c[2];b=self.Eq.Wm(b.Io());
d=g-d;g=d*f;$t[0]=a===k?a:b(g,a,k-a,d);$t[1]=e===l?e:b(g,e,l-e,d);$t[2]=h===c?h:b(g,h,c-h,d);return $t}}};"use strict";self.B.sb.sC=class{constructor(){}static ln(a,b,c,d){let e;switch(d){case "behavior":e=b.cd(a);break;case "effect":e=b[a];break;case "instance-variable":e=Ct(b,a);break;case "plugin":e=b.cd(a)}return e===c?!1:!0}static Ja(a,b,c,d){return c?Wr(b):(a=d.ma,a=d.cf().ek(a),Wr(a))}};"use strict";const bu=self.B;
function cu(a,b,c,d,e){let f;if("function"===typeof d)switch(a){case "load":f=new d(null,e);break;case "create":f=new d(b,e);break;case "create-including-disabled":f=new d(b,e)}else if("object"===typeof d)switch(d=d.map.get(b[d.XU]),a){case "load":f=new d(null,e);break;case "create":f=new d(b,e);break;case "create-including-disabled":f=new d(b,e)}switch(a){case "load":f.ra(b);c.push(f);break;case "create":if("function"===typeof f.Sm&&!f.Sm()){f.m();break}c.push(f);break;case "create-including-disabled":c.push(f)}}
function du(a,b,c,d){if(b)for(const e of b)cu("create",e,a,c,d)}function eu(a,b,c,d){a.length?b.forEach((e,f)=>{a[f].ra(e)}):b.forEach(e=>{cu("load",e,a,c,d)})}bu.j0=class{constructor(){this.lA=new Map}m(){for(const a of this.lA.values())a.m();this.lA.clear();this.lA=null}Gb(a){a=new bu.i0(a);this.lA.set(a.ea(),a)}T(a){return this.lA.get(a)}};"use strict";const fu=self.B;
fu.i0=class{constructor(a){this.Ka="";this.Qs=NaN;this.zF=0;this.Sh=this.Ih="default";this.UE=this.FE=!1;this.Gv=1;this.Ri=null;this.vF="";this.EF=!1;this.JF=!0;a&&(this.Ka=a[0],this.Qs=a[1],this.zF=a[2],this.Ih=a[3],this.Sh=a[4],this.FE=!!a[6],this.UE=!!a[7],this.Gv=a[8],this.vF=a[9],this.EF=!!a[10],this.JF=!!a[11],this.Ri=new fu.oQ(a[5],this))}m(){this.Ri.m();this.Ri=null}Uw(){this.Ri||(this.Ri=new fu.oQ(null,this));return this.Ri}ea(){return this.Ka}yx(a){this.Ka=a}dd(){return this.Qs}TH(a){this.Qs=
a}Qw(){return this.zF}Zi(){return this.Ih}Lc(){return this.Sh}yt(){return this.FE}zt(){return this.UE}fi(){return this.Gv}XG(){return this.vF}NB(){return this.EF}YG(){return this.JF}na(){return{trackDataJson:this.Ri.na(),name:this.Ka,totalTime:this.Qs,step:this.zF,interpolationMode:this.Ih,resultMode:this.Sh,loop:this.FE,pingPong:this.UE,repeatCount:this.Gv,startOnLayout:this.vF,transformWithSceneGraph:!!this.EF,useSystemTimescale:this.JF}}ra(a){a&&(this.Uw().ra(a.trackDataJson),this.Ka=a.name,this.Qs=
a.totalTime,this.zF=a.step,this.Ih=a.interpolationMode,this.Sh=a.resultMode,this.FE=a.loop,this.UE=a.pingPong,this.Gv=a.repeatCount,this.vF=a.startOnLayout,this.EF=!!a.transformWithSceneGraph,this.JF=!!a.useSystemTimescale)}};"use strict";const gu=self.B;
class hu{constructor(a,b){this.Ri=b;this.Yo=this.XD=null;this.Yn=this.Nn=NaN;this.Sh=this.Ih="default";this.xi=!1;this.Hc=this.uj=null;this.Lb="";this.tv=null;this.eM=0;this.EE=this.Ri.Od.dd();this.oa=0;this.Ka="";a&&(a[0]&&(this.XD=a[0],this.Nn=a[0][2],this.Yn=a[0][1]),this.Ih=a[1],this.Sh=a[2],this.xi=!!a[3],a[6]&&(this.Lb=a[6]),a[7]&&(this.tv=a[7],this.eM=a[7][0],this.EE=a[7][1]),a[8]&&(this.Yo=a[8]),a[8]&&(this.Yo=a[8]),a[9]&&(this.oa=a[9]),a[10]&&(this.Ka=a[10]),this.uj=new gu.dP(a[4],this),
this.Hc=new gu.IP(a[5],this))}m(){this.Ri=this.XD=null;this.uj&&(this.uj.m(),this.uj=null);this.Hc&&(this.Hc.m(),this.Hc=null);this.tv=null}Uw(){return this.Ri}dk(){this.uj||(this.uj=new gu.dP(null,this));return this.uj}cf(){this.Hc||(this.Hc=new gu.IP(null,this));return this.Hc}TG(){return this.Yn}Mw(){return this.Nn}Zi(){return this.Ih}Lc(){return this.Sh}Sm(){return this.xi}hn(a){this.xi=!!a}Um(){return this.Lb}Lg(){return this.eM}Vm(){return this.EE}ph(){return this.Yo[0]}oh(){this.Yo||(this.Yo=
[]);return this.Yo[1]}sc(){return this.oa}ea(){return this.Ka}na(){return{keyframeDataJson:this.uj.na(),propertyTrackDataJson:this.Hc.na(),instanceData:this.XD,additionalInstanceData:this.Yo,instanceUid:this.Nn,objectClassIndex:this.Yn,interpolationMode:this.Ih,resultMode:this.Sh,enabled:this.xi,id:this.Lb,nestedData:this.tv,type:this.oa,name:this.Ka}}ra(a){a&&(this.XD=a.instanceData,this.Nn=a.instanceUid,this.Yn=a.objectClassIndex,this.Ih=a.interpolationMode,this.Sh=a.resultMode,this.xi=a.enabled,
this.Lb=a.id,this.oa=a.type?a.type:0,this.Ka=a.name?a.name:"",this.EE=this.Ri.Od.dd(),a.nestedData&&(this.tv=a.nestedData,this.eM=this.tv[0],this.EE=this.tv[1]),a.additionalInstanceData&&(this.Yo=a.additionalInstanceData),this.dk().ra(a.keyframeDataJson),this.cf().ra(a.propertyTrackDataJson))}}function*ms(a){for(const b of a.Rs)yield b}function As(a,b){b=b.dk().Yc;for(let c=b.length-1;0<=c;c--){const d=b[c];if(d.Ea()<=a)return d}}
gu.oQ=class{constructor(a,b){this.Od=b;this.Rs=[];du(this.Rs,a,hu,this)}m(){this.Od=null;for(const a of this.Rs)a.m();gu.H(this.Rs);this.Rs=null}na(){return{trackDataItemsJson:this.Rs.map(a=>a.na())}}ra(a){a&&eu(this.Rs,a.trackDataItemsJson,hu,this)}};"use strict";const iu=self.B;function Is(a){a.bl||(a.bl=new iu.HP(null,a));return a.bl}
class ju{constructor(a,b){this.Hc=b;this.rF="";this.oa=this.ld=this.ug=null;this.cL=this.hL=NaN;this.Sh=this.Ih="default";this.xi=!1;this.bl=null;this.UC=!0;a&&(this.rF=a[0][0],this.ug=a[0].slice(1),this.ld=a[1],this.oa=a[2],this.hL=a[3],this.cL=a[4],this.Ih=a[5],this.Sh=a[6],this.xi=!!a[7],this.bl=new iu.HP(a[8],this),this.UC=a[9])}m(){this.bl.m();this.ug=this.Hc=this.bl=null}cf(){return this.Hc}df(){return this.rF}sc(){return this.oa}iQ(a){this.oa=a}Zi(){return this.Ih}Lc(){return this.Sh}Sm(){return this.xi}hn(a){this.xi=
!!a}DG(){return!!this.UC}na(){return{propertyKeyframeDataJson:this.bl.na(),sourceAdapterId:this.rF,sourceAdapterArguments:this.ug,property:this.ld,type:this.oa,min:this.hL,max:this.cL,interpolationMode:this.Ih,resultMode:this.Sh,enabled:this.xi,canHavePropertyKeyframes:this.UC}}ra(a){a&&(this.rF=a.sourceAdapterId,this.ug=a.sourceAdapterArguments,this.ld=a.property,this.oa=a.type,this.hL=a.min,this.cL=a.max,this.Ih=a.interpolationMode,this.Sh=a.resultMode,this.xi=a.enabled,this.UC=a.canHavePropertyKeyframes,
Is(this).ra(a.propertyKeyframeDataJson))}}function*Es(a){for(const b of a.Cs)yield b}function Ls(a,b){b=Is(b).Xb;const c=b.length;for(let d=0;d<c;d++){const e=b[d];if(e.Ea()>=a)return e}}
iu.IP=class{constructor(a,b){this.fc=b;this.Cs=[];du(this.Cs,a,ju,this)}m(){this.fc=null;for(const a of this.Cs)a.m();iu.H(this.Cs);this.Cs=null}ek(a){return Is(a).Xb.at(-1)}JB(a,b){b=Is(b).Xb;const c=b.length;for(let d=0;d<c;d++){const e=b[d];if(e.Ea()===a)return e}}nh(a,b){b=Is(b).Xb;for(let c=b.length-1;0<=c;c--){const d=b[c];if(d.Ea()<=a)return d}}na(){return{propertyTrackDataItemsJson:this.Cs.map(a=>a.na())}}ra(a){a&&eu(this.Cs,a.propertyTrackDataItemsJson,ju,this)}};"use strict";const ku=self.B;
class lu{constructor(a,b){this.uj=b;this.Nd=-1;this.Ek="noease";this.Fk=!1;this.xz=this.Wf=null;a&&(this.Nd=a[0],this.Ek=a[1],this.Fk=!!a[2],this.Wf=(a=a[3])?a.split(" "):[],this.xz=new Set(this.Wf.map(c=>c.toLowerCase())),this.Rf=null)}m(){this.uj=null;ku.H(this.Wf);this.Wf=null;this.xz.clear();this.Rf=this.xz=null}dk(){return this.uj}Qt(a){this.Rf=a}Ea(){return this.Nd}fr(a){this.Nd=a;mu(this.uj)}Io(){return this.Ek}Nl(a){this.Ek=a}Sm(){return this.Fk}hn(a){this.Fk=!!a}gQ(a){this.Wf=a?a.split(" "):
[];this.xz=new Set(this.Wf.map(b=>b.toLowerCase()))}na(){return{time:this.Nd,ease:this.Ek,enable:this.Fk,tags:this.Wf}}ra(a){a&&(this.Nd=a.time,this.Ek=a.ease,this.Fk=a.enable,this.Wf=a.tags,this.xz=new Set(this.Wf.map(b=>b.toLowerCase())))}}function Fs(a){const b=new lu(null,a);a.Yc.push(b);mu(a);return b}function nu(a,b){for(const c of a.Yc){if(!b(c))continue;const d=a.Yc.indexOf(c);-1!==d&&(c.m(),a.Yc.splice(d,1))}ou(a);mu(a)}
function mu(a){a.Yc.sort((b,c)=>b.Ea()-c.Ea());for(let b=0;b<a.Yc.length;b++)a.Yc[b].Qt(a.Yc[b+1])}function ou(a){a.Yc.sort((b,c)=>b.Ea()-c.Ea())}ku.dP=class{constructor(a,b){this.fc=b;this.Yc=[];du(this.Yc,a,lu,this);mu(this)}m(){this.fc=null;for(const a of this.Yc)a.m();ku.H(this.Yc);this.Yc=null}na(){return{keyframeDataItemsJson:this.Yc.map(a=>a.na())}}ra(a){a&&(eu(this.Yc,a.keyframeDataItemsJson,lu,this),mu(this))}};"use strict";const pu=self.B;
function Vr(a,b){if(a.zk){if(a.pn||null===a.pn)return a.pn;var c=a.zk.rr;if(!c)return a.pn=null,a.pn;var d=c.length;for(let e=0;e<d;e++){const f=c[e];if(f.Um()===b)return a.pn=f,a.pn}a.pn=null;return a.pn}}function Wr(a){const b=a.bl.ma.Lc();if("relative"===b)return a.Ba();if("absolute"===b)return a.ij}function Os(a,b){"color"===a.oa&&pu.tc(b)?(a.ij[0]=pu.VG(b),a.ij[1]=pu.PG(b),a.ij[2]=pu.LG(b)):a.ij=b}
class qu{constructor(a,b){this.bl=b;this.ij=this.Jc=null;this.oa="";this.Nd=NaN;this.Ek="noease";this.Fk=!1;this.zk=null;this.pn=void 0;this.CL="line";a&&(this.Jc=a[0][0],this.ij=a[0][1],this.oa=a[0][2],this.Nd=a[1],this.Ek=a[2],this.Fk=!!a[3],this.CL=a[5],this.zk=null,a[4]&&(this.zk=new pu.JV(a[4])),this.Tp=this.Rf=null)}m(){this.bl=null;this.zk&&(this.zk.m(),this.zk=null);this.Tp=this.Rf=null}Qt(a){this.Rf=a}oC(a){this.Tp=a}Ba(){return this.Jc}pe(a){"color"===this.oa&&pu.tc(a)?(this.Jc[0]=pu.VG(a),
this.Jc[1]=pu.PG(a),this.Jc[2]=pu.LG(a)):this.Jc=a}sc(){return this.oa}iQ(a){this.oa=a}Ea(){return this.Nd}fr(a){this.Nd=a;ru(this.bl)}Io(){return this.Ek}Nl(a){this.Ek=a}Sm(){return this.Fk}hn(a){this.Fk=!!a}na(){const a=this.zk;return{addonDataJson:a?a.na():a,value:this.Jc,aValue:this.ij,type:this.oa,time:this.Nd,ease:this.Ek,enable:this.Fk}}ra(a){a&&(a.addonDataJson&&this.zk.Zfa(a.addonDataJson),this.Jc=a.value,this.ij=a.aValue,this.oa=a.type,this.Nd=a.time,this.Ek=a.ease,this.Fk=a.enable)}}
function Ms(a){const b=new qu(null,a);a.Xb.push(b);ru(a);return b}function Ns(a,b){for(const c of a.Xb){if(!b(c))continue;const d=a.Xb.indexOf(c);-1!==d&&(c.m(),a.Xb.splice(d,1))}su(a);ru(a)}function ru(a){let b=a.Xb;b.sort((d,e)=>d.Ea()-e.Ea());for(var c=0;c<b.length;c++){const d=b[c];c+1<b.length&&d.Qt(b[c+1]);0<=c-1&&d.oC(b[c-1])}b=a.Up;b.sort((d,e)=>d.Ea()-e.Ea());for(a=0;a<b.length;a++)c=b[a],a+1<b.length&&c.Qt(b[a+1]),0<=a-1&&c.oC(b[a-1])}function su(a){a.Xb.sort((b,c)=>b.Ea()-c.Ea())}
pu.HP=class{constructor(a,b){this.ma=b;this.Xb=[];this.Up=[];du(this.Xb,a,qu,this);b=this.Up;var c=qu;if(a)for(const d of a)cu("create-including-disabled",d,b,c,this);ru(this)}m(){this.ma=null;for(const a of this.Xb)a.m();pu.H(this.Xb);this.Xb=null;for(const a of this.Up)a.m();pu.H(this.Up);this.Up=null}ek(){return this.Xb[this.Xb.length-1]}KB(){return this.Up}na(){const a=this.Up;return{propertyKeyframeDataItemsJson:this.Xb.map(b=>b.na()),propertyKeyframeDataItemsIncludingDisabledJson:a.map(b=>b.na())}}ra(a){a&&
(eu(this.Xb,a.propertyKeyframeDataItemsJson,qu,this),eu(this.Up,a.propertyKeyframeDataItemsIncludingDisabledJson,qu,this),ru(this))}};"use strict";const tu=self.B;class uu{constructor(a,b){this.zk=b;this.Lb=a[0];this.nf=a[1]}m(){this.nf=this.zk=null}Um(){return this.Lb}na(){return{id:this.Lb,data:this.nf}}ra(a){a&&(this.Lb=a.id,this.nf=a.data)}}
class vu extends uu{constructor(a,b){super(a,b);this.eA=this.nf[0];this.fA=!!this.nf[1];this.Fy=this.nf[2];this.Gy=!!this.nf[3]}m(){super.m()}na(){return Object.assign(super.na(),{startAnchor:this.eA,startEnable:!!this.fA,endAnchor:this.Fy,endEnable:!!this.Gy})}ra(a){a&&(super.ra(a),this.eA=a.startAnchor,this.fA=!!a.startEnable,this.Fy=a.endAnchor,this.Gy=!!a.endEnable)}}
class wu extends uu{constructor(a,b){super(a,b);this.qJ=this.nf[0];this.OL=this.nf[1]}m(){super.m()}na(){return Object.assign(super.na(),{direction:this.qJ,revolutions:this.OL})}ra(a){a&&(super.ra(a),this.qJ=a.direction,this.OL=a.revolutions)}}
tu.JV=class{constructor(a){this.rr=[];du(this.rr,a,{XU:0,map:new Map([["cubic-bezier",vu],["angle",wu]])},this)}m(){for(const a of this.rr)a.m();tu.H(this.rr);this.rr=null}na(){return{addonDataItemsJson:this.rr.map(a=>a.na())}}ra(a){a&&eu(this.rr,a.addonDataItemsJson,{XU:"id",map:new Map([["cubic-bezier",vu],["angle",wu]])},this)}};"use strict";const R=self.B;let xu=0;function yu(a){for(const b of a.mb){const c=d=>{d=d.Ea();const e=a.dd();return 0!==d&&d!==e};nu(b.fc.dk(),c);b.pB(c)}}
function zu(a,b){const c=a.Z();var d;if(d=R.eb.Ib){b:{if(d)for(const e of c.Kd)if(e.fg()instanceof d){d=e;break b}d=null}d=d?L(d):null}else d=null;d.eba(a);a.g.ua(b,c,d.Hg());d.Taa()}
R.p0=class extends R.Ro{constructor(a,b){super(`tween-${xu++}`,a,b);this.Lb="";this.oR=!1;this.hK="start-value";this.xb=this.VS=this.US=this.Xc=null}xO(a){const b=R.A(R.Event,"tweenstatereleased");b.Cja=this;a.dispatchEvent(b)}sc(){return 1}mO(){for(const a of ms(this.Od.Uw()))this.mb.push(R.rQ.Da(this,a));this.xb=this.mb[0]}Sd(){return this.xb.kb[0]}Z(){var a=this.mb;if(a&&a.length&&(this.xb=a=a[0])){var b=a.Z();return xs(a)?b:void 0}}Um(){return this.Lb}DP(){if(this.VS)for(const a of this.VS)a(this);
if(!this.Fh)for(const a of this.mb)a.$j()}wO(){if(!this.Gn&&(this.Gn=!0,this.US))for(const a of this.US)a(this)}fr(a){yu(this);super.fr(a)}nn(a){R.tc(a)||(a=this.dd());this.Nb=0>a?0:a>=this.dd()?this.dd():a;this.xb.pk()}Oc(a){if(!this.vp&&"current-state"===this.hK)for(const b of this.mb)b.Zj();super.Oc(a)}Gf(a=!1){super.Gf(a);if(!this.Fh)for(const b of this.mb)b.cr()}Dc(a=!0,b=!1){yu(this);super.Dc(a,b)}Jx(){if(this.Ce)return!0;const a=this.Z();if(a&&a.I().Cf())return!1;Dr(this.Ub,this);this.Dc(!1,
!0);return!0}Qg(a,b,c){this.Xc||(this.Xc=this.Z());if(!this.Xc||Un(this.Xc))this.Gf(!0),this.ep=this.g.Qi;else if(b=this.Xc.Ue,-1!==b&&(a=c*b),0!==a||0!==this.av){this.av=a;c=this.Nb+this.Kp+a*this.kd;a=this.Od.Qs;0>c?(this.Nb=0,this.Kp=-c):c>=a?(this.Nb=a,this.Kp=this.Nb-c):(this.Nb=c,this.Kp=0);b=c=!1;var d=this.yt(),e=this.zt();d||e?d&&!e?0<this.kd?this.Nb>=a&&(this.nn(0),zu(this,R.eb.Ib.D.Uq),zu(this,R.eb.Ib.D.Vq),b=!0):0>=this.Nb&&(this.nn(a),zu(this,R.eb.Ib.D.Uq),zu(this,R.eb.Ib.D.Vq),b=!0):
!d&&e?0<this.kd?this.Nb>=a&&(cs(this,a),this.nk(-1*this.kd),b=!0,1===this.Qb?this.Me<this.fi()?(this.Me++,zu(this,R.eb.Ib.D.Uq),zu(this,R.eb.Ib.D.Vq),zu(this,R.eb.Ib.D.dn),zu(this,R.eb.Ib.D.gn),this.Qb=0):(zu(this,R.eb.Ib.D.dn),zu(this,R.eb.Ib.D.gn),c=!0):0===this.Qb&&(zu(this,R.eb.Ib.D.dn),zu(this,R.eb.Ib.D.gn),this.Qb=1)):0>=this.Nb&&(cs(this,0),this.nk(-1*this.kd),b=!0,1===this.Qb?this.Me<this.fi()?(this.Me++,zu(this,R.eb.Ib.D.Uq),zu(this,R.eb.Ib.D.Vq),zu(this,R.eb.Ib.D.dn),zu(this,R.eb.Ib.D.gn),
this.Qb=0):(c=!0,zu(this,R.eb.Ib.D.dn),zu(this,R.eb.Ib.D.gn)):0===this.Qb&&(zu(this,R.eb.Ib.D.dn),zu(this,R.eb.Ib.D.gn),this.Qb=1)):d&&e&&(0<this.kd?this.Nb>=a&&(cs(this,a),this.nk(-1*this.kd),b=!0,0===this.Qb&&(zu(this,R.eb.Ib.D.dn),zu(this,R.eb.Ib.D.gn)),1===this.Qb&&(zu(this,R.eb.Ib.D.Uq),zu(this,R.eb.Ib.D.Vq),zu(this,R.eb.Ib.D.dn),zu(this,R.eb.Ib.D.gn)),this.Qb++,this.Qb=R.wrap(this.Qb,0,2)):0>=this.Nb&&(cs(this,0),this.nk(-1*this.kd),b=!0,0===this.Qb&&(zu(this,R.eb.Ib.D.dn),zu(this,R.eb.Ib.D.gn)),
1===this.Qb&&(zu(this,R.eb.Ib.D.Uq),zu(this,R.eb.Ib.D.Vq),zu(this,R.eb.Ib.D.dn),zu(this,R.eb.Ib.D.gn)),this.Qb++,this.Qb=R.wrap(this.Qb,0,2))):0<this.kd?this.Nb>=a&&(this.Me<this.fi()?(this.Me++,this.nn(0),zu(this,R.eb.Ib.D.Uq),zu(this,R.eb.Ib.D.Vq),b=!0):(cs(this,a),c=!0)):0>=this.Nb&&(this.Me<this.fi()?(this.Me++,this.nn(a),zu(this,R.eb.Ib.D.Uq),zu(this,R.eb.Ib.D.Vq),b=!0):(cs(this,0),c=!0));c?(this.xb.wx(),this.Gf(!0),this.ep=this.g.Qi):(this.xb.Ja(this.Nb,!0,!1,b,this.pg,!1),this.pg&&(this.pg=
!1))}}na(){const a=super.na();return Object.assign(a,{tweenDataItemJson:this.Od.na(),id:this.Lb,destroyInstanceOnComplete:this.oR,initialValueMode:this.hK})}ra(a){a&&(this.Od.ra(a.tweenDataItemJson),super.ra(a),this.Lb=a.id,this.oR=a.destroyInstanceOnComplete,this.hK=a.initialValueMode,this.xb=this.mb[0])}static IsPlaying(a){return a.IsPlaying()}};"use strict";const Au=self.B;function Bu(a){1===a.kb.length?a.Jy=a.kb[0]:(a.Jy=a.kb[0],a.TL=a.kb[1])}
Au.rQ=class extends Au.XH{constructor(a,b){super(a,b);this.TL=this.Jy=null}static Da(a,b){return Au.A(Au.rQ,a,b)}kO(){for(const a of Es(this.fc.cf()))this.kb.push(Au.qQ.Da(this,a));Bu(this)}Oc(){ws(this);if(xs(this)||!Xr(this)){var a=$r(this.gb())?0:this.Vm();for(const b of this.kb)b.Oc(a),0===this.Ag&&1===b.Ag&&(this.Ag=1),0===this.pc&&1===b.pc&&(this.pc=1);this.Qh=0;this.kb.some(b=>b.Qh)&&(this.Qh=1);this.Vk=zs(this,a);this.lp=this.cs=!1;this.Ja(a)}}Bq(){}Ja(a,b,c=!1,d=!1,e,f=!1,g=!1){this.Xc||
this.Z();if(this.Xc){if(Un(this.Xc)||f&&this.I().Cf())return!1;this.TL?(this.Jy.Ja(a,c,d,g),this.TL.Ja(a,c,d,g)):this.Jy.Ja(a,c,d,g);0!==this.Jy.Ag&&(this.Wa||(this.Wa=this.Xc.C()),this.Wa&&K(this.Wa))}}Aq(){}ra(a){super.ra(a);Bu(this)}};"use strict";const Cu=self.B;
Cu.qQ=class extends Cu.sb{constructor(a,b){super(a,b);this.Yx=!1}static Da(a,b){return Cu.A(Cu.qQ,a,b)}Ja(a,b=!1,c=!1,d=!1){if(this.Yx){var e=this.Xb[0];var f=this.Xb[1]}else{if(b)e=this.Hc.nh(a,this.ma);else{if(this.Ed){f=this.gb();const g=this.Ed.Rf;e=this.Ed.Ea();f=g?g.Ea():f.dd();if(a<=e||a>=f)this.Ed=this.Hc.nh(a,this.ma)}else this.Ed=this.Hc.nh(a,this.ma);e=this.Ed}f=e.Rf}this.Vf.Ja(a,e,f,b,c,d)}$N(){const a=Ms(Is(this.ma));this.Ed=null;this.Yx=2>=Js(this).length;return a}pB(a){this.Ed=null;
Ns(Is(this.ma),a);this.Yx=2>=Js(this).length}na(){return{sourceAdapterJson:this.Hb().na(),basic:this.Yx}}ra(a){a&&(this.Hb().ra(a.sourceAdapterJson),this.Yx=a.basic)}};"use strict";const Du=self.B,Eu=self.Eq;function Fu(a){a.Mz.clear();for(let c=0;c<a.Vh.length-1;c++){var b=a.Vh[c];if(!b.fA)continue;const d=a.Vh[c+1];d.Gy&&a.Mz.set(b,Eu.dX(b.yg,b.yg+b.BT,d.yg+d.tR,d.yg))}}function Gu(a,b){const c=a.FF.get(b);if(c)return c;for(const d of a.Vh)if(d.yg===b)return a.FF.set(b,d),d}
Du.YH=class extends Du.ta{constructor(a,b=!0){super();this.Ka=a[0];this.CS=a[2];this.Vh=[];for(var c of a[1])a=Du.pQ.Da(this,c),this.Vh.push(a);for(c=0;c<this.Vh.length;c++){a=this.Vh[c];const d=this.Vh[c-1];a.Qt(this.Vh[c+1]);a.oC(d)}this.Mz=new Map;this.FF=new Map;Fu(this);b&&Eu.EV(this.Ka,(d,e,f,g)=>this.Ja(d,e,f,g),{transition:this})}static Da(a){return Du.A(Du.YH,a)}m(){for(const a of this.Vh)a.m();Du.H(this.Vh);this.Vh=null;this.Mz.clear();this.Mz=null;this.FF.clear();this.FF=null}Ja(a,b,c,
d){var e=a/d;if(this.CS){var f=Gu(this,0);e=Gu(this,1);f=b+(b+c)*f.to;b=(b+c)*e.to-f;return 0===d?f+b:Eu.hP(a,f,b,d)}0===d&&(e=1);a:{for(a=this.Vh.length-1;0<=a;a--)if(f=this.Vh[a],d=f.yg,d<=e){if(d<e){a=f;break a}if(d===e){for(;f;){a=f.Tp;if(!a)break;if(a.yg!==f.yg)break;f=a}a=f;break a}}a=void 0}d=a.Rf;d||(d=a,a=a.Tp);f=d.yg-a.yg;e=Du.u4(e,a.yg,d.yg,f);if("linear"===a.Q2||0===f)return a=b+(b+c)*a.to,b=(b+c)*d.to-a,0===f?1===e?a+b:a:Eu.hP(e,a,b,f);f=a.yg;const g=a.to,h=a.yg+a.BT,k=a.to+a.S2,l=d.yg+
d.tR,m=d.to+d.Q1,n=d.yg;d=d.to;e=Eu.Wm("spline")(e,f,g,h,k,l,m,n,d,this.Mz.get(a));e+=a.to;return(1-e)*b+e*(b+c)}};"use strict";const Hu=self.B;Hu.pQ=class extends Hu.ta{constructor(a,b){super();this.yg=b[0];this.to=b[1];this.BT=b[2];this.S2=b[3];this.tR=b[4];this.Q1=b[5];this.fA=b[6];this.Gy=b[7];this.Q2=b[8];this.Tp=this.Rf=null}m(){}static Da(a,b){return Hu.A(Hu.pQ,a,b)}Qt(a){this.Rf=a}oC(a){this.Tp=a}};"use strict";const Iu=self.B;
Iu.o0=class extends Iu.ta{constructor(a){super();this.g=a;this.GF=[]}m(){for(const a of this.GF)a.m();Iu.H(this.GF);this.GF=null}Da(a){this.GF.push(Iu.YH.Da(a))}};"use strict";const Ju=self.B;function Ku(a){return a.Ni?0!==a.Ni.size:!1}function Lu(a,b,c){b=b instanceof Ju.kx?b.Fa():b;if(a.Ni.has(b)&&(a=a.Ni.get(b).get(c)))return JSON.parse(JSON.stringify(a))}function Mu(a,b,c){a.Mn||(a.Mn=new WeakMap);a.Mn.has(b)||a.Mn.set(b,c)}
Ju.c0=class extends Ju.ta{constructor(a){super();this.g=a;this.Mn=this.Ni=null;this.Tu=b=>this.CC(b.instance)}m(){this.DH();if(this.Ni){for(const a of this.Ni.values())a.clear();this.Ni.clear()}this.g=this.Ni=null}Da(a){this.Ni||(this.Ni=new Map);if(a){var b=a[0][16][0],c=a[1];this.Ni.has(c)||this.Ni.set(c,new Map);this.Ni.get(c).set(b,a)}}vG(){const a=this.g.cb();a&&a.addEventListener("instancedestroy",this.Tu)}DH(){const a=this.g.cb();a&&a.removeEventListener("instancedestroy",this.Tu)}CC(a){this.Mn&&
this.Mn.has(a)&&this.Mn.delete(a)}};"use strict";const Nu=self.B;Nu.RW=class{constructor(a){this.g=a;this.Gu=new Nu.QW}m(){this.Gu.m();this.g=this.Gu=null}G(){return this.g}Da(a){this.Gu.Gb(a)}$G(){return this.Gu.$G()}};"use strict";const Ou=self.B;function Pu(a,b){"number"===typeof b?((b=a.Hq(b))||(b=a.Hn.GB()),a.tF=b):((b=a.Hn.OG(a.dM))||(b=a.Hn.GB()),a.tF=b)}function Qu(a){"string"===typeof a.Hs&&a.Hs&&(a.Qz=a.Dd.we.get(a.Hs),a.Hs="");return a.Qz?a.Qz:a}
function Ru(a,b){if(Su(a)){for(var [,c]of Su(a).entries())Ru(c,!1);Su(a).clear()}a.Sf=null;a.yv=null;a.$l=null;a.Bs="";a.Cv=null;a.Gr="";a.Hs="";a.As=[];if(b){if(Tu(a.Dd,a),c=a.tF.op,c!==a.Fr){b=a.Fr;var d=a.IB().Z();a.Uv++;a.Dd.pp.push(a);a.g.ua(Ou.j.ak.D.R$,d);a.g.ua(Ou.j.ak.D.U$,d);a.g.ua(Ou.j.ak.D.S$,d);a.g.ua(Ou.j.ak.D.V$,d);a.Fr=c;a.g.ua(Ou.j.ak.D.mZ,d);a.g.ua(Ou.j.ak.D.VZ,d);a.g.ua(Ou.j.ak.D.O$,d);a.g.ua(Ou.j.ak.D.daa,d);a.Dd.pp.pop();Uu(a);if(!a.kn()&&(c=a.Hq(a.Fr),"reference"===c.sc()))if(d=
c.iT,Vu(a),a.Sf&&a.Sf.has(c))a.As.pop(),Vu(a),c=a.Sf.get(c),Tu(a.Dd,c,!0,!0,!1),c.yv=a,c.zv=b,a=Qu(a),a.$l=c,a.$l===a&&(a.$l=null);else{const f=c.jT;if(d){a.As.pop();let g=c.kT;if(g)for(var e=a.Dd.we.get(g);e;)g=Ou.VO(g),e=a.Dd.we.get(g);else for(g=`${d}-ref`,e=a.Dd.we.get(g);e;)g=Ou.VO(g),e=a.Dd.we.get(g);d=Wu(a.Dd,d,f,g,a.$n,!0);d.yv=a;d.zv=b;a.Sf||(a.Sf=new Map);a.Sf.set(c,d);a=Qu(a);d.Qz=a;a.$l=d;a.$l===a&&(a.$l=null)}}}}else a.Fr=a.tF.op}function Su(a){Vu(a);return a.Sf}
function Uu(a){a.Uv--;if(0===a.Uv&&a.bL){var b=a.Dd;a.bL=!0;0<a.Uv||(b.we.delete(a.$d),a.m(),b.re===a&&(b.re=null))}}function Xu(a){"string"===typeof a.Bs&&a.Bs&&(a.yv=a.Dd.we.get(a.Bs),a.Bs="");return a.yv}function Yu(a){"string"===typeof a.Gr&&a.Gr&&(a.$l=a.Dd.we.get(a.Gr),a.Gr="");return a.$l}function Vu(a){if(a.Cv){a.Sf&&a.Sf.clear();a.Sf||(a.Sf=new Map);for(const b of a.Cv){const c=a.Dd.we.get(b.flowchartStateTag),d=c.Hq(b.flowchartElementId);a.Sf.set(d,c)}a.Cv=null}}
Ou.UW=class{constructor(a,b,c,d,e,f,g){this.g=e.G();this.Dd=e;this.CJ=a;this.dM=c;this.Hn=d;this.$d=b;this.$n=f;this.dT=g??f.Z().zc;Pu(this);this.Fr=this.tF?.CO()??-1;this.As=[];this.yv=null;this.zv=NaN;this.Qz=this.$l=this.Sf=null;this.Bs="";this.Cv=null;this.Hs=this.Gr="";this.Uv=0;this.Ce=this.bL=!1}m(){this.Ce||(Ou.H(this.As),this.yv=this.$n=this.Hn=this.Dd=this.g=this.As=null,this.zv=NaN,this.Sf&&this.Sf.clear(),this.Qz=this.$l=this.Sf=null,this.Bs="",this.Cv=null,this.Hs=this.Gr="",this.Ce=
!0)}kn(){return this.Ce}G(){return this.g}ea(){return this.CJ}IB(){this.$n||(this.$n=L(us(this.g,this.dT)));return this.$n}Hq(a){return this.Hn.Hq(a)}Dc(){Ru(Qu(this),!0)}na(){if(this.bL)var a=null;else{a=this.CJ;var b=this.$d,c=this.dM,d=this.Fr,e=this.As,f=this.$n.Z().zc,g=Xu(this)?Xu(this).$d:"",h=Ou.tc(this.zv)?this.zv:NaN;Vu(this);if(this.Sf){var k=[];for(const [l,m]of Su(this).entries())k.push({flowchartElementId:l.op,flowchartStateTag:m.$d});k=k.length?k:null}else k=null;a={flowchartName:a,
flowchartTag:b,startNodeTag:c,currentNodeId:d,previousNodeIds:e,pluginUID:f,reference:{previousFlowchartTag:g,previousStartNodeId:h,referencesJson:k,currentReferenceFlowchartTag:Yu(this)?Yu(this).$d:"",rootFlowchartTag:Qu(this)?Qu(this).$d:""}}}return a}ra(a){a&&(this.CJ=a.flowchartName,this.$d=a.flowchartTag,this.dM=a.startNodeTag,this.Fr=a.currentNodeId,this.As=a.previousNodeIds,this.dT=a.pluginUID,a.hasOwnProperty("reference")&&(a=a.reference,this.Bs=a.previousFlowchartTag,this.zv=a.previousStartNodeId,
this.Cv=a.referencesJson,this.Gr=a.currentReferenceFlowchartTag,this.Hs=a.rootFlowchartTag),Pu(this))}};"use strict";const Zu=self.B;function Tu(a,b,c=!1,d=!1,e=!0){e&&(b=(e=Yu(b))?e:b);b!==a.re&&(a.re&&!a.re.kn()&&(e=a.re.IB().Z(),a.re.Uv++,a.pp.push(a.re),a.g.ua(Zu.j.ak.D.T$,e),a.pp.pop(),Uu(a.re)),$u(a,b,c,d))}
function Wu(a,b,c,d,e,f,g){const h=a.g.Dd.Gu.T(b);if(h)if(a.we.has(d))console.warn(`[Flowcharts] there already is a flowchart with the tag '${d}'`);else return b=new Zu.UW(b,d,c,h,a,e,g),a.we.set(d,b),f&&Tu(a,b,!0),b;else console.warn(`[Flowcharts] no flowchart found with name '${b}'`)}
function $u(a,b,c=!1,d=!1){a.re=b;a.re&&!a.re.kn()&&(b=a.re.IB().Z(),a.re.Uv++,a.pp.push(a.re),a.g.ua(Zu.j.ak.D.$$,b),!0!==d&&"number"!==typeof d||Pu(a.re,d),c&&(a.g.ua(Zu.j.ak.D.mZ,b),a.g.ua(Zu.j.ak.D.VZ,b)),a.pp.pop(),Uu(a.re))}
Zu.P7=class{constructor(a){this.g=a;this.we=new Map;this.re=null;this.pp=[];this.TS=()=>this.Ah();this.vz=null}m(){Zu.H(this.pp);this.pp=null;this.we.clear();this.vz=this.g=this.re=this.we=null}G(){return this.g}na(){return{flowchartJsonObjects:[...this.we.values()].map(a=>a.na()),currentFlowchartTag:this.re?this.re.$d:null}}ra(a){if(a){this.vz=a;a=new Map;for(const c of this.vz.flowchartJsonObjects){var b=c.flowchartTag;if(this.we.has(b)){const d=this.we.get(b);d.ra(c);a.set(b,d)}else b=Wu(this,
c.flowchartName,c.startNodeTag,c.flowchartTag,null,!1,c.pluginUID),b.ra(c),a.set(c.flowchartTag,b)}for(const [c,d]of this.we.entries())a.has(c)||d.m();this.we.clear();this.we=a;this.g.Di?this.g.cb().addEventListener("afterload",this.TS):this.Ah()}}Ah(){this.g.cb().removeEventListener("afterload",this.TS);const a=this.we.get(this.vz.currentFlowchartTag);a&&Tu(this,a,!0);this.vz=null}};"use strict";const av=self.B;
av.QW=class{constructor(){this.Fu=new Map}m(){for(const a of this.Fu.values())a.m();this.Fu.clear();this.Fu=null}Gb(a){a=new av.PW(a);this.Fu.set(a.ea(),a)}T(a){return this.Fu.get(a)}$G(){return!!this.Fu.size}};"use strict";const bv=self.B;bv.PW=class{constructor(a){this.Ka=a[0];this.Qr=new bv.SW(a[1],this)}m(){this.Qr.m();this.Qr=null}Hq(a){return this.Qr.Hq(a)}OG(a){return this.Qr.OG(a)}GB(){return this.Qr.GB()}ea(){return this.Ka}};"use strict";const cv=self.B;
class dv{constructor(a,b){this.Qr=b;this.oa=a[7];this.op=a[0];this.$d=a[1];this.s2=a[6];this.kT=this.jT=this.iT=null;"reference"===this.oa&&(this.iT=a[8],this.jT=a[9],this.kT=a[10]);this.EJ=new cv.TW(a[5])}m(){this.Qr=null}CO(){return this.op}sc(){return this.oa}}
cv.SW=class{constructor(a,b){this.Hn=b;this.Ly=[];this.DJ=new Map;this.BR=new Map;this.CR=null;b=this.Ly;var c=dv;if(a)for(var d of a)a=new c(d,this),b.push(a);for(const e of this.Ly){d=e.$d;a=e.s2;this.DJ.set(e.op,e);d&&this.BR.set(d,e);a&&(this.CR=e);d=e.EJ;for(const f of ev(d))this.DJ.set(f.op,f)}}m(){this.Hn=null;for(const a of this.Ly)a.m();cv.H(this.Ly);this.Ly=null}Hq(a){return this.DJ.get(a)}OG(a){return this.BR.get(a)}GB(){return this.CR}};"use strict";const fv=self.B;
class gv{constructor(a,b){this.EJ=b;this.op=a[0];this.Ka=a[1];this.Jc=a[2]}m(){this.EJ=null}CO(){return this.op}ea(){return this.Ka}Ba(){return this.Jc}}function*ev(a){for(const b of a.Hu)yield b}fv.TW=class{constructor(a){this.Hu=[];this.V1=new Map;var b=this.Hu,c=gv;if(a)for(const d of a)a=new c(d,this),b.push(a);for(const d of this.Hu)this.V1.set(d.ea(),d)}m(){for(const a of this.Hu)a.m();fv.H(this.Hu);this.Hu=null}};"use strict";const hv=self.B;function iv(a){return a.wb[a.la-1]}
function jv(a){var b=a.wb,c=++a.la;c===b.length?(c=hv.A(hv.UH,a),b.push(c),a.Dk=c):(b=b[c],b.Dc(),a.Dk=b)}hv.W_=class extends hv.ta{constructor(a){super();this.J=a;this.wb=[];this.wb.push(hv.A(hv.UH,this));this.la=0;this.Dk=this.wb[0]}m(){for(const a of this.wb)a.m();hv.H(this.wb);this.J=this.Dk=null}I(){return this.J}Y(){return this.Dk}fe(){this.Y().fe()}La(){this.Dk=this.wb[--this.la]}$q(a){const b=this.wb;for(let c=0,d=b.length;c<d;++c)b[c].$q(a)}};"use strict";const kv=self.B;
function lv(a){kv.H(a.L);kv.H(a.Kb)}function mv(a){const b=a.qa();return b.length?b:a.Kb}function nv(a,b){a.pb=!1;kv.H(a.L);a.L.push(b)}function ov(a,b){a.pb=!1;kv.wd(a.L,b)}function pv(a,b){a.pb=!1;kv.H(a.L);for(const c of b)a.L.push(c)}function qv(a,b){var c=rv;for(const d of b)c.has(d)||a.Kb.push(d)}function sv(a,b){b&&(ao(a.je).Ob().qf?(a.pb&&(kv.H(a.L),kv.wd(a.Kb,b.I().qa()),a.pb=!1),b=a.Kb.indexOf(b),-1!==b&&(a.L.push(a.Kb[b]),a.Kb.splice(b,1))):nv(a,b))}
kv.UH=class extends kv.ta{constructor(a){super();this.wb=a;this.J=this.wb.I();this.je=this.J.G().Ac();this.pb=!0;this.L=[];this.Kb=[]}m(){lv(this);this.je=this.J=this.wb=null}I(){return this.J}qa(){return this.pb?this.J.qa():this.L}Dc(){this.pb=!0;kv.H(this.Kb)}fe(){this.pb=!0}rw(a){a.pb?this.Dc():(this.pb=!1,kv.wd(this.L,a.L),kv.H(this.Kb))}$q(a){kv.Yh(this.L,a);kv.Yh(this.Kb,a)}};"use strict";const tv=self.B;function ao(a){return a.wb[a.la]}
tv.KW=class extends tv.ta{constructor(a){super();this.Na=a;this.g=this.Na.G();this.wb=[];this.wb.push(tv.A(tv.uO,this,null));this.la=0;this.vD=[]}m(){for(const a of this.wb)a.m();tv.H(this.wb);tv.H(this.vD);this.g=this.Na=null}pa(){return this.Na}G(){return this.g}Ra(a){var b=this.wb;const c=++this.la;if(c===b.length)return a=tv.A(tv.uO,this,a),b.push(a),a;b=b[c];b.Dc(a);return b}La(){--this.la}};"use strict";const uv=self.B;
function vv(a){const b=a.Hf;return b.qE?!0:a.Ke<b.Ec.length-1?!!b.Mc().length:!1}function wv(a,b){a.If=b}uv.uO=class extends uv.ta{constructor(a,b){super();this.wb=a;this.g=this.wb.G();this.Hf=b;this.jf=this.Ke=0;this.kp=this.Oh=!1;this.xJ=null;this.OJ=this.IR=0;this.If=null}m(){this.Dc(null);this.g=this.wb=null}Dc(a){this.Hf=a;this.jf=this.Ke=0;this.kp=this.Oh=!1;this.If=null}sI(a,b){this.Hf=a;this.Ke=0;this.jf=b}Ob(){return this.Hf}nC(a){this.OJ=a}};"use strict";const xv=self.B;
xv.IY=class extends xv.ta{constructor(a){super();this.Na=a;this.g=this.Na.G();this.wb=[];this.la=-1;this.Dk=null;this.VD=[]}m(){xv.H(this.wb);this.g=this.Na=null}pa(){return this.Na}G(){return this.g}tt(){return this.Dk}Ra(){const a=++this.la,b=this.wb;a===b.length?b.push(this.VD.slice(0)):xv.wd(b[a],this.VD);this.Dk=b[a]}La(){this.Dk=this.wb[--this.la]}};"use strict";const yv=self.B;
yv.LY=class extends yv.ta{constructor(a){super();this.Na=a;this.g=this.Na.G();this.wb=[];this.la=-1}m(){yv.H(this.wb);this.g=this.Na=null}pa(){return this.Na}G(){return this.g}tt(){return this.wb[this.la]}Ra(){++this.la;if(this.la===this.wb.length){var a=yv.A(yv.KY,this);this.wb.push(a);return a}a=this.wb[this.la];a.Dc();return a}La(){--this.la}};"use strict";const zv=self.B;
zv.KY=class extends zv.ta{constructor(a){super();this.Qf=a;this.Ka="";this.la=0;this.jd=!1}Dc(){this.Ka="";this.la=0;this.jd=!1}yx(a){this.Ka=a}ea(){return this.Ka}Fa(){return this.la}Gf(){this.jd=!0}};"use strict";const Av=self.B;Av.OV=class extends Av.ta{constructor(){super();this.wb=[];this.la=-1}m(){Av.H(this.wb)}tt(){return this.wb[this.la]}Ra(){++this.la;if(this.la===this.wb.length){const a=[];this.wb.push(a);return a}return this.wb[this.la]}La(){--this.la}};"use strict";const Bv=self.B;
function Cv(a,b){return a.Fa()-b.Fa()}function gm(a,b){b?a.RC++:a.RC--}function im(a){return 0<a.eo||0<a.Ne}function hr(a,b){for(const [c,d,e]of a.bF)a.Px(b,c,d,e);Bv.H(a.bF)}function mr(a){for(const b of a.Th)b.m();Bv.H(a.Th)}function Dv(a,b){switch(b.PJ){case 0:a.Nu.set(b.Wr.toLowerCase(),b);break;case 1:a.vy.set(b.Wr.toLowerCase(),b)}}
function Ev(a,b){2<=b.length&&b.sort(Cv);let c=a.SQ.get(b.length);c||(c=[],a.SQ.set(b.length,c));for(let d=0,e=c.length;d<e;++d){const f=c[d];a:{for(let g=0,h=b.length;g<h;++g)if(b[g]!==f[g]){a=!1;break a}a=!0}if(a)return f}c.push(b);return b}function Fv(a){const b=[];for(a=a.Jq();a;)Bv.wo(b,a.DQ()),a=a.Jq();return b}function Gv(a){const b={};for(const c of Fv(a))b[c.ck()]=Hv(c);return Object.create(Object.prototype,b)}
function Iv(a,b,c){let d=a.vy.get((b.ea()+"."+c).toLowerCase());if(d)return d;if(!b.Oa)for(const e of b.yi)if(d=a.vy.get((e.ea()+"."+c).toLowerCase()))return d;return null}function*Jv(a,b){for(const c of sr(b))if(b=c.rd)a.g.En.push(c),yield*b.ob(),Kv(a.g)}async function Lv(a,b){for(const c of a.Zt)c.Ou=!1;a.eo++;for(const c of Jv(a,b))await Mv(a.g,c);a.eo--}function Nv(a,b,c,d){a.bF.push([b,c,d]);return!1}function Ov(a,b,c,d){let e=null;const f=new Promise(g=>e=g);a.aF.push([b,c,d,e]);return f}
function*Pv(a){if(Qv(a.g))throw Error("should not be in breakpoint");const b=a.g.jb;for(;a.aF.length;){const [c,d,e,f]=a.aF.shift(),g=yield*a.Fx(b,c,d,e);f(g)}}async function Rv(a){for(const b of Pv(a))await Mv(a.g,b)}function Sv(a){for(let b=0,c=a.length;b<c;++b)a[b].gl.fe()}function Tv(a){for(let b=0,c=a.length;b<c;++b)jv(a[b].gl)}function Uv(a){for(let c=0,d=a.length;c<d;++c){var b=a[c].gl;const e=b.wb,f=++b.la;f===e.length&&e.push(hv.A(hv.UH,b));const g=e[f];g.rw(e[f-1]);b.Dk=g}}
function Vv(a){for(let b=0,c=a.length;b<c;++b)a[b].gl.La()}function Wv(a,b){const c=new Set,d=a.je.wb;a=a.je.la;for(let e=0;e<=a;++e){const f=d[e].If;if(f)for(const g of f)b&&b.has(g)||c.add(g)}return c}function Xv(a,b){b=new Set([...b]);a=Wv(a,b);if(0<a.size){for(const c of a)jv(c.gl);return[...a]}return null}function Yv(a){const b=Bv.A(Bv.YP,a);a.Th.push(b);return b}function Zv(a){a=Bv.l3(a.Th,b=>b.Wz);for(const b of a)b.m()}
async function $v(a){if(a.Th.length){var b=a.Jg(),c=!1;a.eo++;for(let d=0,e=a.Th.length;d<e;++d){const f=a.Th[d];aw(f)&&await ew(f,b);f.Wz&&(c=!0)}c&&(Zv(a),b.Dc(null));a.eo--}}function fw(a){return a.Th.filter(b=>"promise"!==b.oa).map(b=>b.na())}function gw(a){for(;a;)if(a=a.Jq(),a instanceof Bv.Gq)return a;return null}
Bv.JW=class extends Bv.ta{constructor(a){super();this.g=a;this.Zt=[];this.nF=new Map;this.HI=[];this.TJ=new Map;this.OI=new Map;this.$I=new Map;this.HC=new Map;this.SQ=new Map;this.Hy=new Map;this.F2=0;this.GI=[];this.QQ=[];this.ES=[];this.Nu=new Map;this.vy=new Map;this.je=Bv.A(Bv.KW,this);this.ke=Bv.A(Bv.IY,this);this.Qf=Bv.A(Bv.LY,this);this.pM=[];this.bF=[];this.aF=[];this.RC=this.Ne=this.eo=0;this.Th=[];this.tn=[];this.pF=[];this.oF=new Map;self.c3_callFunction=(b,c)=>this.BC(b,c)}m(){mr(this);
this.je.m();this.je=null;this.ke.m();this.ke=null;Bv.H(this.bF);Bv.H(this.aF);this.g=null;Bv.H(this.Zt);this.nF.clear()}Da(a){a=Bv.A(Bv.IW,this,a);this.Zt.push(a);this.nF.set(a.ea().toLowerCase(),a)}ic(){for(var a of this.vy.values())if(a.J&&a.J.Oa)for(var b of a.J.fm)if(hw(b,a.Wo)){a.YJ=!0;break}for(const c of this.Nu.values())c.ic();for(const c of this.vy.values())c.ic();for(const c of this.Zt)c.ic();for(const c of this.Zt)cr(c);for(const c of this.pM)c.ic(!1);Bv.H(this.pM);a=this.ke;a.VD=this.ES;
b=a.VD.slice(0);a.wb.push(b);a.la=0;a.Dk=b}G(){return this.g}Ac(){return this.je}Jg(){return ao(this.Ac())}Ob(){return this.Jg().Ob()}Ig(){const a=this.Jg();return iw(a.Ob(),a.Ke)}Ew(){const a=this.Jg();return jw(a.Ob(),a.jf)}Px(a,b,c,d){let e=!1;if(!a.Wb())return Nv(this,b,c,d);this.Ne++;for(const f of sr(a))if(a=f.rd){this.g.En.push(f);for(const g of a.mD){const h=g.Px(b,c,d);e=e||h}a=a.Px(b,c,d);e=e||a;Kv(this.g)}this.Ne--;return e}*Fx(a,b,c,d){let e=!1;if(!a.Wb())return Nv(this,b,c,d);this.Ne++;
for(const f of sr(a))if(a=f.rd){this.g.En.push(f);for(const g of a.mD){const h=yield*g.Fx(b,c,d);e=e||h}a=yield*a.Fx(b,c,d);e=e||a;Kv(this.g)}this.Ne--;return e}rC(a){a=a.toLowerCase();this.pF.push(a);this.g.ua(Bv.j.Ma.D.TZ,null);this.pF.pop();for(var b of this.g.pa().Th)"signal"===b.oa&&b.Xz===a&&(b.Xu=!0);if(b=this.oF.get(a))b.resolve(),this.oF.delete(a)}uQ(a){a=a.toLowerCase();var b=this.oF.get(a);if(b)return b.promise;let c=null;b=new Promise(d=>c=d);this.oF.set(a,{promise:b,resolve:c});return b}na(){const a=
{};for(var b of this.HI)a[b.lb.toString()]=b.Ft();b={};for(const [e,f]of this.$I){var c=f.na();c&&(b[e.toString()]=c)}c={};for(const [e,f]of this.HC){var d=f.na();d&&(c[e.toString()]=d)}d={};for(const [e,f]of this.Hy)f.Cb||!f.Cf()&&!f.Hl()||(d[e.toString()]=f.Ba());return{groups:a,cnds:b,acts:c,vars:d,waits:fw(this)}}ra(a){var b=a.groups;for(const [e,f]of Object.entries(b))(b=(b=this.OI.get(parseInt(e,10)))&&b.Qk?b:null)&&b.Pt(f);b=a.cnds;var c=new Map;for(const [e,f]of Object.entries(b))c.set(parseInt(e,
10),f);for(const [e,f]of this.$I)f.ra(c.get(e)||null);b=a.acts;c=new Map;for(const [e,f]of Object.entries(b))c.set(parseInt(e,10),f);for(const [e,f]of this.HC)f.ra(c.get(e)||null);b=a.vars;for(const [e,f]of Object.entries(b))(b=this.Hy.get(parseInt(e,10))||null)&&b.pe(f);a=a.waits;mr(this);for(const e of a){a:if(a=this.G(),c=this.OI.get(e.ev)||null){var d=0;if(e.hasOwnProperty("act")){b=this.HC.get(e.act)||null;if(!b){a=null;break a}d=b.Fa()}b=kw.A(kw.YP,this);b.Nd=e.t;b.oa=-1===b.Nd?"signal":"timer";
b.Xz=e.st;b.Xu=e.s;b.Gk=c;b.jf=d;for(const f of e.sm)(c=Vq(a,f))&&b.Se.push(c);if(Array.isArray(e.dsm))for(const f of e.dsm)if(c=Vq(a,f))b.If||(b.If=new Set),b.If.add(c);for(const [f,g]of Object.entries(e.sols))if(c=Vq(a,parseInt(f,10)))d=kw.A(kw.lQ,null),d.ra(this,g),b.Is.set(c,d);a=b}else a=null;a&&this.Th.push(a)}}BC(a,b){Array.isArray(b)||(b=[]);a=this.Nu.get(a.toLowerCase().toLowerCase())||null;if(!a)return null;if(!a.$m())return lw(a);var c=a.Wg;if(b.length<c.length){b=b.slice(0);do b.push(c[b.length].Ln);
while(b.length<c.length)}c=a.Fe();return c.GH(c.Td(),!1,a.fl,lw(a),...b)}};"use strict";const mw=self.B;function cr(a){mw.H(a.mD);ow(a,a);a.TQ.clear()}
function pw(a,b,c,d){switch(b[0]){case 0:case 3:b=mw.zl.Da(a,c,b);if(b.qf){d.push(b);d=b.Ec;for(let e=0,f=d.length;e<f;++e)d[e].Rq()&&qw(a,b,e)}else b.Rq()?qw(a,b,0):d.push(b);break;case 1:a=mw.xw.Da(a,c,b);d.push(a);break;case 2:a=mw.sO.Da(a,c,b);d.push(a);break;case 4:d=rw.A(rw.Gq,a,c,b);sw(d,b[1]);Dv(a.Na,d);break;case 5:a=mw.tO.Da(a,c,b);d.push(a);break;case 6:d=rw.A(rw.Gq,a,c,b);tw(d,b[1]);Dv(a.Na,d);break;default:throw Error("invalid event type");}}
function qw(a,b,c){b.qf||a.Na.pM.push(b);var d=iw(b,c),e=d.Va;const f=d.I();if(d.hS){var g=a.zR.get(f);g||(g=new Map,a.zR.set(f,g));a=d.Ca;if(!a.length)throw Error("no parameters");a=uw(a[0].wJ)().toLowerCase();d=g.get(e);d||(d=new Map,g.set(e,d));e=d.get(a);e||(e=[],d.set(a,e));e.push([b,c])}else g=a.IF.get(f),g||(g={rN:new Map,FA:new Map},a.IF.set(f,g)),(d=d.Hg())?(a=g.FA.get(d),a||(a=new Map,g.FA.set(d,a))):a=g.rN,g=a.get(e),g||(g=[],a.set(e,g)),g.push([b,c])}
function ow(a,b){const c=b.mD,d=b.TQ;for(const e of a.uT)a=e.Xy,e.Pb&&b!==a&&!d.has(a)&&(d.add(a),ow(a,b),c.push(a))}function vw(a,b,c,d,e){d=a.IF.get(d);if(!d)return!1;e=e?d.FA.get(e):d.rN;if(!e)return!1;e=e.get(b);if(!e)return!1;b=!1;for(const [f,g]of e)e=ww(a,c,f,g),b=b||e;return b}
function ww(a,b,c,d){const e=a.g;a=a.Na;const f=a.Ob(),g=a.Ac(),h=a.Ne;let k=!1;f&&Tv(f.Td());Tv(c.Td());const l=1<h;l&&a.ke.Ra();const m=g.Ra(c);b&&(nv(c.Ec[d].I().Y(),b),b.Bc()&&xw(b));b=!0;if(c.ya()){const n=c.Ss;for(let p=0,q=n.length;p<q;++p)if(!yw(n[p],m)){b=!1;break}}b&&(c.qf?(m.Hf=c,m.Ke=d,c.Ec[d].Aa()&&(c.yk(m,0)&&zw(c),m.Oh=!0)):c.Aa(m),k=m.Oh);g.La();l&&a.ke.La();Vv(c.Td());f&&Vv(f.Td());f||1!==h||(Bv.H(a.tn),0<a.RC||jm(e));return k}
function*Aw(a,b,c,d,e){d=a.IF.get(d);if(!d)return!1;e=e?d.FA.get(e):d.rN;if(!e)return!1;e=e.get(b);if(!e)return!1;b=!1;for(const [f,g]of e)e=f.dg()?ww(a,c,f,g):yield*Bw(a,c,f,g),b=b||e;return b}
function*Bw(a,b,c,d){const e=a.g;a=a.Na;const f=a.Ob(),g=a.Ac(),h=a.Ne;let k=!1;f&&Tv(f.Td());Tv(c.Td());const l=1<h;l&&a.ke.Ra();const m=g.Ra(c);b&&(nv(c.Ec[d].I().Y(),b),b.Bc()&&xw(b));b=!0;if(c.ya()){const n=c.Ss;for(let p=0,q=n.length;p<q;++p)if(!(yield*Cw(n[p],m))){b=!1;break}}b&&(c.qf?yield*Dw(c,m,d):yield*c.ob(m),k=m.Oh);g.La();l&&a.ke.La();Vv(c.Td());f&&Vv(f.Td());f||1!==h||(Bv.H(a.tn),0<a.RC||jm(e));return k}
mw.IW=class extends mw.ta{constructor(a,b){super();this.Na=a;this.g=a.G();this.Ka=b[0];this.uD=[];this.IF=new Map;this.zR=new Map;this.vR=new Map;this.Ou=!1;this.uT=[];this.mD=[];this.TQ=new Set;for(const c of b[1])pw(this,c,null,this.uD);this.al=this.g.Fb?{type:"sheet",name:this.Ka,YA:0,children:[]}:null}m(){this.g=this.Na=null}ic(){const a=this.uD;for(let b=0,c=a.length;b<c;++b)a[b].ic(b<c-1&&a[b+1]instanceof mw.zl&&a[b+1].XB())}pa(){return this.Na}G(){return this.g}ea(){return this.Ka}Aa(){if(!this.Ou){var a=
this.g,b=Ew(a),c=b?performance.now():0;this.Ou=!0;var d=this.pa(),e=d.Jg();for(const f of this.uD)f.Aa(e),Sv(f.Mc()),Bv.H(d.tn),jm(a);e.Dc(null);b&&(this.al.YA+=performance.now()-c)}}*ob(){if(!this.Ou){this.Ou=!0;var a=this.g,b=this.pa(),c=b.Jg();for(const d of this.uD)yield*d.ob(c),Sv(d.Mc()),Bv.H(b.tn),jm(a);c.Dc(null)}}Px(a,b,c){if(b){const d=b.I();vw(this,a,b,d,c);for(const e of d.yi)vw(this,a,b,e,c)}else return vw(this,a,b,null,null)}*Fx(a,b,c){if(b){const d=b.I();yield*Aw(this,a,b,d,c);for(const e of d.yi)yield*Aw(this,
a,b,e,c)}else return yield*Aw(this,a,b,null,null)}};"use strict";const Fw=self.B,Gw=[];function Hw(){return!0}function*Iw(){return!0}function iw(a,b){b=Math.floor(b);if(0>b||b>=a.Ec.length)throw new RangeError("invalid condition index");return a.Ec[b]}function jw(a,b){b=Math.floor(b);if(0>b||b>=a.wc.length)throw new RangeError("invalid action index");return a.wc[b]}
function yw(a,b){b.Hf=a;const c=a.Ec;let d=0===c.length;for(let e=0,f=c.length;e<f;++e){const g=c[e];b.Ke=e;if(g.lE)throw Error("trigger cannot be used as sub-event to a loop");if(g.Aa())d=!0;else if(!a.qf)return!1}return a.qf?d:!0}function*Cw(a,b){b.Hf=a;const c=a.Ec;let d=0===c.length;for(let e=0,f=c.length;e<f;++e){const g=c[e];b.Ke=e;if(g.lE)throw Error("trigger cannot be used as sub-event to a loop");if(g.dg()?g.Aa():yield*g.ob())d=!0;else if(!a.qf)return!1}return a.qf?d:!0}
function*Dw(a,b,c){b.Hf=a;b.Ke=c;c=a.Ec[c];if(c.dg()?c.Aa():yield*c.ob())(Jw(a)?a.yk(b,0):yield*a.jr(b,0))&&(Kw(a)?zw(a):yield*Lw(a)),b.Oh=!0}function Mw(a,b){if(a)if(b.includes(a)||b.push(a),a.Oa)for(const d of a.fm){if(d.Bc()){a=d;var c=b;for(const e of a.Gh.qm)c.includes(e)||c.push(e)}}else if(a.Bc())for(c of a.Gh.qm)b.includes(c)||b.push(c)}function Nw(a){const b=a.xc;b.mU=a.Ec.every(c=>c.dg());b.OM=a.wc.every(c=>c.dg());b.PM=a.Kj.every(c=>c.dg());b.nU=b.mU&&b.OM&&b.PM}
function Ow(a){return a.wf&&a.wf instanceof Fw.Gq||a.Ec.some(b=>b.Rq())}function Pw(a){a.qE=!0;a.yc&&Pw(a.yc)}function Qw(a){return a.xc&&a.xc.IU&&a.xc.LA}function Rw(a,b){b=Math.floor(b);return 0<=b&&b<a.wc.length}
function zw(a){if(a.Kj.length){var b=a.Qk&&Ew(a.g),c=b?performance.now():0,d=a.je,e=d.Ra(a);if(a.qE){var f=a.Qk;const g=a.rE,h=a.Kj;for(let k=0,l=h.length,m=l-1;k<l;++k){const n=h[k],p=n.Mc(),q=!g||!f&&k<m;q&&Uv(p);n.Aa(e);q?Vv(p):Sv(p)}}else{f=a.Kj;for(let g=0,h=f.length;g<h;++g)f[g].Aa(e)}d.La();b&&(a.al.YA+=performance.now()-c)}}function Jw(a){return!Sw(a.g)&&a.xc.OM}function Kw(a){return!Sw(a.g)&&a.xc.PM}
function*Lw(a){if(a.Kj.length){var b=a.je,c=b.Ra(a);a.qE?yield*Tw(a,c):yield*Uw(a,c);b.La()}}function Vw(a,b){const c=a.Ec;for(let d=0,e=c.length;d<e;++d){const f=c[d];b.Ke=d;if(!f.Aa()){b.Oh=!1;return}}b.Oh=!0;a.yk(b,0)&&zw(a);b.Oh&&a.Qy&&(b.kp=!0)}function*Ww(a,b){const c=a.Ec;let d=0===c.length;for(let f=0,g=c.length;f<g;++f){var e=c[f];e.Rq()||(b.Ke=f,e=e.dg()?e.Aa():yield*e.ob(),d=d||e)}b.Oh=!!d;d&&((Jw(a)?a.yk(b,0):yield*a.jr(b,0))&&(Kw(a)?zw(a):yield*Lw(a)),a.Qy&&(b.kp=!0))}
function*Xw(a,b){const c=a.Ec;for(let d=0,e=c.length;d<e;++d){const f=c[d];b.Ke=d;if(f.dg()?!f.Aa():!(yield*f.ob())){b.Oh=!1;return}}b.Oh=!0;(Jw(a)?a.yk(b,0):yield*a.jr(b,0))&&(Kw(a)?zw(a):yield*Lw(a));b.Oh&&a.Qy&&(b.kp=!0)}function*Yw(a,b){if(yield*a.jr(b,b.jf))yield*Lw(a)}function*Tw(a,b){const c=a.Qk,d=a.rE;a=a.Kj;for(let e=0,f=a.length,g=f-1;e<f;++e){const h=a[e],k=h.Mc(),l=!d||!c&&e<g;l&&Uv(k);yield*h.ob(b);l?Vv(k):Sv(k)}}
function*Uw(a,b){a=a.Kj;for(let c=0,d=a.length;c<d;++c)yield*a[c].ob(b)}function Zw(a,b,c){c.Ke=0;c.jf=0;const d=a.Ec;if(!a.qf)for(let e=b.Ke+1,f=d.length;e<f;++e)if(b=d[e],c.Ke=e,!b.Aa())return!1;a.yk(c,0)&&zw(a);return!0}function*ax(a,b,c){c.Ke=0;c.jf=0;const d=a.Ec;if(!a.qf)for(let e=b.Ke+1,f=d.length;e<f;++e)if(b=d[e],c.Ke=e,b.dg()?!b.Aa():!(yield*b.ob()))return!1;(Jw(a)?a.yk(c,0):yield*a.jr(c,0))&&(Kw(a)?zw(a):yield*Lw(a));return!0}
function bx(a,b){if(a.ya()){a=a.Ss;for(let c=0,d=a.length;c<d;++c)if(!yw(a[c],b))return!1}return!0}function*cx(a,b){if(a.ya()){a=a.Ss;for(let c=0,d=a.length;c<d;++c)if(!(yield*Cw(a[c],b)))return!1}return!0}function dx(a,b,c,d){0<c.length?d?(c=c.map(e=>e.T(0)),b.ke.Ra(),ex(a.wf,c)):fx(a.wf,c):d&&b.ke.Ra()}
function*gx(a,b,c,d,e){let f,g;if(Qw(a)||Sw(a.g))yield a;const h=0<b.length;let k=null;const l=a.je,m=a.g.pa(),n=1<++m.Ne;dx(a,m,c,n);h&&(d?Uv(b):Tv(b));null!==e&&(e.cw?(c=e.XF.Y(),ov(c,(d?e.cw.Y():iv(e.cw.gl)).qa()),kv.H(c.Kb),d||hx(e.XF)):e.ct&&(c=e.ct.Y(),ov(c,e.TA),kv.H(c.Kb)),e.HN&&(k=Xv(m,b)));e=l.Ra(a);d&&(e.If=b);if(yield*cx(a,e))e.Hf=a,(d=a.wf.ii())&&([g,f]=ix(a.wf)),yield*Xw(a,e),d&&jx(a.wf,g);l.La();n&&m.ke.La();null!==k&&Vv(k);h&&Vv(b);--m.Ne;return f}
function*kx(a,b,c){if(Qw(a)||Sw(a.g))yield a;const d=a.Td(),e=0<d.length,f=a.je,g=a.g.pa(),h=1<++g.Ne;h&&g.ke.Ra();ex(a.wf,b);e&&(c?Uv(d):Tv(d));b=f.Ra(a);if(yield*cx(a,b))b.Hf=a,yield*Xw(a,b);f.La();h&&g.ke.La();e&&Vv(d);--g.Ne}
Fw.zl=class extends Fw.ta{constructor(a,b,c){super();this.rd=a;this.g=a.G();this.yc=b;this.wf=null;this.je=this.g.pa().Ac();this.Se=[];this.Hv=[];this.Qy=this.rE=this.qE=this.PR=!1;this.qf=!!c[2];this.hE=!1;this.Ss=null;this.Ec=[];this.wc=[];this.Kj=[];this.yk=Hw;this.jr=Iw;this.zK=this.Qk=!1;this.LR="";this.jE=!1;this.al=this.dD=null;this.lb=c[4];this.wu=c[5];this.rd.vR.set(this.wu,this);this.xc=this.g.Fb?{LA:c[3][0],IU:c[3][1],mU:!1,OM:!1,PM:!1,nU:!1}:null;this.pa().OI.set(this.lb,this);3===c[0]&&
(a=c[1],this.Qk=!0,this.jE=this.zK=!!a[0],this.LR=a[1].toLowerCase(),this.dD=[],b=this.pa(),b.HI.push(this),b.TJ.set(this.LR,this),this.g.Fb&&(this.al={type:"group",name:a[1],YA:0,children:[]}));a=0;for(var d of c[6])b=Fw.GG.Da(this,d,a++),this.Ec.push(b),b=b.I(),Mw(b,this.Se);a=0;for(const e of c[7])d=Fw.aB.Da(this,e,a++),this.wc.push(d);if(9===c.length){c=c[8];for(const e of c)pw(this.rd,e,this,this.Kj)}this.Ec.length&&(this.hE=null===this.Ec[0].I()&&this.Ec[0].Va===Fw.j.Ma.D.rO);0===this.Ec.length&&
(this.Ec=Gw);0===this.wc.length&&(this.wc=Gw);0===this.Kj.length&&(this.Kj=Gw)}static Da(a,b,c){return Fw.A(Fw.zl,a,b,c)}ic(a){this.Qy=!!a;if(this.Qk)for(a=this.ya(),this.rE=!0;a;){if(!a.Qk){this.rE=!1;break}a=a.ya()}if(Ow(this)){this.Ss=[];for(a=this.ya();a;)this.Ss.push(a),a=a.ya();this.Ss.reverse()}for(var b of this.Ec)b.ic();if(0<this.wc.length){b=!1;for(var c of this.wc)c.ic(),(c.ii()||1===c.Qx)&&(b=!0);b?(this.yk=this.Y0,this.jr=this.I0):(this.yk=this.X0,this.jr=this.H0)}c=this.Kj;for(let d=
0,e=c.length;d<e;++d)c[d].ic(d<e-1&&c[d+1]instanceof Fw.zl&&c[d+1].XB());this.xc&&Nw(this);if(this.al){a:{for(c=this.ya();c;){if(c.Qk)break a;c=c.ya()}c=this.rd}c.al.children.push(this.al)}}Mc(){return this.Se}Td(){if(!this.PR){this.PR=!0;var a=this.g.nd;if(this.Se===a)this.Hv=a;else{this.Hv=Fw.xo(this.Se);for(a=this.ya();a;){for(var b of a.Se)Mw(b,this.Hv);a=a.ya()}b=this.pa();this.Se=Ev(b,this.Se);this.Hv=Ev(b,this.Hv)}}return this.Hv}pa(){return this.rd.pa()}G(){return this.g}ya(){return this.yc}Jq(){return this.wf||
this.yc}XB(){return this.hE}Ft(){return this.jE}Pt(a){a=!!a;if(!this.Qk)throw Error("not a group");if(this.jE!==a){this.jE=a;for(const b of this.dD)lx(b);this.dD.length&&(a=O(this.g).rd)&&cr(a)}}Rq(){return this.Ec.length&&this.Ec[0].Rq()}DQ(){return this.Kj.filter(a=>a instanceof Fw.xw)}Aa(a){a.Hf=this;this.hE||(a.kp=!1);if(this.qf){const c=this.Ec;let d=0===c.length;for(let e=0,f=c.length;e<f;++e){var b=c[e];b.Rq()||(a.Ke=e,b=b.Aa(),d=d||b)}a.Oh=!!d;d&&(this.yk(a,0)&&zw(this),this.Qy&&(a.kp=!0))}else Vw(this,
a)}*ob(a){if(Qw(this)||Sw(this.g))yield this;a.Hf=this;this.hE||(a.kp=!1);this.qf?yield*Ww(this,a):yield*Xw(this,a)}X0(a,b){const c=this.wc;for(let d=b,e=c.length;d<e;++d)b=c[d],a.jf=d,b.Aa();return!0}*H0(a,b){const c=this.wc;for(let d=b,e=c.length;d<e;++d)b=c[d],a.jf=d,b.dg()?b.Aa():yield*b.ob();return!0}Y0(a,b){const c=this.pa(),d=this.wc;for(let e=b,f=d.length;e<f;++e){b=d[e];a.jf=e;const g=b.Aa();if(1===b.Qx&&!0===g)return!1;b.ii()&&g instanceof Promise&&c.tn.push(g)}return!0}*I0(a,b){const c=
this.pa(),d=this.wc;for(let e=b,f=d.length;e<f;++e){b=d[e];a.jf=e;let g;g=b.dg()?b.Aa():yield*b.ob();if(1===b.Qx&&!0===g)return!1;b.ii()&&g instanceof Promise&&c.tn.push(g)}return!0}dg(){return!Qw(this)&&!Sw(this.g)&&this.xc.nU}kC(a,b,c,d){let e,f;const g=0<a.length;let h=null;const k=this.je,l=this.g.pa(),m=1<++l.Ne;dx(this,l,b,m);g&&(c?Uv(a):Tv(a));null!==d&&(d.cw?(b=d.XF.Y(),ov(b,(c?d.cw.Y():iv(d.cw.gl)).qa()),kv.H(b.Kb),c||hx(d.XF)):d.ct&&(b=d.ct.Y(),ov(b,d.TA),kv.H(b.Kb)),d.HN&&(h=Xv(l,a)));
d=k.Ra(this);c&&(d.If=a);bx(this,d)&&(d.Hf=this,(c=this.wf.ii())&&([f,e]=ix(this.wf)),Vw(this,d),c&&jx(this.wf,f));k.La();m&&l.ke.La();null!==h&&Vv(h);g&&Vv(a);--l.Ne;return e}GH(a,b,c,d,...e){let f,g;const h=0<a.length,k=this.g,l=this.je,m=k.pa(),n=1<++m.Ne;n&&m.ke.Ra();0<e.length&&ex(this.wf,e);h&&(b?Uv(a):Tv(a));b=l.Ra(this);b.IR=c;b.OJ=d;l.vD.push(b);bo(k,!1);bx(this,b)&&(b.Hf=this,(c=this.wf.ii())&&([g,f]=ix(this.wf)),Vw(this,b),c&&jx(this.wf,g));bo(k,!0);l.La();l.vD.pop();n&&m.ke.La();h&&Vv(a);
--m.Ne;return f||b.OJ}};"use strict";const mx=self.B,nx=[];let ox=!1;async function px(a){try{await a.Va()}catch(b){console.error(`Unhandled exception running script %c${a.rd.ea()}, event ${a.wu}:`,"font-size: 1.2em; font-weight: bold;",b),self.$h&&self.$h.a1(a),ox||(console.info("%cTip:%c run this to highlight in Construct the last script that had an error: %cgoToLastErrorScript()","font-weight: bold; text-decoration: underline","","font-weight: bold"),ox=!0)}}
mx.tO=class extends mx.ta{constructor(a,b,c){super();const d=a.G(),e=a.pa();this.rd=a;this.Na=e;this.g=a.G();this.yc=b;this.Va=qx(d,c[1]);this.wu=c[2];this.rd.vR.set(this.wu,this);this.xc=d.Fb?{LA:c[3][0],IU:c[3][1]}:null}static Da(a,b,c){return mx.A(mx.tO,a,b,c)}ic(){const a=this.Va,b=Gv(this);this.Va=a.bind(null,this.g.Xg,b)}ya(){return this.yc}Jq(){return this.yc}XB(){return!1}Mc(){return nx}Td(){return this.yc?this.yc.Td():nx}Aa(a){a.Hf=this;a=this.Na;var b=px(this);a.tn.push(b)}*ob(a){a.Hf=this;
if(Qw(this)||Sw(this.g))yield this;this.Aa(a)}dg(){return!Qw(this)&&!Sw(this.g)}};"use strict";const rw=self.B;function lw(a){switch(a.fl){case 0:return null;case 2:return"";default:return 0}}function ex(a,b){a=a.Wg;for(let c=0,d=a.length;c<d;++c)a[c].pe(b[c])}function fx(a,b){a=a.Wg;for(let c=0,d=a.length;c<d;++c)a[c].pe(b[c].T(0))}function ix(a){const b=a.B2++;a.oy=b;let c;const d=new Promise(e=>c=e);a.Wx.set(b,{resolve:c,DN:0});return[b,d]}
function jx(a,b){const c=a.Wx.get(b);0===c.DN&&(c.resolve(),a.Wx.delete(b));a.oy=-1}function sw(a,b){a.PJ=0;a.Wr=b[0];a.fl=b[1];a.Wg=b[2].map(c=>rw.xw.Da(a.rd,a,c));a.td=b[3];a.qK=b[4];a.Zg=b[5]}function tw(a,b){a.PJ=1;a.Wo=b[1];a.J=lp(a.g,b[2]);Mw(a.J,a.hd.Se);a.Wr=a.J.ea()+"."+a.Wo;a.fl=b[3];a.Wg=b[4].map(c=>rw.xw.Da(a.rd,a,c));a.td=b[5];a.qK=b[6];a.Zg=b[7];a.J.mR.set(a.Wo.toLowerCase(),a)}function rx(a){return a.Wg.map(b=>b.Ba())}function sx(a,b){a.oy=b;a.Wx.get(b).DN--}
function*tx(a,b,c){var d=new Map,e=[];for(const f of a.J.Y().qa()){const g=f.I();if(hw(g,a.Wo)){const h=d.get(g);Array.isArray(h)?h.push(f):d.set(g,[f])}else e.push(f)}0<e.length&&(yield*gx(a.hd,b,c,a.Zg,{ct:a.J,TA:e}));if(0<d.size)for(const [f,g]of d)d=hw(f,a.Wo).Fe(),e=[...(new Set([...b,...d.Mc()]))],yield*gx(d,e,c,a.Zg,{ct:f,TA:g})}
rw.Gq=class extends rw.ta{constructor(a,b,c){super();this.rd=a;this.g=a.G();this.yc=b;this.PJ=0;this.Wr="";this.fl=0;this.Wg=[];this.td=!0;this.Wo="";this.J=null;this.YJ=!1;this.iK=[];this.qK=this.Zg=!1;this.B2=0;this.oy=-1;this.Wx=new Map;this.hd=rw.zl.Da(a,b,c);this.hd.wf=this}ic(){for(const a of this.Wg)a.ic();this.hd.ic(!1)}DQ(){return this.Wg}ya(){return this.yc}Jq(){return this.yc}I(){return this.J}$m(){return this.td}Fe(){return this.hd}ii(){return this.qK}q_(a,b){var c=new Map,d=[];for(const e of this.J.Y().qa()){const f=
e.I();if(hw(f,this.Wo)){const g=c.get(f);Array.isArray(g)?g.push(e):c.set(f,[e])}else d.push(e)}0<d.length&&this.hd.kC(a,b,this.Zg,{ct:this.J,TA:d});if(0<c.size)for(const [e,f]of c)c=hw(e,this.Wo).Fe(),d=[...(new Set([...a,...c.Mc()]))],c.kC(d,b,this.Zg,{ct:e,TA:f})}};"use strict";const ux=self.B,vx=[];function Hv(a){return{configurable:!1,enumerable:!0,get:a.N2,set:a.O2}}
ux.xw=class extends ux.ta{constructor(a,b,c){super();const d=a.pa();this.rd=a;this.Na=d;this.g=a.G();this.yc=b;this.ke=d.ke;this.Ka=c[1];this.oa=c[2];this.Ln=c[3];this.rf=!!c[4];this.Cb=!!c[5];this.j2=b instanceof ux.Gq;this.lb=c[6];this.oz=this.g.ck(c[8]);this.O2=e=>this.pe(e);this.N2=()=>this.Ba();this.RR=!this.yc||this.rf||this.Cb;this.Jc=this.Ln;this.$K=-1;2===this.oa&&(this.Jc=this.Jc?1:0);this.Cf()||this.Hl()||this.Cb||(d.ES.push(this.Ln),this.$K=d.F2++);d.Hy.set(this.lb,this);this.Cf()?d.GI.push(this):
d.QQ.push(this)}static Da(a,b,c){return ux.A(ux.xw,a,b,c)}ic(){if(!(this.Cf()||this.Hl()||this.Cb||this.j2)){const a=gw(this);a&&a.iK.push(this)}}ea(){return this.Ka}ck(){return this.oz}ya(){return this.yc}Jq(){return this.ya()}Cf(){return!this.ya()}Hl(){return this.rf}No(){return 0===this.oa}dj(){return 1===this.oa}XB(){return!1}Mc(){return vx}Aa(){this.Cf()||this.Hl()||this.Cb||this.pe(this.Ln)}dg(){return!0}*ob(a){this.Aa(a)}pe(a){this.No()?"number"!==typeof a&&(a=parseFloat(a)):this.dj()?"string"!==
typeof a&&(a=a.toString()):2===this.oa&&(a=a?1:0);this.RR?this.Jc=a:this.ke.tt()[this.$K]=a}Ba(){return this.RR?this.Jc:this.ke.tt()[this.$K]}};"use strict";const wx=self.B,xx=[];function lx(a){let b=a.ya();for(;b;){if(b instanceof wx.zl&&b.Qk&&!b.Ft()){a.Pb=!1;return}b=b.ya()}a.Pb=!0}
wx.sO=class extends wx.ta{constructor(a,b,c){super();const d=a.pa();this.rd=a;this.Na=d;this.g=a.G();this.yc=b;this.Xy=null;this.e2=c[1];this.Pb=!0}static Da(a,b,c){return wx.A(wx.sO,a,b,c)}ic(){this.Xy=this.Na.nF.get(this.e2.toLowerCase())||null;this.rd.uT.push(this);let a=this.ya();for(;a;)a instanceof wx.zl&&a.Qk&&a.dD.push(this),a=a.ya();lx(this);this.g.Fb&&this.rd.al.children.push(this.Xy.al)}ya(){return this.yc}Mc(){return xx}Aa(){const a=!!this.ya(),b=this.g.nd;a&&Tv(b);this.Xy.Aa();a&&Vv(b)}*ob(){const a=
!!this.ya(),b=this.g.nd;a&&Tv(b);yield*this.Xy.ob();a&&Vv(b)}dg(){return!1}};"use strict";const yx=self.B;yx.qt=class extends yx.ta{constructor(a){super();this.Mb=a;this.g=a.G()}ic(){}};class zx extends yx.qt{constructor(a,b){super(a);this.Zd=this.g.Rw();this.Va=qx(this.g,b[1]);if(this.Va===yx.j.Ma.Qa.random||this.Va===yx.j.Ma.Qa.q3)this.Mb.yf=!0}Eb(){return Ax(this.Zd,this.Va,this.Zd)}}
class Bx extends yx.qt{constructor(a,b){super(a);this.Mu=null;this.Wr=b[1];this.Mb.yf=!0}ic(){const a=this.g.pa();this.Mu=a.Nu.get(this.Wr.toLowerCase())||null;this.Wr=null;const b=this.Mu.Fe();this.aJ=[...(new Set([...this.Mb.Fe().Td(),...b.Td()]))];this.aJ=Ev(a,this.aJ)}Eb(){const a=this.Mu;if(a.$m())return yx.zl.prototype.GH.bind(a.Fe(),this.aJ,a.Zg,a.fl,lw(a));const b=lw(a);return()=>b}}function Cx(a,b){if(a>=b)return a%b;0>a&&(a<=-b&&(a%=b),0>a&&(a+=b));return a}
function S(a,...b){const c=a.J,d=mv(c.Y());var e=d.length;if(0===e)return a.hF?"":0;e=Cx(a.Mb.$z,e);ao(a.je).xJ=c;return a.Va.apply(L(d[e]),b)}class Dx extends yx.qt{constructor(a,b){super(a);this.J=lp(this.g,b[1]);this.Va=qx(this.g,b[2]);this.hF=!!b[3];this.je=this.g.pa().Ac();Ex(this.Mb,this.J)}Eb(){return Ax(this.J.Ua(),this.Va,L(this.J.Fl()))}}function Fx(a){const b=mv(a.J.Y()),c=b.length;return 0===c?a.hF?"":0:b[Cx(a.Mb.$z,c)].rg[a.e3]}
class Gx extends yx.qt{constructor(a,b){super(a);this.J=lp(this.g,b[1]);this.e3=b[3];this.hF=!!b[2];Ex(this.Mb,this.J)}}class Hx extends yx.qt{constructor(a,b){super(a);this.J=lp(this.g,b[1]);this.oc=this.J.fu.get(b[2].toLowerCase())||null;this.Bk=ts(this.J,b[2]);this.Va=qx(this.g,b[3]);this.hF=!!b[4];this.je=this.g.pa().Ac();Ex(this.Mb,this.J)}}class Ix extends yx.qt{constructor(a,b){super(a);this.Ya=null;this.vJ=b[1]}ic(){this.Ya=this.g.pa().Hy.get(this.vJ)||null}}"use strict";const Jx=self.B;
function Ex(a,b){a.yf||!b||b.Ua().tj||(a.yf=!0)}Jx.Df=class extends Jx.ta{constructor(a,b,c){super();this.Mb=a;this.la=c;this.oa=b;this.T=null;this.Cb=this.yf=!1}static Da(a,b,c){const d=b[0];return Jx.A([Kx,Lx,Mx,Nx,Ox,Px,Qx,Kx,Nx,Nx,Rx,Sx,Mx,Tx,Lx,Ux,Vx,Wx,Xx,Yx,Zx,$x][d],a,d,c,b)}ic(){}Fa(){return this.la}G(){return this.Mb.G()}Fe(){return this.Mb.Fe()}};function uw(a){a=self.cW[a];if(!a)throw Error("invalid expression number");return a}
function U(a,b){if(0>b||b>=a.uv.length)throw new RangeError("invalid numbered node");return a.uv[b]}class Kx extends Jx.Df{constructor(a,b,c,d){super(a,b,c);this.$z=0;a=d[1];this.wJ=a[0];this.uv=[];this.Iy=null;for(let e=1,f=a.length;e<f;++e)b=this.uv,c=b.push,d=a[e],d=yx.A([Hx,Dx,Gx,Ix,zx,Bx][d[0]],this,d),c.call(b,d);this.uv.length?this.T=this.iX:(this.T=uw(this.wJ),this.Cb=!0)}ic(){for(var a of this.uv)a.ic();a=uw(this.wJ);this.Iy=this.uv.length?a(this):a}iX(a){this.$z=a;return this.Iy()}}
class Lx extends Kx{constructor(a,b,c,d){super(a,b,c,d);this.T=this.uX;14===b&&(a=this.Fe(),a.Se=a.g.nd,this.Mb instanceof Jx.aB&&Pw(this.Fe()))}uX(a){this.$z=a;a=this.Iy();return"string"===typeof a?a:""}}class Px extends Kx{constructor(a,b,c,d){super(a,b,c,d);this.T=2<=a.Iq()?this.wt:this.aa;this.Cb=!1}aa(a){this.$z=a;a=this.Iy();return O(this.G()).aa(a)}wt(){const a=this.aa();return a?a.wt():null}}
class Nx extends Jx.Df{constructor(a,b,c,d){super(a,b,c);this.F1=d[1];this.T=this.fX;this.Cb=!0}fX(){return this.F1}}class Vx extends Jx.Df{constructor(a,b,c,d){super(a,b,c);this.m1=d[1];this.T=this.eX;this.Cb=!0}eX(){return this.m1}}class Ox extends Jx.Df{constructor(a,b,c,d){super(a,b,c);this.J=lp(this.G(),d[1]);this.T=2<=a.Iq()?this.xt:this.I;a=this.Fe();Mw(this.J,a.Se);this.Mb instanceof Jx.aB?Pw(a):a.ya()&&Pw(a.ya());this.Cb=!0}I(){return this.J}xt(){return this.J?this.J.xt():null}}
class Qx extends Jx.Df{constructor(a,b,c,d){super(a,b,c);this.Pf=rr(this.G().jb,d[1]);this.T=2<=a.Iq()?this.Tm:this.rc;this.Cb=!0}rc(){return this.Pf}Tm(){return this.Pf?this.Pf.Tm():null}}class Ux extends Jx.Df{constructor(a,b,c,d){super(a,b,c);this.Ve=this.G().Ub.hq.get(d[1].toLowerCase())||null;this.T=2<=a.Iq()?this.QG:this.gb;this.Cb=!0}gb(){return this.Ve}QG(){return this.Ve?this.Ve.QG():null}}
class Mx extends Jx.Df{constructor(a,b,c,d){super(a,b,c);this.T1=d[1];this.T=this.kX;this.Cb=!0}kX(){return this.T1}}
class Rx extends Jx.Df{constructor(a,b,c,d){super(a,b,c);this.dS=d[1];a=this.Mb.I();this.Mb instanceof Jx.GG&&this.Mb.Hl()?(this.T=this.DO,this.Cb=!0):a&&a.Oa?(this.T=this.jX,this.yf=!0):(this.T=this.DO,this.Cb=!0)}DO(){return this.dS}jX(a){a=a||0;const b=this.Mb.I();var c=b.Y();const d=c.qa();if(d.length)a=d[a%d.length].I();else if(c.Kb.length)c=c.Kb,a=c[a%c.length].I();else if(0<b.L.length)c=b.qa(),a=c[a%c.length].I();else return 0;return this.dS+a.Du[b.rj]}}
class Sx extends Jx.Df{constructor(a,b,c,d){super(a,b,c);this.vJ=d[1];this.Ya=null;this.T=2<=a.Iq()?this.qX:this.hX;this.Cb=!0}ic(){this.Ya=this.G().pa().Hy.get(this.vJ)||null}hX(){return this.Ya}qX(){return null}}class Wx extends Jx.Df{constructor(a,b,c,d){super(a,b,c);this.GR=d[1];this.Mu=null;this.T=2<=a.Iq()?this.rX:this.pX;this.Cb=!0}ic(){this.Mu=this.G().pa().Nu.get(this.GR.toLowerCase())||null;this.GR=null}pX(){return this.Mu}rX(){return null}}
class Tx extends Jx.Df{constructor(a,b,c,d){super(a,b,c);this.hM=[];this.UT=[];this.Cb=!0;for(let e=1,f=d.length;e<f;++e)a=Jx.Df.Da(this.Mb,d[e],0),this.hM.push(a),this.UT.push(0),a.Cb||(this.Cb=!1);this.T=this.wX}ic(){for(const a of this.hM)a.ic()}wX(){const a=this.hM,b=this.UT;for(let c=0,d=a.length;c<d;++c)b[c]=a[c].T(0);return b}}class Xx extends Jx.Df{constructor(a,b,c,d){super(a,b,c);this.O1=d[1];this.T=this.Io;this.Cb=!0}Io(){return this.O1}}
class Yx extends Jx.Df{constructor(a,b,c,d){super(a,b,c);this.u1=d[1];this.T=this.vX;this.Cb=!0}vX(){return this.u1}}class Zx extends Kx{constructor(a,b,c,d){super(a,b,c,d);this.T=this.Dt;this.Cb=!1}Dt(){return this.Iy()}}class $x extends Jx.Df{constructor(a,b,c,d){super(a,b,c);this.Hn=this.G().Dd.Gu.T(d[1]);this.T=this.mX;this.Cb=!0}mX(){return this.Hn.ea()}}"use strict";const ay=self.B;function by(a,b){for(let c=0,d=a.length;c<d;++c)b[c]=a[c].T(0)}const cy=[];function dy(){}
function ey(a){for(const b of a.Ca)if(4===b.oa)return b.I();return null}function fy(a){return a.xc.LA}function gy(a){if(a.oc){if(2<=a.oc.fg().tg)throw Error("not yet implemented");return a.oc}return 2<=a.J.Ua().tg?a.J.xt():a.J}function hy(a,b){const c=a.Ca;a=a.yb;for(let d=0,e=c.length;d<e;++d){const f=c[d];f.yf&&(a[d]=f.T(b))}}
ay.GG=class extends ay.ta{constructor(a,b,c){super();this.hd=a;this.g=a.G();this.la=c;this.Va=qx(this.g,b[1]);this.JK=0<b[3];this.hS=2===b[3];this.lE=!!b[4];this.Rk=!!b[5];this.rf=!!b[6];this.lb=b[7];this.iS=this.hd.qf;this.oc=this.J=null;this.Bk=-1;this.Zd=null;this.ob=this.Aa=dy;this.Ca=[];this.yb=[];this.rn=!1;this.Lj=this.ec=null;this.xc=this.g.Fb?{LA:b[8][0],ag:b[8][1]}:null;-1===b[0]?this.Zd=this.g.Rw():(this.J=lp(this.g,b[0]),b[2]&&(this.oc=this.J.fu.get(b[2].toLowerCase())||null,this.Bk=ts(this.J,
b[2])),this.hd.ya()&&Pw(this.hd.ya()));if(10===b.length){a=b[9];for(let d of a)this.Ca.push(ay.Df.Da(this,d,this.Ca.length)),this.yb.push(0)}0===this.Ca.length&&(this.yb=this.Ca=cy);this.hd.pa().$I.set(this.lb,this)}static Da(a,b,c){return ay.A(ay.GG,a,b,c)}ic(){for(const a of this.Ca)a.ic(),a.yf&&(this.rn=!0);this.hS?(this.Aa=this.Z0,this.ob=this.L0):this.Zd?(this.Nx(this.Zd,this.Zd,this.vI),this.ob=this.fI):this.J.Ua().tj?(this.xI(),this.ob=this.eI):this.rf?(this.Aa=this.$0,this.ob=this.T0):(this.Aa=
this.GQ,this.ob=this.M0)}xI(){const a=this.J.Ua(),b=L(this.J.Fl());this.Nx(a,b,this.uI)}Nx(a,b,c){const d=this.Va,e=this.Rk,f=this.Ca;if(0===f.length){const g=Ax(a,d,b);this.Aa=e?function(){return ay.xor(g(),e)}:g}else if(1===f.length){const g=f[0];if(!e&&g.Cb)this.Aa=iy(a,d,b,g.T(0));else{const h=Ax(a,d,b);this.Aa=function(){return ay.xor(h(g.T(0)),e)}}}else if(2===f.length){const g=f[0],h=f[1];if(!e&&g.Cb&&h.Cb)this.Aa=jy(a,d,b,g.T(0),h.T(0));else{const k=Ax(a,d,b);this.Aa=function(){return ay.xor(k(g.T(0),
h.T(0)),e)}}}else if(3===f.length){const g=f[0],h=f[1],k=f[2];if(!e&&g.Cb&&h.Cb&&k.Cb)this.Aa=ky(a,d,b,g.T(0),h.T(0),k.T(0));else{const l=Ax(a,d,b);this.Aa=function(){return ay.xor(l(g.T(0),h.T(0),k.T(0)),e)}}}else this.Aa=c}I(){return this.J}Hg(){return this.oc}Iq(){const a=this.oc?this.oc.fg():this.J?this.J.Ua():null;return a?a.tg:1}Fe(){return this.hd}G(){return this.g}Fa(){return this.la}zO(){return this.Fa()}Rq(){return this.JK}Hl(){return this.rf}dg(){return!fy(this)&&!Sw(this.g)&&!this.xc.ag}Xm(){this.ec||
(this.ec=new Map);return this.ec}Vw(){this.Lj||(this.Lj=new Map);return this.Lj}vI(){const a=this.yb;by(this.Ca,a);return ay.xor(this.Va.apply(this.Zd,a),this.Rk)}*fI(){if(fy(this)||Sw(this.g))yield this;if(this.xc.ag){var a=this.yb;by(this.Ca,a);a=this.Va.apply(this.Zd,a);ay.bn(a)&&(a=yield*a);return ay.xor(a,this.Rk)}return this.Aa()}uI(){const a=this.yb;by(this.Ca,a);const b=L(this.J.Fl());return ay.xor(this.Va.apply(b,a),this.Rk)}*eI(){if(fy(this)||Sw(this.g))yield this;if(this.xc.ag){var a=this.yb;
by(this.Ca,a);const b=L(this.J.Fl());a=this.Va.apply(b,a);ay.bn(a)&&(a=yield*a);return ay.xor(a,this.Rk)}return this.Aa()}Z0(){return!0}*L0(){if(fy(this)||Sw(this.g))yield this;return!0}$0(){var a=this.yb;by(this.Ca,a);a=this.Va.apply(gy(this),a);hx(this.J);return a}*T0(){if(fy(this)||Sw(this.g))yield this;if(this.xc.ag){var a=this.yb;by(this.Ca,a);a=this.Va.apply(gy(this),a);ay.bn(a)&&(a=yield*a);hx(this.J);return a}return this.Aa()}GQ(){var a=this.Ca,b=this.yb,c=this.J.Y();for(let H=0,T=a.length;H<
T;++H){var d=a[H];d.yf||(b[H]=d.T(0))}if(c.pb){a=this.J;b=a.Oa;d=a.rj;var e=this.Bk,f=0<=e,g=a.qa(),h=this.rn,k=this.yb,l=this.Va,m=this.Rk,n=this.iS&&!this.JK;lv(c);for(let H=0,T=g.length;H<T;++H){var p=g[H];h&&hy(this,H);var q=void 0;f?(q=b?ly(p.I(),d):0,q=l.apply(L(p.Kd[e+q]),k)):q=l.apply(L(p),k);ay.xor(q,m)?c.L.push(p):n&&c.Kb.push(p)}a.Aw(!0);c.pb=!1;hx(a);c=c.pb?!!c.J.L.length:!!c.L.length}else{a=this.J;l=a.Oa;m=a.rj;n=a.Bc();p=this.Bk;q=0<=p;var u=this.rn;const H=this.yb,T=this.Va,xa=this.Rk;
b=this.iS&&!this.JK;d=c.L;const va=c.Kb;var r;if(r=b){a:{r=this.hd;var t=this.Fa();if(0!==t){--t;for(var v=this.Zd||this.J.Ua().tj?ey(this):this.I();0<=t;--t){var w=r.Ec[t];if(v===w.I()||(w.Zd||w.J.Ua().tj)&&ey(w)===v){r=!1;break a}}}r=!0}r=!r}w=r?va:d;t=0;v=!1;for(let ia=0,Ba=w.length;ia<Ba;++ia){var A=w[ia];u&&hy(this,ia);var G=void 0;q?(G=l?ly(A.I(),m):0,G=T.apply(L(A.Kd[p+G]),H)):G=T.apply(L(A),H);if(ay.xor(G,xa))if(v=!0,r){if(d.push(A),n)for(f of A.md)f.I().Y().L.push(f)}else{w[t]=A;if(n){G=
t;for(g of A.md)g.I().Y().L[G]=g}++t}else if(r){w[t]=A;if(n){G=t;for(h of A.md)h.I().Y().Kb[G]=h}++t}else if(b&&(va.push(A),n))for(k of A.md)k.I().Y().Kb.push(k)}ay.$e(w,t);if(n){g=a;f=r;h=t;for(e of g.Gh.qm)g=e.Y(),f?my.$e(g.Kb,h):my.$e(g.L,h)}e=v;if(r&&!v)a:{g=this.J;f=g.Oa;g=g.rj;h=this.rn;k=this.Bk;l=0<=k;m=this.yb;n=this.Va;p=this.Rk;for(let ia=0,Ba=d.length;ia<Ba;++ia)if(q=d[ia],h&&hy(this,ia),l?(u=f?ly(q.I(),g):0,q=n.apply(L(q.Kd[k+u]),m)):q=n.apply(L(q),m),ay.xor(q,p)){v=!0;break a}v=!1}a.Aw(e||
b);c=b?v:c.pb?!!c.J.L.length:!!c.L.length}return c}*M0(){if(fy(this)||Sw(this.g))yield this;return this.GQ()}na(){if(!this.ec||!this.ec.size)return null;const a={};for(const [b,c]of this.ec.entries()){let d=c;"collmemory"===b&&(d=[...c.entries()].map(e=>[e[0].zc,e[1].zc,e[2]]));a[b]=d}return{ex:a}}ra(a){this.ec&&(this.ec.clear(),this.ec=null);if(a){var b=this.g,c=a.ex;if(c){a=this.Xm();a.clear();for(const [d,e]of Object.entries(c))c=e,"collmemory"===d&&(c=ay.A(ay.lx,e.map(f=>[us(b,f[0]),us(b,f[1]),
f[2]]).filter(f=>f[0]&&f[1]))),a.set(d,c)}}}};"use strict";const ny=self.B;function oy(a,b){for(let c=0,d=a.length;c<d;++c)b[c]=a[c].T(0)}const py=[];function qy(){}function*ry(){}
function sy(a){var b=a.hd.pa();const c=Iv(b,a.UI,a.lu);if(c.$m()){const d=0!==(a.F&2);a.cp=c.Fe();let e=[...(new Set([...a.hd.Td(),...a.cp.Td(),a.J,c.I()]))];e=Ev(b,e);b=!a.J.Oa&&!c.I().Oa;const f=!a.J.Oa&&c.I().Oa,g=a.J.Oa;let h=null;!c.Zg&&ty(a)&&(h=h||{},h.HN=!0);if(f||!d)h=h||{},h.cw=a.J,h.XF=c.I();b||f||g&&!c.YJ?a.Aa=ny.zl.prototype.kC.bind(a.cp,e,a.Ca,d,h):g&&(a.Aa=ny.Gq.prototype.q_.bind(c,e,a.Ca));a.g.Fb?b||f||g&&!c.YJ?a.ob=function*(){if(fy(a)||Sw(a.g))yield a;return yield*gx(a.cp,e,a.Ca,
d,h)}:g&&(a.ob=function*(){if(fy(a)||Sw(a.g))yield a;return yield*tx(c,e,a.Ca)}):a.ob=ry}else a.Aa=qy,a.ob=ry}function uy(a){const b=a.hd.pa(),c=b.Nu.get(a.lu.toLowerCase())||null;if(c.$m()){const d=0!==(a.F&2);a.cp=c.Fe();let e=[...(new Set([...a.hd.Td(),...a.cp.Td()]))];e=Ev(b,e);const f=!c.Zg&&ty(a)?{HN:!0}:null;a.Aa=ny.zl.prototype.kC.bind(a.cp,e,a.Ca,d,f);a.ob=a.g.Fb?function*(){if(fy(a)||Sw(a.g))yield a;return yield*gx(a.cp,e,a.Ca,d,f)}:ry}else a.Aa=qy,a.ob=ry}
function ty(a){a=a.hd;do{if(a instanceof ny.Gq&&a.Zg)return!0;a=a.Jq()}while(a);return!1}
ny.aB=class extends ny.ta{constructor(a,b,c){super();this.hd=a;this.g=a=a.G();this.la=c;this.lb=4<=b.length?b[3]:-1;this.Qx=5<=b.length?b[4]&255:0;this.F=5<=b.length?b[4]>>8:0;this.oc=this.J=this.Va=null;this.Bk=-1;this.Zd=null;this.lu="";this.cp=this.UI=null;this.ob=this.Aa=qy;this.Ca=[];this.yb=[];this.rn=!1;this.Lj=this.ec=null;const d=(c=-3===b[0])?b[2]:b[5];this.xc=a.Fb||c?{LA:d[0],ag:d[1],index:d[2]}:null;-1===b[0]?(this.Zd=a.Rw(),this.Va=qx(a,b[1])):-2===b[0]?this.lu=b[1]:c?(this.Va=qx(a,b[1]),
this.Aa=this.HH,this.ob=this.yW,this.F|=8):(this.J=lp(a,b[0]),this.F&4?(this.lu=b[1],this.UI=lp(a,b[2])):(b[2]&&(this.oc=this.J.fu.get(b[2].toLowerCase())||null,this.Bk=ts(this.J,b[2])),this.Va=qx(a,b[1])));if(7===b.length){b=b[6];for(var e of b)this.Ca.push(ny.Df.Da(this,e,this.Ca.length)),this.yb.push(0)}0===this.Ca.length&&(this.yb=this.Ca=py);0!==(this.F&1)&&(e=this.hd,e.Se=e.g.nd,Pw(this.hd));this.hd.pa().HC.set(this.lb,this)}static Da(a,b,c){return ny.A(ny.aB,a,b,c)}ic(){for(var a of this.Ca)a.ic(),
a.yf&&(this.rn=!0);if(this.Zd)this.Nx(this.Zd,this.Zd,this.vI),this.ob=this.fI;else if(this.lu)this.F&4?sy(this):uy(this),this.lu="",this.UI=null;else if(this.Aa===this.HH){a=this.Va;const b=Gv(this.hd);this.Va=a.bind(null,this.g.Xg,b)}else this.oc?this.ii()?(this.Aa=this.FQ,this.ob=this.K0):(this.Aa=this.EQ,this.ob=this.J0):this.J.Ua().tj?(this.xI(),this.ob=this.eI):this.Hl()?(this.Aa=this.MQ,this.ob=this.S0):this.ii()?(this.Aa=this.IQ,this.ob=this.O0):2===this.Qx?(this.Aa=this.JQ,this.ob=this.P0):
this.Ca.length?this.Ca.every(b=>b.yf)?(this.Aa=this.HQ,this.ob=this.N0):this.rn?(this.Aa=this.LQ,this.ob=this.R0):this.Ca.every(b=>b.Cb)?(oy(this.Ca,this.yb),this.Aa=this.tI,this.ob=this.CQ):(this.Aa=this.KQ,this.ob=this.Q0):(this.Aa=this.tI,this.ob=this.CQ)}xI(){const a=this.J.Ua(),b=L(this.J.Fl());this.Nx(a,b,this.uI)}Nx(a,b,c){const d=this.Va,e=this.Ca;if(0===e.length)this.Aa=Ax(a,d,b);else if(1===e.length){const f=e[0];if(f.Cb)this.Aa=iy(a,d,b,f.T(0));else{const g=Ax(a,d,b);this.Aa=function(){return g(f.T(0))}}}else if(2===
e.length){const f=e[0],g=e[1];if(f.Cb&&g.Cb)this.Aa=jy(a,d,b,f.T(0),g.T(0));else{const h=Ax(a,d,b);this.Aa=function(){return h(f.T(0),g.T(0))}}}else if(3===e.length){const f=e[0],g=e[1],h=e[2];if(f.Cb&&g.Cb&&h.Cb)this.Aa=ky(a,d,b,f.T(0),g.T(0),h.T(0));else{const k=Ax(a,d,b);this.Aa=function(){return k(f.T(0),g.T(0),h.T(0))}}}else this.Aa=c}ii(){return 0!==(this.F&8)}Hl(){return 3===this.Qx}I(){return this.J}Iq(){const a=this.oc?this.oc.fg():this.J?this.J.Ua():null;return a?a.tg:1}Fe(){return this.hd}G(){return this.g}Fa(){return this.la}zO(){return this.xc.index}dg(){return!fy(this)&&
!Sw(this.g)&&!this.xc.ag}Xm(){this.ec||(this.ec=new Map);return this.ec}Vw(){this.Lj||(this.Lj=new Map);return this.Lj}vI(){const a=this.yb;oy(this.Ca,a);return this.Va.apply(this.Zd,a)}*fI(){if(fy(this)||Sw(this.g))yield this;if(this.xc.ag){const a=this.yb;oy(this.Ca,a);return yield*this.Va.apply(this.Zd,a)}return this.Aa()}uI(){const a=this.yb;oy(this.Ca,a);return this.Va.apply(L(this.J.Fl()),a)}*eI(){if(fy(this)||Sw(this.g))yield this;if(this.xc.ag){const a=this.yb;oy(this.Ca,a);return yield*this.Va.apply(L(this.J.Fl()),
a)}return this.Aa()}tI(){const a=this.yb,b=this.J.Y().qa();for(let c=0,d=b.length;c<d;++c)this.Va.apply(L(b[c]),a)}*CQ(){if(fy(this)||Sw(this.g))yield this;if(this.xc.ag){const a=this.yb,b=this.J.Y().qa();for(let c=0,d=b.length;c<d;++c)yield*this.Va.apply(L(b[c]),a)}else this.tI()}KQ(){const a=this.yb;oy(this.Ca,a);const b=this.J.Y().qa();for(let c=0,d=b.length;c<d;++c)this.Va.apply(L(b[c]),a)}*Q0(){if(fy(this)||Sw(this.g))yield this;if(this.xc.ag){const a=this.yb;oy(this.Ca,a);const b=this.J.Y().qa();
for(let c=0,d=b.length;c<d;++c)yield*this.Va.apply(L(b[c]),a)}else this.KQ()}HQ(){const a=this.Ca,b=this.yb,c=this.Va,d=this.J.Y().qa();for(let e=0,f=d.length;e<f;++e){const g=d[e];for(let h=0,k=a.length;h<k;++h)b[h]=a[h].T(e);c.apply(L(g),b)}}*N0(){if(fy(this)||Sw(this.g))yield this;if(this.xc.ag){const a=this.Ca,b=this.yb,c=this.Va,d=this.J.Y().qa();for(let e=0,f=d.length;e<f;++e){const g=d[e];for(let h=0,k=a.length;h<k;++h)b[h]=a[h].T(e);yield*c.apply(L(g),b)}}else this.HQ()}LQ(){const a=this.Ca,
b=this.yb,c=this.Va,d=this.J.Y().qa();for(let f=0,g=a.length;f<g;++f){var e=a[f];e.yf||(b[f]=e.T(0))}for(let f=0,g=d.length;f<g;++f){e=d[f];for(let h=0,k=a.length;h<k;++h){const l=a[h];l.yf&&(b[h]=l.T(f))}c.apply(L(e),b)}}*R0(){if(fy(this)||Sw(this.g))yield this;if(this.xc.ag){const b=this.Ca,c=this.yb,d=this.Va,e=this.J.Y().qa();for(let f=0,g=b.length;f<g;++f){var a=b[f];a.yf||(c[f]=a.T(0))}for(let f=0,g=e.length;f<g;++f){a=e[f];for(let h=0,k=b.length;h<k;++h){const l=b[h];l.yf&&(c[h]=l.T(f))}yield*d.apply(L(a),
c)}}else this.LQ()}JQ(){const a=this.Ca,b=this.yb,c=this.Va;var d=this.J;const e=d.vb;d=d.Y().qa();e.AG();for(let f=0,g=d.length;f<g;++f){const h=d[f];for(let k=0,l=a.length;k<l;++k)b[k]=a[k].T(f);c.apply(L(h),b)}e.xG()}*P0(){if(fy(this)||Sw(this.g))yield this;if(this.xc.ag){const b=this.Ca,c=this.yb,d=this.Va;var a=this.J;const e=a.vb;a=a.Y().qa();e.AG();for(let f=0,g=a.length;f<g;++f){const h=a[f];for(let k=0,l=b.length;k<l;++k)c[k]=b[k].T(f);yield*d.apply(L(h),c)}e.xG()}else this.JQ()}MQ(){const a=
this.yb;oy(this.Ca,a);return this.Va.apply(this.oc||this.J,a)}*S0(){if(fy(this)||Sw(this.g))yield this;if(this.xc.ag){var a=this.yb;oy(this.Ca,a);a=this.Va.apply(this.oc||this.J,a);ny.bn(a)&&(a=yield*a);return a}return this.MQ()}EQ(){var a=this.J;const b=a.Oa,c=a.rj,d=this.Ca,e=this.rn,f=this.yb,g=this.Va,h=this.Bk;a=a.Y().qa();for(let m=0,n=d.length;m<n;++m){var k=d[m];k.yf||(f[m]=k.T(0))}for(let m=0,n=a.length;m<n;++m){k=a[m];if(e)for(let p=0,q=d.length;p<q;++p){var l=d[p];l.yf&&(f[p]=l.T(m))}l=
b?ly(k.I(),c):0;g.apply(L(k.Kd[h+l]),f)}}*J0(){if(fy(this)||Sw(this.g))yield this;if(this.xc.ag){var a=this.J;const d=a.Oa,e=a.rj,f=this.Ca,g=this.rn,h=this.yb,k=this.Va,l=this.Bk;a=a.Y().qa();for(let m=0,n=f.length;m<n;++m){var b=f[m];b.yf||(h[m]=b.T(0))}for(let m=0,n=a.length;m<n;++m){b=a[m];if(g)for(let p=0,q=f.length;p<q;++p){var c=f[p];c.yf&&(h[p]=c.T(m))}c=d?ly(b.I(),e):0;yield*k.apply(L(b.Kd[l+c]),h)}}else this.EQ()}IQ(){const a=this.Ca,b=this.yb,c=this.Va,d=this.J.Y().qa(),e=[];for(let f=
0,g=d.length;f<g;++f){const h=d[f];for(let k=0,l=a.length;k<l;++k)b[k]=a[k].T(f);e.push(c.apply(L(h),b))}return Promise.all(e)}*O0(){if(fy(this)||Sw(this.g))yield this;if(this.xc.ag){const a=this.Ca,b=this.yb,c=this.Va,d=this.J.Y().qa(),e=[];for(let f=0,g=d.length;f<g;++f){const h=d[f];for(let k=0,l=a.length;k<l;++k)b[k]=a[k].T(f);e.push(yield*c.apply(L(h),b))}return Promise.all(e)}return this.IQ()}FQ(){var a=this.J;const b=a.Oa,c=a.rj,d=this.Ca,e=this.yb,f=this.Va,g=this.Bk;a=a.Y().qa();const h=
[];for(let k=0,l=a.length;k<l;++k){const m=a[k];for(let p=0,q=d.length;p<q;++p)e[p]=d[p].T(k);const n=b?ly(m.I(),c):0;h.push(f.apply(L(m.Kd[g+n]),e))}return Promise.all(h)}*K0(){if(fy(this)||Sw(this.g))yield this;if(this.xc.ag){var a=this.J;const b=a.Oa,c=a.rj,d=this.Ca,e=this.yb,f=this.Va,g=this.Bk;a=a.Y().qa();const h=[];for(let k=0,l=a.length;k<l;++k){const m=a[k];for(let p=0,q=d.length;p<q;++p)e[p]=d[p].T(k);const n=b?ly(m.I(),c):0;h.push(yield*f.apply(L(m.Kd[g+n]),e))}return Promise.all(h)}return this.FQ()}async HH(){try{await this.Va()}catch(a){console.error(`Unhandled exception running script %c${this.hd.rd.ea()}, event ${this.hd.wu}, action ${this.zO()+
1}:`,"font-size: 1.2em; font-weight: bold;",a),self.$h&&self.$h.a1(this),ox||(console.info("%cTip:%c run this to highlight in Construct the last script that had an error: %cgoToLastErrorScript()","font-weight: bold; text-decoration: underline","","font-weight: bold"),ox=!0)}}*yW(){if(fy(this)||Sw(this.g))yield this;return this.HH()}na(){return this.ec&&this.ec.size?{ex:ny.WH(this.ec)}:null}ra(a){this.ec&&(this.ec.clear(),this.ec=null);a&&(a=a.ex)&&(this.ec=ny.KG(a))}};"use strict";
const V=self.B,vy=new V.bb;let wy=null;V.mW=function(a){wy=a};function xy(a){return a instanceof self.Nc?wy.Ok.get(a):a.Z()}function W(a){return xy(a).C()}function yy(a,b){return V.compare(W(this).Ga(),a,b)}function zy(a,b){return V.compare(W(this).Ha(),a,b)}function Ay(){{var a=W(this);const c=a.aa();if(up(c))a=rq(a,hq(c));else{var b=c.rc();a=aq(a,wp(c),$p(b),b.sg)}}return a}function By(){var a=W(this);const b=a.rc();a=Um(a);return 0>a.ja||0>a.da||a.$>b.M()||a.V>b.K()}
function Cy(a,b,c){const d=this.Y(),e=d.qa();if(!e.length)return!1;let f=e[0];var g=f.C();let h=f,k=V.vU(g.Ga(),g.Ha(),b,c);for(let l=1,m=e.length;l<m;++l)if(f=e[l],g=f.C(),g=V.vU(g.Ga(),g.Ha(),b,c),0===a&&g<k||1===a&&g>k)k=g,h=f;sv(d,h);return!0}function Dy(a){const b=W(this);b.Ga()!==a&&(b.fj(a),K(b))}function Ey(a){const b=W(this);b.Ha()!==a&&(b.uk(a),K(b))}function Fy(a,b){const c=W(this);if(c.Ga()!==a||c.Ha()!==b)c.sk(a,b),K(c)}
function Gy(a,b){if(a){var c=xy(this);a=a.Y().qa();if(a=0<a.length?a[Yq(c)%a.length]:null){var [d,e]=a.Jo(b);b=c.C();if(b.Ga()!==d||b.Ha()!==e)b.sk(d,e),K(b)}}}function Hy(a){if(0!==a){var b=W(this);nq(b,Iy(b)*a,Jy(b)*a);K(b)}}function Ky(a,b){if(0!==b){var c=W(this);a=V.Vb(a);nq(c,Math.cos(a)*b,Math.sin(a)*b);K(c)}}function Ly(){return W(this).Ga()}function My(){return W(this).Ha()}function Ny(){const a=xy(this);return Ul(a.G(),a)}function Oy(a,b){return V.compare(W(this).M(),a,b)}
function Py(a,b){return V.compare(W(this).K(),a,b)}function Qy(a){const b=W(this);b.M()!==a&&(b.Og(a),K(b))}function Ry(a){const b=W(this);b.K()!==a&&(b.vh(a),K(b))}function Sy(a,b){const c=W(this);if(c.M()!==a||c.K()!==b)c.uc(a,b),K(c)}function Ty(){return W(this).M()}function Uy(){return W(this).K()}function Vy(){return Um(W(this)).$}function Wy(){return Um(W(this)).V}function Xy(){return Um(W(this)).ja}function Yy(){return Um(W(this)).da}function Zy(){const a=Um(W(this));return(a.$+a.ja)/2}
function $y(){const a=Um(W(this));return(a.V+a.da)/2}function az(a,b){return V.Ys(W(this).fb(),V.Vb(b))<=V.Vb(a)}function bz(a){return V.Bg(W(this).fb(),V.Vb(a))}function cz(a,b){a=V.Vb(a);b=V.Vb(b);const c=W(this).fb();return V.Bg(b,a)?V.Bg(c,a)&&!V.Bg(c,b):!(!V.Bg(c,a)&&V.Bg(c,b))}function dz(a){const b=W(this);a=V.le(V.Vb(a));isNaN(a)||b.fb()===a||(b.He(a),K(b))}function ez(a){if(!isNaN(a)&&0!==a){var b=W(this);b.He(b.fb()+V.Vb(a));K(b)}}
function fz(a){if(!isNaN(a)&&0!==a){var b=W(this);b.He(b.fb()-V.Vb(a));K(b)}}function gz(a,b){const c=W(this),d=c.fb();a=V.LM(d,V.Vb(b),V.Vb(a));isNaN(a)||d===a||(c.He(a),K(c))}function hz(a,b,c){const d=W(this),e=d.fb();b-=d.Ga();c-=d.Ha();a=V.LM(e,Math.atan2(c,b),V.Vb(a));isNaN(a)||e===a||(d.He(a),K(d))}function iz(a,b){const c=W(this),d=c.fb();a-=c.Ga();b-=c.Ha();b=Math.atan2(b,a);isNaN(b)||d===b||(c.He(b),K(c))}function jz(){return V.Wj(W(this).fb())}
function kz(a,b){return V.compare(V.aV(100*W(this).Kc()),a,b)}function lz(){return W(this).Cc()}function mz(a){const b=xy(this),c=b.C();a=2===a?!c.Cc():0!==a;c.Cc()!==a&&(c.qe(a),b.G().ba())}function nz(a){a=V.X(a/100,0,1);const b=xy(this),c=b.C();if(Pt(c)){if(c.Ia.rm===a)return}else if(c.Kc()===a)return;c.wh(a);b.G().ba()}function oz(a){xd(vy,a);a=xy(this);const b=a.C();ud(b.tb,vy)||(yt(b,vy),a.G().ba())}function pz(){const a=W(this).tb;return V.cC(a.ab,a.ib,a.$a,a.Xa)}
function qz(){return V.aV(100*W(this).Kc())}function rz(a){return a?W(this).aa()===a:!1}function sz(a){const b=this.Y(),c=b.qa();if(!c.length)return!1;let d=c[0];for(let e=1,f=c.length;e<f;++e){const g=c[e],h=g.C(),k=d.C(),l=h.aa().Fa(),m=k.aa().Fa();if(0===a){if(l>m||l===m&&Vm(h)>Vm(k))d=g}else if(l<m||l===m&&Vm(h)<Vm(k))d=g}sv(b,d);return!0}function tz(a,b,c){const d=W(this);a=0===a?d.hb():dq(d);return V.compare(a,b,c)}
function uz(){var a=W(this);const b=a.ia,c=a.Ph,d=c.L;d.length&&d.at(-1)===b||(c.mr(b,!1),c.ni(b,!1),a.g.ba())}function vz(){var a=W(this);const b=a.ia,c=a.Ph;var d=c.L;if(!d.length||d[0]!==b){c.mr(b,!1);d=b.C();if(d.aa()!==c)throw Error("instance added to wrong layer");c.L.unshift(b);0!==d.hb()&&(c.qn=!0);op(c,b);a.g.ba()}}function wz(a){if(a){var b=W(this);const c=b.ia,d=b.Ph;if(d.rc()!==a.rc())throw Error("layer from different layout");a!==d&&(d.mr(c,!0),Rq(b,a),a.ni(c,!0),b.g.ba())}}
function xz(a,b){var c=0===a;if(b){a=xy(this);var d=yz(b,a);if(d){b=a.C();var e=b.ia;a=!1;var f=b.Ph;if(d.zc!==e.zc){var g=d.C();if(!g)throw Error("expected world instance");g=g.aa();f.Fa()!==g.Fa()&&(f.mr(e,!0),Rq(b,g),g.ni(e,!0),a=!0);c=!!c;f=e.C();d=d.C();if(f.aa()!==g||d.aa()!==g)throw Error("can't arrange Z order unless both objects on this layer");f=Vm(f);d=Vm(d);f===d+(c?1:-1)?g=!1:(M.m3(g.L,f),f<d&&d--,c&&d++,d===g.L.length?g.L.push(e):g.L.splice(d,0,e),op(g,e),g=!0);(a||g)&&b.g.ba()}}}}
function zz(a){const b=xy(this),c=b.C();c.hb()!==a&&(c.Pg(a),b.G().ba())}function Az(){return W(this).aa().Fa()}function Bz(){return W(this).aa().ea()}function Cz(){return Vm(W(this))}function Dz(){return W(this).hb()}function Ez(){return dq(W(this))}function Fz(a){const b=xy(this);if(a=ys(b.I().Sa,a))return a=a.Fa(),b.C().Nf.Mo(a)}function Gz(a,b){const c=xy(this);if(b=ys(c.I().Sa,b)){b=b.Fa();a=1===a;var d=c.C().Nf;d.Mo(b)!==a&&(d.LH(b,a),d.zh(),c.G().ba())}}
function Hz(a,b,c){const d=xy(this);if(a=ys(d.I().Sa,a)){b=Math.floor(b);var e=a.Ge().Ow(b);e&&("color"===e?(xd(vy,c),c=vy):"percent"===e&&(c/=100),a=a.Fa(),e=d.C().Nf,e.mC(a,b,c)&&e.Mo(a)&&d.G().ba())}}const Iz=V.A(V.Rect),Jz=[],Kz=[];let Lz=!1,Mz=null,Nz=!1;const rv=new Set;function Oz(a,b,c,d){b.zc<c.zc?a.Set(b,c,d):a.Set(c,b,d)}function Pz(a,b,c){b.zc<c.zc?a.Eo(b,c):a.Eo(c,b)}function Qz(a,b,c){return b.zc<c.zc?a.T(b,c):a.T(c,b)}
function Rz(a,b,c,d){if(!b)return!1;const e=0!==c||0!==d,f=a.C(),g=a.G();var h=g.Ig();const k=h.Fe().qf;var l=h.I();h=h.Rk;const m=b.Y();l=l!==b;Mz=b;Lz=l&&!h;Nz=!1;let n=0,p=0,q=!1;m.pb?(Iz.wa(Um(f)),Iz.offset(c,d),Sz(f.aa(),b,Iz,Kz),b=Kz):k?0===g.Jg().Ke&&!m.Kb.length&&m.L.length?b=m.L:(b=m.Kb,Nz=!0):b=m.L;e&&(n=f.Ga(),p=f.Ha(),nq(f,c,d),K(f));for(const u of b)if(Tz(a,u)){q=!0;if(h)break;l&&rv.add(u)}e&&(f.sk(n,p),K(f));V.H(Kz);return q}
function Uz(a,b){if(Lz){if(b){b=a.G().Ob().qf;a=Mz.Y();const c=a.L,d=a.Kb;if(a.pb)pv(a,rv),b&&(V.H(d),qv(a,Mz.qa()));else if(b)if(Nz){b=rv;for(const e of b)a.L.push(e);kv.Yh(a.Kb,b)}else qv(a,c),pv(a,rv);else pv(a,rv);hx(Mz)}rv.clear();Mz=null;Lz=!1}}
function Vz(a){if(this.g.pf)return Wz.call(this,a);if(!a)return!1;var b=this.g;const c=b.Bn;var d=b.pa();const e=d.Ac();var f=d.Ig();d=f.I();var g=f.Xm(),h=f.Vw();f=ao(e);const k=b.Qi,l=k-1,m=f.Ob(),n=e.Ra(m);let p=g.get("collmemory");p||(p=V.A(V.lx),g.set("collmemory",p));h.get("collisionCreatedDestroyCallback")||(h.set("collisionCreatedDestroyCallback",!0),b.cb().addEventListener("instancedestroy",t=>{Yd(p,t.instance)}));b=a.Y();g=d.Y().qa();h=null;for(let t=0;t<g.length;++t){const v=g[t];b.pb?
(Sz(v.C().aa(),a,Um(v.C()),Jz),h=Jz,Xz(c,v,a,h)):h=b.qa();for(let w=0;w<h.length;++w){const A=h[w];if(Tz(v,A)||Yz(c,v,A)){var q=Qz(p,v,A),u=!1,r=-2;"number"===typeof q&&(u=!0,r=q);q=!u||r<l;Oz(p,v,A,k);q&&(q=m.Mc(),Uv(q),r=d.Y(),u=a.Y(),r.pb=!1,u.pb=!1,d===a?(u=r.L,V.H(u),u.push(v),u.push(A),hx(d)):(r=r.L,u=u.L,V.H(r),V.H(u),r.push(v),u.push(A),hx(d),hx(a)),Zw(m,f,n),Vv(q))}else Pz(p,v,A)}V.H(Jz)}e.La();return!1}
function*Wz(a){if(!a)return!1;var b=this.g;const c=b.Bn;var d=b.pa();const e=d.Ac();var f=d.Ig();d=f.I();var g=f.Xm(),h=f.Vw();f=ao(e);const k=b.Qi,l=k-1,m=f.Ob(),n=e.Ra(m);let p=g.get("collmemory");p||(p=V.A(V.lx),g.set("collmemory",p));h.get("collisionCreatedDestroyCallback")||(h.set("collisionCreatedDestroyCallback",!0),b.cb().addEventListener("instancedestroy",t=>{Yd(p,t.instance)}));b=a.Y();g=d.Y().qa();h=null;for(let t=0;t<g.length;++t){const v=g[t];b.pb?(Sz(v.C().aa(),a,Um(v.C()),Jz),h=Jz,
Xz(c,v,a,h)):h=b.qa();for(let w=0;w<h.length;++w){const A=h[w];if(Tz(v,A)||Yz(c,v,A)){var q=Qz(p,v,A),u=!1,r=-2;"number"===typeof q&&(u=!0,r=q);q=!u||r<l;Oz(p,v,A,k);q&&(q=m.Mc(),Uv(q),r=d.Y(),u=a.Y(),r.pb=!1,u.pb=!1,d===a?(u=r.L,V.H(u),u.push(v),u.push(A),hx(d)):(r=r.L,u=u.L,V.H(r),V.H(u),r.push(v),u.push(A),hx(d),hx(a)),yield*ax(m,f,n),Vv(q))}else Pz(p,v,A)}V.H(Jz)}e.La();return!1}function Zz(a){return Rz(xy(this),a,0,0)}function $z(a,b,c){return Rz(xy(this),a,b,c)}
function aA(){return W(this).oe()}function bA(){return W(this).ef()}
function cA(a,b){const c=this.Y().qa();if(0===c.length)return!1;const d=a.Y();var e=d.qa();if(d.pb){var f=[...dA(this.g,a)];0<f.length&&(e=e.concat(f))}if(0===e.length)return!1;e=new Set(e);f=new Set;for(let h=0,k=c.length;h<k;++h){var g=c[h];if(1===b)for(const l of g.ow())eA(l,a)&&e.has(l)&&f.add(l);else{if(0===b){if(g=g.ya(),null===g)continue}else g=g.Ko();eA(g,a)&&e.has(g)&&f.add(g)}}if(0===f.size)return!1;pv(d,f);hx(a);return!0}
function fA(a,b){const c=this.Y().qa();if(0===c.length)return!1;const d=a.Y();var e=d.qa();if(d.pb){var f=[...dA(this.g,a)];0<f.length&&(e=e.concat(f))}if(0===e.length)return!1;e=new Set(e);f=new Set;for(let g=0,h=c.length;g<h;++g){const k=c[g];2===b&&!k.ef()&&eA(k,a)&&e.has(k)&&f.add(k);for(const l of 0===b?k.children():k.Rj())2===b&&l.ef()||eA(l,a)&&e.has(l)&&f.add(l)}if(0===f.size)return!1;pv(d,f);hx(a);return!0}
function gA(a,b,c){const d=this.Y().qa();if(0===d.length)return!1;const e=a.Y();var f=e.qa();if(e.pb){var g=[...dA(this.g,a)];0<g.length&&(f=f.concat(g))}if(0===f.length)return!1;f=new Set(f);g=[];for(let k=0,l=d.length;k<l;++k){var h=d[k];if(0===b)h=h.Dw(c),null!==h&&eA(h,a)&&f.has(h)&&g.push(h);else if(1===b)for(const m of h.children())if(eA(m,a))if(0===c){f.has(m)&&g.push(m);break}else--c}if(0===g.length)return!1;ov(e,g);hx(a);return!0}
function hA(a,b,c){const d=xy(this);switch(a){default:return V.compare(d.BB(),b,c);case 1:return V.compare(d.wB(),b,c)}}function iA(a,b,c,d,e,f,g,h,k,l){const m=xy(this),n=m.G().Ew().I();for(const p of jA(a,m,n)){if(!p.Ua().FT)break;m.Xj(p,{ht:b,it:c,xq:d,wq:e,et:f,ft:g,jt:h,gt:k,dw:l})}}function kA(a){const b=xy(this),c=b.G().Ew().I();for(const d of jA(a,b,c))b.Ll(d)}function lA(){const a=xy(this);a.oe()&&a.ya().Ll(a)}function mA(){return xy(this).BB()}function nA(){return xy(this).wB()}
function oA(a,b){a=Math.floor(a);b=Math.floor(b);const c=W(this);2>a||2>b||!isFinite(a)||!isFinite(b)?(pA(c),K(c)):qA(c,a,b)}function rA(a,b,c,d,e,f,g,h){const k=W(this);k.dQ(a,b,{mode:0===c?"absolute":"relative",x:d,y:e,vl:f,qV:g,vV:h})&&K(k)}function sA(){const a=W(this);return tA(a)?uA(a).hm:0}function vA(){const a=W(this);return tA(a)?uA(a).Gm:0}function wA(a){const b=W(this);a=2===a?!b.Cc():0!==a;b.Cc()!==a&&b.qe(a)}
function xA(a,b){this instanceof self.Nc?this.VU("set-css-style",{prop:Nn.eB(a),val:b}):yA(this,"set-css-style",{prop:zA.eB(a),val:b})}function AA(a,b){this instanceof self.Nc?this.VU("set-attribute",{name:a,val:""+b}):yA(this,"set-attribute",{name:a,val:""+b})}function BA(a){this instanceof self.Nc?this.VU("remove-attribute",{name:a}):yA(this,"remove-attribute",{name:a})}function CA(){this instanceof self.Nc?Sn(this,{focus:!0}):Ym(this,{focus:!0})}
function DA(){this instanceof self.Nc?Sn(this,{focus:!1}):Ym(this,{focus:!1})}function EA(){return this instanceof self.Nc?this.xL:this.tJ}function FA(a){this instanceof self.Nc?this.$fa(0!==a):this.Mx(0!==a)}function GA(){return this instanceof self.Nc?this.td():this.td}function HA(a,b,c){return V.compare(Ct(xy(this),a),b,c)}function IA(a){return!!Ct(xy(this),a)}function JA(){return xy(this).Dt()}
function KA(a,b){const c=this.Y(),d=c.qa();if(!d.length)return!1;const e=this.Oa;let f=null,g=0;for(let k=0,l=d.length;k<l;++k){const m=d[k];var h=e?m.I().Du[this.rj]:0;h=Ct(m,h+b);if(null===f||0===a&&h<g||1===a&&h>g)g=h,f=m}sv(c,f);return!0}
function LA(a){if(this.g.Ig().Rk){{const d=this.Y();if(d.pb){d.pb=!1;lv(d);var b=this.qa();for(let e=0,f=b.length;e<f;++e){var c=b[e];c.zc===a?d.Kb.push(c):d.L.push(c)}hx(this);a=!!d.L.length}else{b=d.L;c=0;for(let e=0,f=b.length;e<f;++e){const g=b[e];b[c]=g;g.zc===a?d.Kb.push(g):++c}V.$e(b,c);hx(this);a=!!b.length}}}else a=MA(this,a);return a}
function MA(a,b){b=us(a.G(),b);if(!b)return!1;const c=a.Y();if(!c.pb&&!c.L.includes(b))return!1;if(a.Oa){if(NA(b.I(),a))return sv(c,b),hx(a),!0}else if(b.I()===a)return sv(c,b),hx(a),!0;return!1}function OA(a){a=new Set(V.TN(a));const b=PA(xy(this));return a.nN(b)}function QA(){return Array.from(PA(xy(this))).join(" ")}function RA(){return PA(xy(this)).size}function SA(a){a:{var b=xy(this);a=Math.floor(a);for(const c of PA(b)){if(0===a){b=c;break a}--a}b=""}return b}
function TA(a,b){b=V.TN(b);if(0!==b.length){var c=xy(this),d=new Set(PA(c));if(0===a)for(const e of b)d.add(e);else if(1===a)for(const e of b)d.delete(e);UA(c,d)}}function VA(){const a=xy(this);iq(a.G(),a)}function WA(){return!0}function XA(){return!0}function YA(a,b){xy(this).Po(a,b)}function ZA(a,b){const c=xy(this),d=Ct(c,a);"number"===typeof d&&"number"!==typeof b?b=parseFloat(b):"string"===typeof d&&"string"!==typeof b&&(b=b.toString());c.Po(a,d+b)}
function $A(a,b){const c=xy(this),d=Ct(c,a);"number"===typeof d&&("number"!==typeof b&&(b=parseFloat(b)),c.Po(a,d-b))}function aB(a,b){xy(this).Po(a,b?1:0)}function bB(a){const b=xy(this);b.Po(a,0===Ct(b,a)?1:0)}function cB(a){let b;try{b=JSON.parse(a)}catch(c){console.error("Failed to load from JSON string: ",c);return}a=xy(this);dB(a.G());a.Wt("state");a.mc(b,"state");eB(a.G(),"state",{ON:!0})}function fB(){return JSON.stringify(xy(this).ed("state"))}function gB(){return xy(this).I().ea()}
function hB(){const a=xy(this).G(),b=a.Jg().xJ;let c=b.L.length;for(const d of dA(a,b))++c;return c}function iB(){return xy(this).G().Jg().xJ.Y().qa().length}function jB(){return Yq(xy(this))}function kB(){return xy(this).zc}
V.DV=function(a,b){const c=a[1],d=a[4],e=a[5],f=a[6],g=a[7],h=a[8],k=a[10],l=a[11],m=a[12],n=a[13],p=a[14],q=a[15],u=a[16],r=b.D,t=b.xa,v=b.Qa;a[3]&&(r.tW=yy,r.U6=zy,r.G9=Ay,r.I9=By,r.Caa=Cy,t.fj=Dy,t.uk=Ey,t.eQ=Fy,t.Tda=Gy,t.A$=Hy,t.z$=Ky,v.AQ=Ly,v.Ufa=My,v.WM=Ny);d&&(r.sW=Oy,r.oW=Py,t.Og=Qy,t.vh=Ry,t.uc=Sy,v.zQ=Ty,v.HO=Uy,v.H5=Vy,v.L5=Wy,v.K5=Xy,v.G5=Yy,v.I5=Zy,v.J5=$y);e&&(r.LV=az,r.pY=bz,r.jY=cz,t.He=dz,t.rca=ez,t.sca=fz,t.tca=gz,t.uca=hz,t.$da=iz,v.t5=jz);f&&(r.Cc=lz,r.M6=kz,t.qe=mz,t.wh=nz,
t.Tca=oz,v.Opacity=qz,v.y6=pz);g&&(r.E9=rz,r.Jaa=sz,r.V6=tz,t.D$=uz,t.B$=vz,t.C$=wz,t.Xfa=xz,t.Pg=zz,v.i$=Az,v.g$=Bz,v.Wfa=Cz,v.Vfa=Dz,v.nfa=Ez);h&&(r.r9=Fz,t.Vca=Gz,t.Wca=Hz);n&&(r.oe=aA,r.ef=bA,r.Haa=cA,r.Baa=fA,r.Faa=gA,r.D6=hA,t.Xj=iA,t.Ll=kA,t.tba=lA,v.u6=mA,v.s5=nA);p&&(t.Lda=oA,t.dQ=rA,v.w$=sA,v.x$=vA);k&&(r.Cc=lz,t.qe=wA,t.Mca=xA,t.Xca=AA,t.sba=BA);l&&(r.u9=EA,t.cda=CA,t.Kca=DA);m&&(r.$m=GA,t.Zca=FA);q&&(r.Z$=Vz,r.J9=Zz,r.K9=$z,b.NW=Uz);c||(r.K6=HA,r.kY=IA,r.Daa=KA,r.Aaa=LA,r.CX=OA,t.cQ=YA,
t.n5=ZA,t.Cea=$A,t.x_=aB,t.jfa=bB,t.k6=TA,r.tZ=WA,r.uZ=XA,t.oO=VA,t.qH||(t.qH=cB),v.aO||(v.aO=fB),v.a7=hB,v.Kaa=iB,v.I8=jB,v.tfa=kB,v.J$=gB,v.Nea=QA,v.Oea=RA,v.Gea=SA);u&&(v.Sea=JA)};"use strict";const kw=self.B;function aw(a){return"timer"===a.oa?a.Nd<=cq(a.Na.G()):a.Xu}async function ew(a,b){lB(a,b);for(const c of Yw(a.Gk,b))await Mv(a.Na.G(),c);a.xn&&a.xn.ii()&&jx(a.xn,a.Vx);Sv(a.Se);a.Wz=!0}
function mB(a,b){a.oa="promise";a.Hx();b.then(()=>{a.Xu=!0}).catch(c=>{console.warn("[C3 runtime] Promise rejected in 'Wait for previous actions to complete': ",c);a.Xu=!0})}function lB(a,b){b.sI(a.Gk,a.jf);for(const [c,d]of a.Is.entries())d.sI(c.Y());a.If&&wv(b,[...a.If]);if(b=a.xn)ex(b,a.Wg),b.iK.map((c,d)=>c.pe(a.NJ[d])),b.ii()&&sx(b,a.Vx)}
kw.YP=class extends kw.ta{constructor(a){super();this.Na=a;this.oa="";this.Nd=-1;this.Xz="";this.Xu=!1;this.Gk=null;this.jf=0;this.Se=[];this.If=null;this.Is=new Map;this.xn=null;this.Vx=-1;this.NJ=this.Wg=null;this.Wz=!1}m(){this.oa="";this.Nd=-1;this.Xz="";this.NJ=this.Wg=this.xn=this.Gk=null;this.Vx=-1;kw.H(this.Se);this.If&&(this.If.clear(),this.If=null);for(const a of this.Is.values())a.m();this.Is.clear()}Hx(){var a=this.Na,b=a.G().nd,c=a.Jg();this.Gk=c.Ob();this.jf=c.jf+1;if(c=gw(this.Gk))this.xn=
c,this.Wg=rx(c),this.NJ=c.iK.map(d=>d.Ba()),c.ii()&&(c.Wx.get(c.oy).DN++,this.Vx=c.oy);for(const d of b)if(b=d.Y(),!b.pb||this.Gk.Se.includes(d))this.Se.push(d),this.Is.set(d,kw.A(kw.lQ,b));a=Wv(a);this.If=0<a.size?a:null}$q(a){for(const b of this.Is.values())b.$q(a)}na(){const a={},b={t:this.Nd,st:this.Xz,s:this.Xu,ev:this.Gk.lb,sm:this.Se.map(c=>c.lb),dsm:this.If?[...this.If].map(c=>c.lb):null,sols:a};Rw(this.Gk,this.jf)&&(b.act=jw(this.Gk,this.jf).lb);for(const [c,d]of this.Is)a[c.lb.toString()]=
d.na();return b}};"use strict";const nB=self.B;nB.lQ=class extends nB.ta{constructor(a){super();this.J=null;this.pE=!0;this.L=[];a&&(this.J=a.I(),this.pE=a.pb,nB.wd(this.L,a.L))}m(){this.J=null;nB.H(this.L)}sI(a){a.pb=!!this.pE;nB.wd(a.L,this.L)}$q(a){nB.Yh(this.L,a)}na(){return{sa:this.pE,insts:this.L.map(a=>a.zc)}}ra(a,b){a=a.G();this.pE=!!b.sa;nB.H(this.L);for(const c of b.insts)(b=us(a,c))&&this.L.push(b)}};"use strict";const oB=self.B;
function pB(a,b){let c=a.get(b);c||(c=new Map,a.set(b,c));return c}function Ax(a,b,c){if(!c)throw Error("missing 'this' binding");let d=a.bR.get(b);if(d)return d;d=b.bind(c);a.bR.set(b,d);return d}function iy(a,b,c,d){if(!c)throw Error("missing 'this' binding");a=pB(a.n1,b);let e=a.get(d);if(e)return e;e=b.bind(c,d);a.set(d,e);return e}function jy(a,b,c,d,e){if(!c)throw Error("missing 'this' binding");a=pB(a.o1,b);a=pB(a,d);let f=a.get(e);if(f)return f;f=b.bind(c,d,e);a.set(e,f);return f}
function ky(a,b,c,d,e,f){if(!c)throw Error("missing 'this' binding");a=pB(a.q1,b);a=pB(a,d);a=pB(a,e);let g=a.get(f);if(g)return g;g=b.bind(c,d,e,f);a.set(f,g);return g}function qB(a){return 2<=a.tg?a.Pu.constructor:a.constructor}function rB(a,b){if(!a.tj)throw Error("must be single-global plugin");a.WL=b}
oB.uh=class extends oB.ta{constructor(a){super();this.g=a.Qd;this.tj=!!a.lN;this.Yd=!!a.l4;this.q2=!!a.LU;this.A2=!!a.w4;this.Z1=!!a.DU;this.FT=!!a.T4;this.ET=!!a.iV;this.wK=!!a.KU;this.fS=!!a.HU;this.tg=a.NN;this.WL=null;this.bR=new Map;this.n1=new Map;this.o1=new Map;this.q1=new Map;this.SL=a.MN;this.Pu=null}m(){this.g=null}G(){return this.g}nc(){}ge(a=!1){let b=this.SL;a&&"function"!==typeof b&&2<=this.tg&&(b=globalThis.PO);return b}cn(){return this.q2}Tq(){return this.A2}OB(){return this.Z1}Fl(){if(!this.tj)throw Error("must be single-global plugin");
return this.WL.Fl()}Ut(){const a=this.tg;oB.zb.Vo(this,a);const b=this.ge(!0);if(b){if(this.Pu=new b,!(this.Pu instanceof self.eH))throw new TypeError("plugin class must derive from IPlugin");}else this.Pu=new self.eH;oB.zb.Uo(a)}};"use strict";const sB=self.B;function tB(a,b,c){Gn(a.g,a.jp,b,d=>{const e=a.jK.get(d.elementId);c(e,d)})}sB.JH=class extends sB.uh{constructor(a,b){super(a);this.jp=b;this.D2=0;this.jK=new Map;tB(this,"elem-focused",c=>{c.tJ=!0});tB(this,"elem-blurred",c=>{c&&(c.tJ=!1)})}m(){super.m()}};
"use strict";const uB=self.B;uB.Ng=class extends uB.ta{constructor(a){super();this.J=a;this.g=a.G();this.Li=a.Ua()}m(){this.Li=this.g=this.J=null}I(){return this.J}G(){return this.g}Ua(){return this.Li}Hd(){return this.J.Hd()}nc(){}Aw(){}AG(){}xG(){}Ht(){}Zq(){}aC(){}xH(){}ge(){return null}xl(a,b,c){a=uB.A(uB.Event,a,b);a.wN=this;c&&Object.assign(a,c);this.I().Fg(a)}};"use strict";const vB=self.B;function wB(a,b){for(const [c,d]of b)a.pw(c,d)}function xB(a,b,c){ne(a.g,a.jp,b,c)}
function yB(a,b,c){return Vl(a.g,a.jp,b,c)}function zB(a,b,c){a.g.yd()?xB(a,b,c):window.c3_runtimeInterface._OnMessageFromRuntime({type:"event",component:a.jp,handler:b,data:c,responseId:null})}
vB.kk=class extends vB.ta{constructor(a,b){super();this.ia=a;this.jp=b;this.g=a.G();this.J=this.ia.I();this.vb=this.J.vb;this.Pv=this.mo=null;this.ls=this.Sk=!1;this.og=null;this.Zv=!1}m(){this.Zv=!0;this.Xt();this.yI();this.Pv=this.mo=null;this.og&&(this.og.m(),this.og=null);this.vb=this.J=this.g=this.ia=null}kn(){return this.Zv}Z(){return this.ia}G(){return this.g}I(){return this.J}Ua(){return this.vb.Ua()}Ct(){return em(this.ia)}ua(a){return this.g.ua(a,this.ia,null)}nb(a){return this.g.nb(a,this.ia,
null)}pw(a,b){Gn(this.g,this.jp,a,b)}Qg(){}hj(){this.Sk||(this.mo||(this.mo=()=>this.Qg()),this.g.cb().addEventListener("tick",this.mo),this.Sk=!0)}Xt(){this.Sk&&(this.g.cb().removeEventListener("tick",this.mo),this.Sk=!1)}yI(){this.ls&&(this.g.cb().removeEventListener("tick2",this.Pv),this.ls=!1)}ed(){return null}mc(){}cd(){}xh(){}tH(a,b,c){if(0!==b){var d=this.cd(a);if("number"!==typeof d)throw Error("expected number");this.xh(a,d+b,c)}}ge(){return null}xl(a,b,c){if(this.ia.Md){var d=this.Ct();
a=vB.A(vB.Event,a,b);a.instance=d;c&&Object.assign(a,c);d.dispatchEvent(a)}}Tq(){return!1}};"use strict";const AB=self.B;function BB(a){if(!a.Fv){a.Fv=()=>a.Kt();a.eF=()=>a.CP();var b=a.g.cb();b.addEventListener("renderercontextlost",a.Fv);b.addEventListener("renderercontextrestored",a.eF)}}
AB.KH=class extends AB.kk{constructor(a,b){super(a,b);this.Wa=a.C();this.eF=this.Fv=null}m(){if(this.Fv){const a=this.g.cb();a.removeEventListener("renderercontextlost",this.Fv);a.removeEventListener("renderercontextrestored",this.eF);this.eF=this.Fv=null}this.Wa=null;super.m()}Kt(){}CP(){}C(){return this.Wa}ik(){return!1}ph(){if(!this.ik())throw Error("original size not known");const a=this.ei();if(a)return a.M()}oh(){if(!this.ik())throw Error("original size not known");const a=this.ei();if(a)return a.K()}ei(){return null}CB(){var a=
this.ei();return a&&(a=a.lc())?[a.M(),a.K()]:[100,100]}DB(){const a=this.ei();return a?a.fk():null}WB(){const a=this.ei();return a?a.Ap:!1}Jo(){const a=this.ia.C();return[a.Ga(),a.Ha(),dq(a)]}Mt(){return!0}};"use strict";const zA=self.B,CB=zA.A(zA.Rect);function yA(a,b,c){c||(c={});c.elementId=a.Au;xB(a,b,c)}function Ym(a,b){b||(b={});b.elementId=a.Au;zB(a,"focus",b)}function DB(a,b,c){c||(c={});c.elementId=a.Au;return yB(a,b,c)}
function EB(a,b){if(!Un(a.Z())){var c=a.C(),d=c.aa(),e=Um(c),[f,g]=Vn(d,e.$,e.V),[h,k]=Vn(d,e.ja,e.da);e=a.g.U;var l=e.pd,m=e.gd;if(c.Cc()&&d.Cc()){const n=a.g.U.Kw();("Android"!==zA.W.Vd||"scale-inner"!==n&&"scale-outer"!==n&&"crop"!==n)&&(0>=h||0>=k||f>=l||g>=m)?GB(a,!1):(CB.set(f,g,h,k),l=e.Pj,m=e.Oj,e=d.Xr,c=Wn(c),!b&&CB.Fd(a.bv)&&a.yS===l&&a.xS===m&&a.tS===e&&a.uS===c?GB(a,!0):(a.bv.wa(CB),a.yS=l,a.xS=m,a.tS=e,a.uS=c,GB(a,!0),b=null,a.Ak&&(b=d.Yi()+a.XQ),yA(a,"update-position",{left:Math.round(a.bv.$),
top:Math.round(a.bv.V),width:Math.round(a.bv.width()),height:Math.round(a.bv.height()),htmlIndex:e,htmlZIndex:c,fontSize:b})))}else GB(a,!1)}}function HB(a,b){b||(b={});const c=a.C();b.elementId=a.Au;b.isVisible=c.Cc();b.htmlIndex=c.aa().Xr;b.htmlZIndex=Wn(c);Object.assign(b,a.Iw());a.uK=!!b.isVisible;zB(a,"create",b);EB(a,!0)}function GB(a,b){b=!!b;a.uK!==b&&(a.uK=b,yA(a,"set-visible",{isVisible:b}))}
function IB(a){a.GK||(a.GK=!0,Promise.resolve().then(()=>{a.GK=!1;yA(a,"update-state",a.Iw())}))}zA.IH=class extends zA.KH{constructor(a,b){super(a,b);a=this.Ua();b=a.D2++;a.jK.set(b,this);this.Au=b;this.uK=!0;this.Ak=this.tJ=!1;this.XQ=-.2;this.bv=zA.A(zA.Rect,0,0,-1,-1);a=this.g.U;this.yS=a.Pj;this.xS=a.Oj;this.uS=this.tS=-1;this.GK=!1;this.hj()}m(){this.Ua().jK.delete(this.Au);yA(this,"destroy");this.Au=-1;super.m()}Qg(){EB(this,!1)}Iw(){}};"use strict";const JB=self.B,KB=self.IO;
JB.r_=class extends JB.ta{constructor(a){super();this.g=a.Qd;this.nL=JB.A(JB.zG);this.IE=JB.A(JB.zG);this.tg=a.NN;this.SL=a.MN;this.Ty=null}m(){this.IE.m();this.nL.m();this.g=null}G(){return this.g}nc(){}ge(a=!1){let b=this.SL;a&&"function"!==typeof b&&2<=this.tg&&(b=globalThis.NX);return b}EO(){return $d(this.nL)}ni(a){this.IE.Gb(a)}mr(a){this.IE.Eo(a)}qa(){return $d(this.IE)}Ut(){const a=this.tg;JB.zb.Vo(this,a);const b=this.ge(!0);if(b){if(this.Ty=new b,!(this.Ty instanceof KB))throw new TypeError("behavior class must derive from IBehavior");
}else this.Ty=new KB;JB.zb.Uo(a)}};"use strict";const LB=self.B;LB.t_=class extends LB.ta{constructor(a){super();this.g=a.G();this.oc=a;this.J=a.I();this.oj=a.fg();this.oj.nL.Gb(this.J)}m(){this.oj=this.J=this.oc=this.g=null}nc(){}Hg(){return this.oc}I(){return this.J}G(){return this.g}fg(){return this.oj}};"use strict";const MB=self.B;
MB.s_=class extends MB.ta{constructor(a,b){super();this.ay=a;this.jp=b;this.ia=a.ia;this.g=a.G();this.oc=a.Hg();this.vb=this.oc.vb;this.HK=this.ls=this.Sk=!1;this.og=null}m(){this.Xt();this.yI();this.HK&&(this.g.vn.Ef(this),this.HK=!1);this.og&&(this.og.m(),this.og=null);this.vb=this.oc=this.g=this.ia=this.ay=null}fg(){return this.oc.fg()}I(){return this.ia.I()}C(){return this.ia.C()}G(){return this.g}Hg(){return this.oc}Ct(){return this.ay.Ct()}ua(a){return this.g.ua(a,this.ia,this.oc)}nb(a){return this.g.nb(a,
this.ia,this.oc)}Qg(){}hj(){this.Sk||(this.g.Wl.Gb(this),this.Sk=!0)}Xt(){this.Sk&&(this.g.Wl.Ef(this),this.Sk=!1)}yI(){this.ls&&(this.g.wn.Ef(this),this.ls=!1)}pw(a,b){Gn(this.g,this.jp,a,b)}ed(){return null}mc(){}cd(){}xh(){}tH(a,b){if(0!==b){var c=this.cd(a);if("number"!==typeof c)throw Error("expected number");this.xh(a,c+b)}}ge(){return null}xl(a,b,c){if(this.ay.Md){var d=this.Ct();a=MB.A(MB.Event,a,b);a.fga=d;a.instance=d.instance;c&&Object.assign(a,c);d.dispatchEvent(a)}}};"use strict";
const NB=self.B;NB.j={};NB.eb={};const OB=ec();let PB=[],TB=[],UB=[],VB=null,WB=null,XB=null,YB=null;const ht=new Map,ZB=new Map;function $B(a,b){const c=b[19],d=qx(a.g,b[0]);if(!d)throw Error("missing plugin");NB.DV(b,d);b=NB.A(2<=c?NB.uh:d,{Qd:a.g,lN:b[1],l4:b[2],LU:b[5],DU:b[8],w4:b[9],T4:b[13],iV:b[14],KU:b[17],HU:b[18],NN:c,MN:2<=c?d:null});b.nc();a.RQ.push(b);ht.set(d,b)}function aC(a){a.Zd=NB.A(NB.j.Ma,{Qd:a.g,lN:!0});a.Zd.nc()}
function bC(a,b){const c=b[1],d=qx(a.g,b[0]);if(!d)throw Error("missing behavior");a.nJ.set(d,()=>{const e=NB.A(2<=c?NB.r_:d,{Qd:a.g,NN:c,MN:2<=c?d:null});e.nc();a.e1.push(e);ZB.set(d,e);!a.xT&&NB.eb.O4&&e instanceof NB.eb.O4?a.xT=e:!a.qS&&NB.eb.o4&&e instanceof NB.eb.o4&&(a.qS=e);e.Ut()})}function cC(a){for(const b of a.RQ)b.Ut()}
NB.zb=class extends NB.ta{constructor(a){super();this.g=a;this.RQ=[];this.Zd=null;this.e1=[];this.nJ=new Map;this.qS=this.xT=null}static Vo(a,b=1){if(NB.zb.Vo!==VB)throw Error("invalid method");1===b&&PB.push(a);TB.push(a)}static Uo(a=1){if(NB.zb.Uo!==WB)throw Error("invalid method");1===a&&PB.pop();TB.pop()}static AC(){if(NB.zb.AC!==XB)throw Error("invalid method");if(0===PB.length)throw Error("no init object set");return PB.at(-1)}static Rg(a){if(NB.zb.Rg!==YB)throw Error("invalid method");if(a!==
OB)throw Error("invalid internal API token");if(0===TB.length)throw Error("no init object set");return TB.at(-1)}Rw(){return this.Zd}};VB=NB.zb.Vo;WB=NB.zb.Uo;XB=NB.zb.AC;YB=NB.zb.Rg;"use strict";const dC=self.B,eC=new Set;function fC(a){a.yr&&(URL.revokeObjectURL(a.yr),a.yr="")}function gC(a,b){a.Em=b[0];a.xm=b[1];a.us=b[2];a.vs=b[3];a.P=b[4];a.S=b[5];a.Ap=b[6];a.Ry=!0}function hC(a,b,c){if(a.sd)throw Error("already got asset");c=Object.assign({},c,{url:a.Kq(),size:a.gi()});a.sd=b.ZB(c)}
async function iC(a,b){b||(b=await Eo(a.sd));const c=dC.mh(a.P,a.S),d=c.getContext("2d");a.Ap?(d.rotate(Math.PI/-2),d.translate(-a.S,0),d.drawImage(b,a.us,a.vs,a.S,a.P,0,0,a.S,a.P)):d.drawImage(b,a.us,a.vs,a.P,a.S,0,0,a.P,a.S);return c}async function jC(a,b){if(a.yr)return a.yr;b=await iC(a,b);b=await dC.gB(b);a.yr=URL.createObjectURL(b);return a.yr}
dC.UB=class extends dC.ta{constructor(){super();this.RJ=0;this.Em="";this.S=this.P=this.vs=this.us=this.xm=0;this.Ry=this.Ap=!1;this.sd=null;this.zm="";this.Mi=dC.A(dC.Rect);this.Ds=dC.A(dC.Jd);this.yr="";new self.LO(this);eC.add(this)}m(){this.Kl();this.sd&&0===this.sd.jc&&this.sd.m();this.sd=null;eC.delete(this);fC(this)}static Kt(){for(const a of eC)a.zm="",a.Mi.set(0,0,0,0),a.Ds.Dg(a.Mi)}Kq(){return this.Em}gi(){return this.xm}M(){return this.P}K(){return this.S}nH(){return this.sd&&this.sd.nH()}async Sq(a,
b){if(!this.sd)throw Error("no asset");if(this.zm)throw Error("already loaded texture");var c=this.RJ;this.zm="loading";a=await this.sd.Sq(a,b);if(this.RJ!==c)return null;if(!a)return this.zm="",null;this.zm="loaded";this.Ry||(this.P=a.M(),this.S=a.K(),this.Ry=!0);this.Mi.set(this.us,this.vs,this.us+(this.Ap?this.S:this.P),this.vs+(this.Ap?this.P:this.S));this.Mi.sl(a.M(),a.K());this.Ds.Dg(this.Mi);if(this.Ap){c=this.Ds;b=c.Zb;const d=c.$b;c.Zb=c.$c;c.$b=c.ad;c.$c=c.Uc;c.ad=c.Vc;c.Uc=c.Sc;c.Vc=c.Tc;
c.Sc=b;c.Tc=d}return a}Kl(){this.zm&&(this.sd&&this.sd.Kl(),this.zm="",this.Mi.set(0,0,0,0),this.Ds.Dg(this.Mi))}lc(){return this.sd&&"loaded"===this.zm?this.sd.lc():null}fk(){return this.Mi}LB(){return this.Ds}};"use strict";const kC=self.B;function pn(a){return a.Xd.length}function lC(a,b,c){return Promise.all(a.Xd.map(d=>d.Hd().Sq(b,c)))}function mC(a,b){b=Math.floor(b);if(0>b||b>=a.Xd.length)throw new RangeError("invalid frame");return a.Xd[b]}
function nC(a,b,c){c=Math.floor(c);0>c?a.Xd.unshift(b):c>=a.Xd.length?a.Xd.push(b):a.Xd.splice(c,0,b)}function oC(a,b){for(let c=0,d=a.Xd.length;c<d;++c)if(kC.vd(a.Xd[c].$d,b))return c;return-1}function pC(a,b){if("string"===typeof b){a=oC(a,b);if(-1===a)throw Error(`cannot find animation frame with tag ${b}`);return a}return b}
kC.yG=class extends kC.ta{constructor(a){super();this.Ka=a[0];this.Ls=a[1];this.lE=!!a[2];this.Gv=a[3];this.nT=a[4];this.o2=!!a[5];this.lb=a[6];this.Xd=a[7].map(b=>kC.A(kC.cB,b));this.a2=new self.EX(this)}static nB(a,b){b=kC.A(kC.yG,[b,0,!1,0,0,!1,Math.floor(1E15*Math.random()),[]]);b.Xd.push(kC.cB.nB(a));return b}m(){for(const a of this.Xd)a.m();kC.H(this.Xd)}ea(){return this.Ka}fi(){return this.Gv}};"use strict";const qC=self.B;var rC;
const sC=atob("iVBORw0KGgoAAAANSUhEUgAAAGQAAABkAQMAAABKLAcXAAAAAXNSR0IArs4c6QAAAANQTFRFAAAAp3o92gAAAAF0Uk5TAEDm2GYAAAATSURBVBgZYxgFo2AUjIJRQFcAAAV4AAHcRQIbAAAAAElFTkSuQmCC"),tC=new Uint8Array(sC.length);for(let a=0,b=sC.length;a<b;++a)tC[a]=sC.charCodeAt(a);rC=new Blob([tC],{type:"image/png"});
qC.cB=class extends qC.ta{constructor(a){super();this.Yg=qC.A(qC.UB);gC(this.Yg,a);this.Dy=a[7];this.WS=qC.A(qC.hr,a[8],a[9]);this.RD=a[10].map(c=>qC.A(qC.UX,this,c));this.ZR=new Map;for(var b of this.RD)this.ZR.set(b.ea().toLowerCase(),b);this.Cr=null;b=a[11];6<=b.length&&(this.Cr=qC.A(qC.Dq,b));this.$d=a[12]?a[12]:"";this.b2=new self.FX(this)}static nB(a){const b=qC.A(qC.cB,["",0,0,0,100,100,!1,1,0,0,[],[],""]);var c=b.Yg;if(c.sd)throw Error("already loaded asset");c.Em="";c.xm=rC.size;c.sd=dC.A(dC.gH,
a.od,{blob:rC,size:c.xm,jw:"local"});return b}m(){this.Cr&&(this.Cr.m(),this.Cr=null);this.Yg.m();this.Yg=null}Hd(){return this.Yg}$i(){return this.WS.ka}aj(){return this.WS.ca}SG(){return this.RD.length}};"use strict";const uC=self.B;uC.UX=class extends uC.ta{constructor(a,b){super();this.Ka=b[0];this.GL=uC.A(uC.hr,b[1],b[2])}m(){}ea(){return this.Ka}Ga(){return this.GL.ka}Ha(){return this.GL.ca}};"use strict";const my=self.B,vC=self.$h,wC=self.RB;function*dm(a){yield*a.L;yield*dA(a.g,a)}
function Tq(a){return xC(a,my.eb.vaa)}function Zq(a){if(a.Zr&&!a.Oa){var b=a.L,c=0;for(var d=b.length;c<d;++c)b[c].fK=c;b=a.g.wp;for(const e of b)e.I()===a&&(b=e,d=c++,b.fK=d);a.Zr=!1}}function qs(a,b){return a.Nk.findIndex(c=>c.name===b)}function rs(a,b){b=Math.floor(b);if(0>b||b>=a.Nk.length)throw new RangeError("invalid instance variable index");return a.Nk[b].name}
function ss(a,b){b=Math.floor(b);if(0>b||b>=a.Nk.length)throw new RangeError("invalid instance variable index");return a.Nk[b].type}function ts(a,b){a=a.NI.get(b.toLowerCase());return"undefined"===typeof a?-1:a}function hx(a){if(a.xK&&!a.Oa){Zq(a);var b=a.Y(),c=b.L,d=b.pb,e=a.g.Jg();e=e&&e.Ob()&&e.Ob().qf;for(const h of a.Gh.qm)if(h!==a){Zq(h);var f=h.Y();f.pb=!!d;if(!d){var g=f.L;my.H(g);for(const k of c)g.push(yC(h,Yq(k)));if(e){g=b.Kb;f=f.Kb;my.H(f);for(const k of g)f.push(yC(h,Yq(k)))}}}}}
function hw(a,b){return(a=a.mR.get(b.toLowerCase()))&&a.$m()?a:null}function ly(a,b){return a.wD[b]}function yz(a,b){if(b&&b.Bc()&&b.I()!==a)for(const c of b.md)if(c.I()===a)return c;a=a.Y().qa();return a.length?a[0]:null}function*jA(a,b,c){a=a.Y().qa();const d=a.length,e=c.Y(),f=c.Y().qa(),g=f.length;var h=Yq(b);if(c.Oa||!e.pb)h=f.indexOf(b);b=Math.ceil(d/g);c=d%g;0===c||h<c?h*=b:(h=c*b+(h-c)*(b-1),--b);for(let k=h,l=h+b;k<l;++k)yield a[k]}function NA(a,b){return a.zJ.has(b)}
function zC(a,b){const c=a.g.Dz++,d=my.A(my.Instance,{Qd:a.g,xN:a,uid:c});d.wC(b[16],[]);a.g.es.set(c,d);a.L.push(d)}function AC(a,b){for(let c=1,d=b.length;c<d;++c){const e=lp(a.g,b[c]);a.fm.push(e);a.xD.add(e);e.yi.push(a);e.zJ.add(a)}}
function BC(a){var b=0;if(!a.Oa)for(var c of a.yi)for(var d of c.$Q){var e=d.ea().toLowerCase();a.fu.set(e,d);a.NI.set(e,b);a.PC.push(d);++b}for(var f of a.$Q)c=f.ea().toLowerCase(),a.fu.set(c,f),a.NI.set(c,b),a.PC.push(f),++b;for(var g of a.PC)a.OT.add(g.fg().constructor);if(!a.Oa&&a.yi.length){b=a.g.xR;my.IA(a.Du,b,0);my.IA(a.wD,b,0);my.IA(a.AJ,b,0);b=[];c=g=f=0;for(const h of a.yi)if(d=h.rj,a.Du[d]=f,f+=h.Nk.length,a.wD[d]=g,g+=h.l1,a.AJ[d]=c,c+=h.P1,(d=h.Sa)&&a.Sa)for(const k of d.di()){d=b;e=
d.push;const l=CC.A(CC.qO,a.Sa,[k.Lb,k.Ka],-1);l.Ic=k.Ic;l.Pb=k.Pb;e.call(d,l)}if(a.Sa&&(a=a.Sa,b.length)){a.Ch=b.concat(a.Ch);for(const h of b)a.tD.set(h.ea().toLowerCase(),h);for(let h=0,k=a.Ch.length;h<k;++h)a.Ch[h].wI(h)}}}function xC(a,b){return b&&a.OT.has(b)}function DC(a){return a.Nk.map(b=>b.dt)}function EC(a,b){return a.Nk.findIndex(c=>c.dt===b)}function Gm(a){return a.Nk.map(b=>b.n4)}function FC(a){return a.Sa&&0<a.Sa.Ch.length}
function GC(a,b){if(!a.fd)throw Error("no animations");return a.au.get(b.toLowerCase())||null}function HC(a,b){if(GC(a,b))throw Error(`animation name '${b}' already exists`);b=my.yG.nB(a.G(),b);a.fd.push(b);a.au.set(b.ea().toLowerCase(),b);a.bu.set(b.lb,b);return b}function IC(a){if(!a.fd)throw Error("no animations");return a.fd[0]}function JC(a){return a.fd?(a=mC(IC(a),0).Hd(),[a.M(),a.K()]):a.Yg?[a.Yg.M(),a.Yg.K()]:[100,100]}
function yC(a,b){var c=a.L;if(b<c.length)return c[b];b-=c.length;c=a.g.wp;for(const d of c)if(d.I()===a){if(0===b)return d;--b}return null}function KC(a){if(a.Sx&&a.Yd){for(const b of a.L)LC(b.C());for(const b of a.g.wp)b.I()===a&&LC(b.C());a.Sx=!1}}function MC(a,b,c,d){if(c){const e=a.EA.get(c);e&&(e.delete(b),0===e.size&&a.EA.delete(c))}d&&(c=a.EA.get(d),c||(c=new Set,a.EA.set(d,c)),c.add(b))}
function NC(a){if(a.Oa){const b=new Set;for(const c of a.fm)for(const d of NC(c))b.add(d);return b.values()}return a.EA.keys()}
my.kx=class extends my.ta{constructor(a,b,c){super();var d=qx(a,c[1]);this.g=a;this.Li=ht.get(d)||null;this.vb=null;this.WD=d.Instance;this.la=b;this.lb=c[11];this.Ka=c[0];this.oz=this.g.ck(c[14]);this.l2=!!c[9];this.Oa=!!c[2];this.EK=!!c[10];this.Nk=c[3].map(g=>({dt:g[0],type:g[1],name:g[2],n4:a.ck(g[3])}));this.l1=c[4];this.P1=c[5];this.Yd=this.Li.Yd;this.Sb=my.A(my.Event.cb);this.Sa=null;const [e,f]=OC(a.Bn);this.ky=my.A(my.Y_,e,f);this.Sx=!0;this.xD=this.fm=null;this.rj=-1;this.AJ=this.wD=this.Du=
this.zJ=this.yi=null;this.xK=!1;this.Gh=null;this.$Q=c[8].map(g=>my.bO.Da(this,g));this.PC=[];this.fu=new Map;this.NI=new Map;this.OT=new Set;this.mR=new Map;this.gl=my.A(my.W_,this);this.bu=this.au=this.fd=this.Yg=this.Gh=this.Jr=null;this.Ov=0;this.ec=new Map;this.Lj=new Map;this.L=[];this.EA=new Map;this.Zr=!0;this.Li.OB()&&(this.Sa=my.A(my.Fq,this,c[12]));c[6]&&(this.Yg=my.A(my.UB),gC(this.Yg,c[6]));if(c[7]){this.fd=c[7].map(g=>my.A(my.yG,g));this.au=new Map;this.bu=new Map;for(const g of this.fd)this.au.set(g.ea().toLowerCase(),
g),this.bu.set(g.lb,g)}this.Oa?(this.fm=[],this.xD=new Set,this.rj=this.g.xR++):(this.yi=[],this.zJ=new Set,this.Du=[],this.wD=[],this.AJ=[]);b=this.Li.tg;if(2>b&&(this.vb=my.A(d.Je,this,c[15]),!(this.vb instanceof my.Ng)))throw Error("v1 sdk type must derive from SDKTypeBase");this.kK=this.Uy=null;this.xf=my.A(my.Event.cb);my.zb.Vo(this,b);2<=b?(d=d.Je,d||(d=globalThis.OO)):d=this.vb.ge();if(d){this.Uy=new d(2>b?this:null);if(2>b&&!(this.Uy instanceof wC))throw new TypeError("script interface class must derive from IObjectClass");
if(2<=b&&!(this.Uy instanceof globalThis.OO))throw new TypeError("script interface class must derive from ISDKObjectTypeBase");}else this.Uy=new wC;my.zb.Uo(b);this.g.LF&&!this.Oa&&!this.EK&&this.Yd||this.nc();this.Li.tj&&(rB(this.Li,this),zC(this,c));this.CE=null}static Da(a,b,c){return my.A(my.kx,a,b,c)}m(){this.Sb.m();this.Sb=null;this.Yg&&(this.Yg.m(),this.Yg=null);if(this.fd){for(const a of this.fd)a.m();my.H(this.fd);this.au.clear();this.bu.clear()}this.CE=null;this.gl.m();this.gl=null;this.ec.clear();
this.Lj.clear();this.g=this.Gh=null}Bc(){return this.xK}cb(){return this.Sb}nc(){this.Oa||this.vb&&this.vb.nc()}async Ht(a){this.Oa||(this.Ov++,1===this.Ov&&(this.vb?await this.vb.Ht(a):await void 0))}Zq(){if(!this.Oa){this.Ov--;if(0>this.Ov)throw Error("released textures too many times");0===this.Ov&&this.vb&&this.vb.Zq()}}aC(){if(this.Oa)throw Error("not applicable to family");this.vb&&this.vb.aC()}async xH(a){this.Oa||(this.vb?await this.vb.xH(a):await void 0)}G(){return this.g}Ua(){return this.Li}ea(){return this.Ka}ck(){return this.oz}Fa(){return this.la}Cf(){return this.l2}OB(){return this.Li.OB()}Y(){return this.gl.Y()}Hd(){return this.Yg}Fl(){if(!this.Li.tj)throw Error("not a single-global plugin");
return this.L[0]}qa(){return this.L}*KA(){yield*this.L}ni(a){this.L.push(a)}Aw(a){this.vb?.Aw(a)}Xm(){this.ec||(this.ec=new Map);return this.ec}Vw(){this.Lj||(this.Lj=new Map);return this.Lj}na(){const a={instances:this.L.map(b=>b.ed())};this.ec&&this.ec.size&&(a.ex=my.WH(this.ec));return a}ra(a,b){this.ec&&(this.ec.clear(),this.ec=null);var c=a.ex;c&&(this.ec=my.KG(c));c=this.L;a=a.instances;for(let e=0,f=Math.min(c.length,a.length);e<f;++e)c[e].mc(a[e]);for(let e=a.length,f=c.length;e<f;++e)iq(this.g,
c[e]);for(let e=c.length,f=a.length;e<f;++e){c=a[e];var d=null;if(this.Yd&&(d=Iq(this.g.Wb(),c.w.l),!d))continue;d=mq(this.g,this.Jr||this,d,!1,0,0,!0);d.mc(c);b&&b.add(d)}this.CE=a;this.Zr=!0}Ox(){for(let a=0,b=this.L;a<b;++a)this.L[a].Ox()}xt(){return this.Uy}Fg(a){var b=this.g;(b=b.Fb&&!im(b.pa()))&&vC.VH();this.xf.dispatchEvent(a);b&&vC.wG()}};"use strict";const PC=self.B;function jr(a){return a.qm.some(b=>b.Yd)}
PC.vW=class extends PC.ta{constructor(a,b){super();this.g=a;this.qm=b;for(const c of this.qm)c.xK=!0,c.Gh=this}m(){this.g=null}G(){return this.g}};"use strict";const Hm=self.B,QC=self.$h,RC=Hm.zb,SC=[];let TC=0;const UC=new WeakMap,VC=new WeakMap;function em(a){return a.Md||WC(a)}function hm(a){const b=new Set;b.add(a);const c=a.C();if(c&&c.ef())for(const d of a.Rj())if(b.add(d),d.Bc())for(const e of d.md)b.add(e);if(a.Bc())for(const d of a.md)b.add(d);for(const d of b.values())gr(d)}
function L(a){return a.Tb??a.Md}function Un(a){return 0!==(a.F&1)}function er(a){var b=a.C();if(b&&(b=b.WG()))for(const c of b)if(b=us(a.g,c[2])){const d=c[3];a.Xj(b,{ht:!!(d>>0&1),it:!!(d>>1&1),xq:!!(d>>2&1),wq:!!(d>>3&1),et:!!(d>>4&1),dw:!!(d>>5&1),jt:!!(d>>6&1),ft:!!(d>>7&1),gt:!!(d>>8&1)})}}
function fr(a,b,c){if(b=b.get(a))for(const d of b.sceneGraphJson.children){b=c.get(d.index);if(!b)continue;const e=d.flags;a.Xj(b,{ht:!!(e>>0&1),it:!!(e>>1&1),xq:!!(e>>2&1),wq:!!(e>>3&1),et:!!(e>>4&1),dw:!!(e>>5&1),jt:!!(e>>6&1),ft:!!(e>>7&1),gt:!!(e>>8&1)})}}function gr(a){XC(a);if(YC(a,"instancecreate")){const b=a.I(),c=new Hm.Event("instancecreate");c.instance=em(a);b.Fg(c);for(const d of b.yi)d.Fg(c);a.g.Fg(c)}a.g.ua(qB(a.Ua()).D.tZ,a,null)}function Yq(a){Zq(a.Qe);return a.fK}
function Xs(a,b){a=a.Kd;for(let c=0,d=a.length;c<d;++c)if(a[c].Hg().lb===b)return c;return-1}function Ct(a,b){b|=0;a=a.rg;if(0>b||b>=a.length)throw new RangeError("invalid instance variable");return a[b]}function xw(a){for(const b of a.md)nv(b.I().Y(),b)}function eA(a,b){b.Oa?(a=a.I(),b=b.xD.has(a)):b=a.I()===b;return b}function PA(a){return a.jl??new Set}function UA(a,b){if(0===b.size)a.jl=null;else{a.jl?a.jl.clear():a.jl=new Set;for(const c of b)a.jl.add(c)}}
function ZC(a,b){0<b.length&&(a.rg=[],Hm.wd(a.rg,b))}function $C(a){const b=a.Qe.Nk.length;if(0!==b){a.rg=[];var c=[0,0,""];for(let d=0;d<b;++d)a.rg.push(c[ss(a.Qe,d)])}}
function WC(a,b,c){const d=a.Wa?b?self.QO:self.SB:b?self.NO:self.Nc;b=b||a.Tb.ge();const e=a.Qe.kK,f=e||b||d,g=a.Ua().tg;Hm.zb.Vo(a,g);UB.push(c);a.Md=new f;UB.pop();Hm.zb.Uo(g);if(b&&!(a.Md instanceof d))throw new TypeError(`script interface class '${b.name}' does not extend the right base class '${d.name}'`);if(e&&!(a.Md instanceof(b||d)))throw new TypeError(`setInstanceClass(): class '${e.name}' does not extend the right base class - check it extends the right class, e.g. globalThis.InstanceType.MyObjectName`);
return a.Md}function aD(a,b,c){b<<=16;a.F=c?a.F|b:a.F&~b}function bD(a,b){return 0!==(a.F&b<<16)}function cD(a,b,c,d){const e=(f,g)=>{g=g||f.I();const h=b.get(g);h?h.add(f):b.set(g,new Set([f]))};e(a,c);if(a.Bc())for(const f of a.md)e(f);if(d)for(const f of a.Rj())e(f)}function dD(a){if(!a.Ua().FT)throw Error("object does not support scene graph");}function eD(a,b){a=a.C();if(!a)return[];const c=b.ea();return a.Rd().map(d=>d.Z()).filter(d=>d.I().ea()===c)}
function fD(a,b){a=a.md;if(null===a||0===a.length)return!1;for(const c of a)if(c.I()===b)return c;return null}function YC(a,b){const c=a.I();if(c.xf.dm.has(b))return!0;for(const d of c.yi)if(d.xf.dm.has(b))return!0;return a.g.xf.dm.has(b)?!0:!1}function XC(a){a.Qe.kK&&em(a);for(const b of a.Kd);}
Hm.Instance=class extends Hm.ta{constructor(a){if(Hm.zb!==RC)throw Error("invalid addon manager");super();this.g=a.Qd;this.Qe=a.xN;this.Md=this.Tb=this.Wa=null;this.fK=0;this.zc=a.uid;this.fT=TC++;this.F=0;this.jl=null;var b=Hm.TN(a.jV);0<b.length&&(this.jl=new Set(b));this.Kd=this.rg=SC;b=this.Qe.PC;0<b.length&&(this.Kd=b.map((c,d)=>Hm.A(Hm.VV,{Qd:this.g,UF:c,instance:this,index:d})));this.md=this.Qe.Bc()?[]:null;this.Ue=-1;this.Sb=null;b=this.Ua();b.Tq()&&(this.F|=4);if(b.Yd)if(this.Wa=Hm.A(Hm.G0,
this,a.Zs),a.wV)this.Wa.Lo(a.wV);else{gD(this.Wa);const [c,d]=JC(this.Qe);this.Wa.uc(c,d);FC(this.I())&&hD(this.Wa.Nf)}a.FU?ZC(this,a.FU):$C(this)}m(){this.Md&&(this.Md.el(),this.Md=null);if(0<this.Kd.length){for(var a of this.Kd)a.m();Hm.H(this.Kd)}this.Tb&&(this.Tb.m(),this.Tb=null);if(a=UC.get(this))a.clear(),UC.delete(this);if(a=VC.get(this))a.clear(),VC.delete(this);this.md&&Hm.H(this.md);this.Sb&&(this.Sb.m(),this.Sb=null);this.jl&&this.jl.clear();this.Qe=this.g=this.jl=null;0<this.rg.length&&
Hm.H(this.rg);this.Wa&&(this.Wa.m(),this.Wa=null)}wC(a,b){if(this.Tb)throw Error("already got sdk instance");for(let c=0,d=this.Kd.length;c<d;++c)this.Kd[c].wC(b?b[c]:null);if(2>this.Ua().tg){this.Tb=Hm.A(this.Qe.WD,this,a);if(!(this.Tb instanceof Hm.kk))throw Error("sdk type must derive from SDKInstanceBase");!this.Ua().Yd&&this.Qe.kK&&em(this)}else WC(this,this.Ua().ge().Instance,a)}C(){return this.Wa}G(){return this.g}SH(a){a=+a;if(0>a||!isFinite(a))a=0;this.Ue=a;FC(this.I())&&iD(this.g,this,!0)}cb(){this.Sb||
(this.Sb=Hm.A(Hm.Event.cb));return this.Sb}ci(a){this.Tb&&this.Tb.ci(a)}nc(a){this.Tb.nc(a)}Ym(){return 0!==(this.F&2)}mI(){this.F|=1}Tq(){return 0!==(this.F&4)||this.Tb.Tq()}ei(){return this.Tb.ei()}CB(){return this.Tb.CB()}DB(){return this.Tb.DB()}WB(){return this.Tb.WB()}Jo(a){return this.Tb.Jo(a)}I(){return this.Qe}Mt(){return this.Tb.Mt()}oe(){return null!==this.ya()}ya(){var a=this.C();return a?(a=a.ya())?a.Z():null:null}Ko(){var a=this.C();return a?(a=a.Ko())?a.Z():null:null}*ow(){const a=
this.C();if(a)for(const b of a.ow())yield b.Z()}ZG(a){if(!a)return!1;for(const b of this.children())if(b===a)return!0;return!1}ef(){const a=this.C();return a?a.ef():!1}Rd(){const a=this.C();return a?a.Rd().map(b=>b.Z()):[]}*children(){const a=this.C();if(a)for(const b of a.children())yield b.Z()}*Rj(){const a=this.C();if(a)for(const b of a.Rj())yield b.Z()}BB(){const a=this.C();return a?a.BB():0}wB(){const a=this.C();return a?a.wB():0}Dw(a){const b=this.C();return b?(a=b.Dw(a))?a.Z():null:null}Xj(a,
b){dD(this);dD(a);this.C().Xj(a.C(),b||{})}Ll(a){const b=this.C();b&&b.Ll(a.C())}Fw(){const a=this.C();return a?a.Fw():!1}Dt(){var a=this.g.Oi;a=a?a.Mn?(a=a.Mn.get(this))?a:"":"":"";return a}Bc(){return null!==this.md}Ua(){return this.Qe.Ua()}V0(a){const b=this.rg[a];return 0===ss(this.Qe,a)?!!b:b}Po(a,b){a|=0;const c=this.rg;if(0>a||a>=c.length)throw new RangeError("invalid instance variable");switch(ss(this.Qe,a)){case 0:c[a]=b?1:0;break;case 1:c[a]="number"===typeof b?b:parseFloat(b);break;case 2:c[a]=
"string"===typeof b?b:b.toString();break;default:throw Error("unknown instance variable type");}}Xm(){let a=UC.get(this);if(a)return a;a=new Map;UC.set(this,a);return a}Vw(){let a=VC.get(this);if(a)return a;a=new Map;VC.set(this,a);return a}ed(a="full",b=null){const c={};"full"===a?c.uid=this.zc:c.c3=!0;var d=PA(this);0<d.size&&(c.tags=Array.from(d));if("visual-state"!==a){(d=UC.get(this))&&d.size&&(c.ex=Hm.WH(d));-1!==this.Ue&&(c.mts=this.Ue);if(0<this.Qe.Nk.length){d={};var e=DC(this.Qe);for(let f=
0,g=this.rg.length;f<g;++f)d[e[f].toString()]=this.rg[f];c.ivs=d}if(this.Kd.length){d={};for(const f of this.Kd)(e=f.ed(a))&&(d[f.Hg().lb.toString()]=e);c.behs=d}}this.Wa&&(c.w=this.Wa.na(a,b));(a=this.Tb?this.Tb.ed():null)&&(c.data=a);return c}Wt(a="full"){this.Wa&&this.Wa.Wt(a)}Ah(a,b="full",c=null){this.Wa&&this.Wa.Ah(a,b,c)}nI(a,b="full",c=null){this.Wa&&this.Wa.nI(a,b,c)}Ox(){this.Ua().Yd&&this.Wa.Ox()}mc(a,b="full"){if("full"===b)this.zc=a.uid;else if(!a.c3)return;var c=a.tags;c?UA(this,new Set(c)):
this.jl=null;if("visual-state"!==b){if(c=UC.get(this))c.clear(),UC.delete(this);if(c=a.ex)c=Hm.KG(c),UC.set(this,c);this.Ue=a.hasOwnProperty("mts")?a.mts:-1;if(c=a.ivs)for(const [f,g]of Object.entries(c))if(c=EC(this.Qe,parseInt(f,10)),!(0>c||c>=this.rg.length)){var d=g;null===d&&(d=NaN);this.rg[c]=d}}if(this.Ua().Yd&&(c=a.w)){var e=c.l;this.Wa.aa().lb!==e&&(d=this.Wa.aa(),(e=Iq(d.rc(),e))?(Rq(this.Wa,e),d.mr(this,!0),e.ni(this,!0),op(e,this),K(this.Wa)):"full"===b&&iq(this.g,this));this.Wa.ra(c,
b)}if("visual-state"!==b&&(c=a.behs))for(const [f,g]of Object.entries(c))c=Xs(this,parseInt(f,10)),0>c||c>=this.Kd.length||this.Kd[c].mc(g,b);(a=a.data)&&(this.Tb?this.Tb.mc(a,b):this.Md.pm(a))}Fg(a){if(this.Md){var b=em(this);a.instance=b;var c=this.g;(c=c.Fb&&!im(c.pa()))&&QC.VH();b.dispatchEvent(a);c&&QC.wG()}}};"use strict";const jD=self.B;
function nr(a){let b;b=0|Number(0!==(a.F&8388608))<<8;b|=Number(Pt(a))<<7;b|=Number(0!==(a.F&32768))<<6;b|=Number(a.Fw())<<5;b|=Number(0!==(a.F&16384))<<4;b|=Number(Kt(a))<<3;b|=Number(It(a))<<2;b|=Number(kD(a))<<1;return b|=Number(lD(a))<<0}function Jt(a){return 0===a.yF?Number.EPSILON:a.yF}function Lt(a){return 0===a.uF?Number.EPSILON:a.uF}function mD(a,b){a.rm=a.Mb.Kc();a.wF=a.rm;a.yc=b;a.TE=b?b.fb():0}
function nD(a){a.ef()&&1!==a.Ar.length&&(a.nl?a.Ar.sort((b,c)=>{b=a.nl.get(b.Z());c=a.nl.get(c.Z());return jD.tc(b)&&jD.tc(c)?b-c:0}):a.Ar.sort((b,c)=>{b=b.Ia.SD;c=c.Ia.SD;return jD.tc(b)&&jD.tc(c)?b-c:0}))}function oD(a){if(It(a.Mb)){var b=a.yc;a=b.M();let c=Jt(b.Ia);0===a&&(a=Number.EPSILON);return c===Number.EPSILON&&a===Number.EPSILON?1:c===Number.EPSILON&&a!==Number.EPSILON&&(b=L(b.Z()),b.ik())?1+a/b.ph():a/c}return 1}
function pD(a){if(Kt(a.Mb)){var b=a.yc;a=b.K();let c=Lt(b.Ia);0===a&&(a=Number.EPSILON);return c===Number.EPSILON&&a===Number.EPSILON?1:c===Number.EPSILON&&a!==Number.EPSILON&&(b=L(b.Z()),b.ik())?1+a/b.oh():a/c}return 1}function qD(a){var b=a.yF,c=a.uF,d=a.Iv,e=a.Jv,f=a.TE,g=a.rm,h=a.wF;{const k=a.Mb.Z().C();a=k?(a=k.ya())?rD(a,k):NaN:NaN}return{sw:b,sh:c,sx:d,sy:e,psa:f,oo:g,so:h,pi:a}}function sD(a,b){return a.Ar.map(c=>tD(c,c,b)).filter(c=>c)}
function tD(a,b,c){if((a=a.Z())&&Un(a))return null;const d={};d.uid=a.zc;let e="";lD(b)&&(e+="x");kD(b)&&(e+="y");It(b)&&(e+="w");Kt(b)&&(e+="h");0!==(b.F&16384)&&(e+="a");0!==(b.F&32768)&&(e+="z");b.Fw()&&(e+="d");Pt(b)&&(e+="o");0!==(b.F&8388608)&&(e+="v");d.f=e;d.offsets={x:b.ka,y:b.ca,z:b.ud,w:b.Xe,h:b.Oe,a:b.Xa,sgi:b.Ia?qD(b.Ia):null};d.data=uD(a);d.oci=a.I().Fa();"state"===c?(d.inst=a.ed("full",{selfOnly:!0}),d.instIndex=NaN):(d.instIndex=a.I().qa().indexOf(a),d.inst=null);return d}
function uD(a){let b=np(a.C().aa(),a.zc);if(!b)return null;b=JSON.parse(JSON.stringify(b));const c=[];for(const d of[...a.Rd()]){const e=d.C();c.push([e.rc().lb,e.aa().Fa(),d.zc,nr(e),d.I().Bc()?1:0,Vm(e),uD(d)])}jD.Zm(b[0][14])?b[0][14][1]=c:(b[0][14]=[],b[0][14][0]=511,b[0][14][1]=c,b[0][14][2]=Vm(a.C()));return b}function vD(a,b,c){if(!b&&!c&&a.ae)for(const d of a.ae)Un(d)||d.oe()||iq(d.G(),d);a.ae=b;a.nl=c}
function wD(a){const b={};b.ht=a.includes("x");b.it=a.includes("y");b.xq=a.includes("w");b.wq=a.includes("h");b.et=a.includes("a");b.jt=a.includes("z");b.dw=a.includes("d");b.ft=a.includes("o");b.gt=a.includes("v");return b}function xD(a,b,c){if(a=a.Gx(c,a.Mb.G()))a=JSON.parse(JSON.stringify(a)),a.w=null,b.mc(a)}function yD(a,b,c){a=a.I();b=zD(b,a);c=eD(c.Z(),a).length;return b===c}function AD(a,b,c,d,e){if(b=d.Z().Dw(b))if(d=b.C())e.has(d)||(BD(d,c.offsets),xD(a,b,c)),e.add(d)}
function CD(a,b){if(jD.tc(b.oci)){var c=a.Mb,d=c.G();if(b.data)c=mq(d,b.data,c.aa(),!1,0,0,!1,!0);else{const e=lp(d,b.oci);c=fm(d,e,c.aa(),0,0,!0)}if(c)return a=a.Gx(b,d),c.mc(a),a=c.C(),bp(a.aa(),c,!0),a}}function DD(a,b,c,d,e=!0){a.Mb.Xj(b,wD(c.f))&&e&&(d.has(b)||(BD(b,c.offsets),xD(a,b.Z(),c)),d.add(b));nD(a)}function zD(a,b){return a.filter(c=>c.I().ea()===b.ea()).length}
jD.u_=class extends jD.ta{constructor(a){super();this.Mb=a;this.yc=null;this.Ar=[];this.yF=a.M();this.uF=a.K();this.Jv=this.Iv=1;this.TE=0;this.rm=1;this.wF=a.Kc();this.nl=this.ae=null;this.SD=NaN}m(){this.nl=this.ae=this.yc=null;this.SD=NaN;jD.H(this.Ar)}ya(){return this.yc}ef(){return 0<this.Ar.length}Rd(){return this.Ar}na(a,b=null){const c=qD(this);if(b&&b.selfOnly)a=Object.assign(c,{p:null,c:[]});else{b=Object;var d=b.assign;var e=this.yc&&this.yc.Z()&&!Un(this.yc.Z())?tD(this.yc,this.Mb,a):
null;a=d.call(b,c,{p:e,c:sD(this,a)})}return a}ra(a){this.yF=a.sw;this.uF=a.sh;this.Iv=a.sx;this.Jv=a.sy;this.TE=a.psa;this.rm=a.oo;this.wF=a.so;this.SD=jD.tc(a.pi)?a.pi:NaN}Ah(a,b){const c=this.Mb,d=c.G(),e=new Set;if(a.p&&!this.yc){var f=us(d,a.p.uid);if(f){var g=f.C();if(f.ZG(c.Z()))this.yc=g;else{a:{g=f;var h=c.Z().zc;for(k of g.C().Rd())if(k.Z().zc===h){var k=!0;break a}k=!1}k?iq(d,c.Z()):f.Xj(c.Z(),wD(a.p.f));e.has(c)||(BD(c,a.p.offsets),xD(this,f,a.p));e.add(c);nD(f.C().Ia)}}else jD.tc(a.p.oci)&&
(f=lp(d,a.p.oci),f=fm(d,f,c.aa(),0,0,!0))&&(k=this.Gx(a.p,d),f.mc(k),bp(f.C().aa(),f),f.Xj(c.Z(),wD(a.p.f)),nD(f.C().Ia))}f=[];for(var l of a.c)(k=us(d,l.uid))&&f.push(k);l=0;for(const m of a.c){if(k=us(d,m.uid)){if(this.ae)if(this.ae.includes(k)){g=k;if(g.I()!==k.I()){l++;continue}if(Un(g)){l++;continue}k=a.c[l];if(!b?.ON&&yD(g,f,c)){AD(this,l,k,c,e);l++;continue}if(g.oe()&&g.ya()!==c.Z()){g=CD(this,k);DD(this,g,k,e);l++;continue}DD(this,g.C(),k,e,!0);l++;continue}else if(this.ae[l]){g=this.ae[l];
if(g.I()!==k.I()){l++;continue}if(Un(g)){l++;continue}k=a.c[l];if(!b?.ON&&yD(g,f,c)){AD(this,l,k,c,e);l++;continue}if(g.oe()&&g.ya()!==c.Z()){g=CD(this,k);DD(this,g,k,e);l++;continue}DD(this,g.C(),k,e,!0);l++;continue}h=k.I();g=zD(f,h);h=eD(c.Z(),h).length;if(g===h){if(k=c.Z().Dw(l))if(g=k.C())e.has(g)||(BD(g,m.offsets),xD(this,k,m)),e.add(g);l++;continue}if(k.oe()&&k.ya()!==c.Z()){k=CD(this,m);DD(this,k,m,e);l++;continue}DD(this,k.C(),m,e)}else if(this.ae&&this.ae[l]){k=this.ae[l];g=lp(d,jD.tc(m.oci)?
m.oci:m[1]);if(k.I()!==g){l++;continue}if(Un(k)){l++;continue}g=a.c[l];if(!b?.ON&&yD(k,f,c)){AD(this,l,g,c,e);l++;continue}if(k.oe()&&k.ya()!==c.Z()){k=CD(this,g);DD(this,k,g,e);l++;continue}DD(this,k.C(),g,e)}else k=CD(this,m),DD(this,k,m,e);l++}}Gx(a,b){if(jD.tc(a.instIndex))return lp(b,a.oci).CE[a.instIndex];if(jD.dj(a.inst))return JSON.parse(a.inst);if(a.inst)return a.inst}};"use strict";
const Q=self.B,ED=Q.A(Q.Rect),FD=Q.A(Q.Jd),GD=Q.A(Q.Event,"bboxchange",!1),xt=Q.A(Q.bb,0,0,0,0),oh=Q.A(Q.Dq),HD=Q.A(Q.bb,1,1,1,1),ID=Q.A(Q.Rect,0,0,-1,-1),JD=Q.A(Q.Rect,0,0,-1,-1),KD=new Set(["absolute","relative"]),LD=[];let MD=!0;const ND=new WeakMap,OD=new WeakMap;function K(a){a.F|=65554;a.J.Sx=!0;a.g.ba();ip(a.Ph)&&(PD(a,a.QI,a.RI,!0),a.F&=-3,QD(a));0!==(a.F&4)&&a.ia.cb().dispatchEvent(GD);if(null!==a.Ia){a=a.Ia.Rd();for(let b=0,c=a.length;b<c;++b)K(a[b])}}function Um(a){RD(a);return a.QI}
function Vm(a){Op(a.Ph);return a.Ti}function Wm(a,b,c){return Um(a).kh(b,c)&&SD(a).kh(b,c)?a.Ym()?void 0:TD(a)?UD(a).kh(b-a.Ga(),c-a.Ha()):!0:!1}function Wn(a){Pp(a.Ph);return a.UR}function jq(a){const b=a.Pz;b!==ID&&(a.aa().Dv.vk(a.ia,b,null),a.Pz=ID)}function nq(a,b,c){b=+b;c=+c;0!==(a.F&3072)?a.sk(a.Ga()+b,a.Ha()+c):(a.ka+=b,a.ca+=c)}function Rp(a,b){a.UR=b|0}
function aq(a,b,c,d){c&&0!==a.Qm()?a=rq(a,hq(a.aa())):0===a.hb()||d?a=Ld(b,Um(a)):(b=a.aa(),c=dq(a),c>=b.Ee()/sp(b)?a=!1:(tp(b,c,ED),a=Ld(ED,Um(a))));return a}function rq(a,b){var c=Um(a);const d=c.$,e=c.ja,f=c.V;c=c.da;const g=dq(a);a=g+a.Qm();return zg(d,f,g,e,c,a,b.zS)&&zg(d,f,g,e,c,a,b.LT)&&zg(d,f,g,e,c,a,b.oT)&&zg(d,f,g,e,c,a,b.aR)&&zg(d,f,g,e,c,a,b.oL)&&zg(d,f,g,e,c,a,b.yR)}function dq(a){return a.aa().hb()+a.hb()}function cp(a){a=OD.get(a);return Q.tc(a)?a:NaN}
function Rq(a,b,c){(c=c&&a.Ph!==b)&&jq(a);MC(a.J,a,a.Ph,b);a.Ph=b;c&&QD(a);0!==a.hb()&&(a.Ph.qn=!0)}function Gt(a,b,c=!1){b=+b;c?a.ka+=b:lD(a)?a.fj(a.Ga()+b):a.ka+=b}function Ht(a,b,c=!1){b=+b;c?a.ca+=b:kD(a)?a.uk(a.Ha()+b):a.ca+=b}function It(a){return 0!==(a.F&4096)}function Kt(a){return 0!==(a.F&8192)}function Mt(a,b,c){b=+b;c?a.Oe+=b:Kt(a)?a.vh(a.K()+b):a.Oe+=b;Nt(a)}function Ot(a,b){Pt(a)?a.wh(a.Ia.rm+b):a.wh(a.Kc()+b)}function Pt(a){return 0!==(a.F&4194304)}
function Iy(a){VD(a);return a.eJ}function Jy(a){VD(a);return a.VL}function yt(a,b){ud(a.tb,b)||(sd(xt,b),xt.a=a.Kc(),WD(a))}function pA(a){a.yj&&(a.yj.SN.m(),a.yj.nV.m(),a.yj=null,XD(a))}function qA(a,b,c){b=Math.floor(b);c=Math.floor(c);if(!a.Z().Ua().ET)throw Error("object does not support mesh");pA(a);a.yj={SN:Q.A(Q.R.fP,b,c),nV:Q.A(Q.R.fP,b,c),qN:null}}function tA(a){return null!==a.yj}function uA(a){if(!tA(a))throw Error("no mesh");return a.yj.SN}
function LC(a){if(0!==(a.F&16)&&a.gk()&&0===(a.F&256)){var b=Um(a),c=a.J.ky,d=a.aD;ED.set(c.wk(b.$),c.xk(b.V),c.wk(b.ja),c.xk(b.da));d.Fd(ED)||(b=a.ia,d===JD?(c.vk(b,null,ED),a.aD=Q.A(Q.Rect,ED)):(c.vk(b,d,ED),d.wa(ED)),a.F&=-17)}}function gD(a){a.ka=0;a.ca=0;a.ud=0;a.Xe=0;a.Oe=0;a.te=0;a.Xa=0;a.VL=0;a.eJ=1;a.Xk=0;a.Yk=0;YD(a)}function rD(a,b){if(!b)return NaN;a=a.Rd();if(!a)return NaN;for(let c=0;c<a.length;c++)if(b===a[c])return c;return NaN}function lD(a){return 0!==(a.F&1024)}
function kD(a){return 0!==(a.F&2048)}function BD(a,b){b&&(a.ka=b.x,a.ca=b.y,a.ud=b.z,a.Xe=b.w,a.Oe=b.h,a.Xa=b.a,b.sgi&&a.Ia&&a.Ia.ra(b.sgi),Nt(a),K(a))}function ZD(a){a.Ia&&(a.Ia.m(),a.Ia=null)}function $D(a){a.ae&&(a.ae.length=0);a.ae=null;a.nl=null;const b=a.ya();b&&$D(b);a.oA=-1}function WD(a){var b=xt;a.tb.Fd(b)||(a.tb===HD?(a.tb=Q.A(Q.bb,b),a.Er=Q.A(Q.bb,b),wd(a.Er)):vd(b,1,1,1,1)?(a.tb=HD,a.Er=HD):(a.tb.set(b),a.Er.set(b),wd(a.Er)),YD(a))}
function YD(a){if(MD){var b=a.g.za();a.Ns&&Wg(b,a.Ns);var c=0!==(a.F&524288)?b.dA||"<point>":b.Ks||"<default>",d=a.Bl(),e=a.Er,f=a.hb();const g=Xg(c,d,e,f);let h=b.Os.get(g);h||(h=Bg.A(Bg.R.Z_,b,c,d,e,f),b.Os.set(g,h));++h.jc;a.Ns=h}}function aE(a,b){It(a)&&0>a.Ko().M()&&(b=Q.le(Q.jU(b,a.Ko().fb()+Math.PI)));Kt(a)&&0>a.Ko().K()&&(b=Q.jU(b,a.Ko().fb()));return b}function bE(a){return 0!==(a.F&16384)&&a.cn()?Q.le(bE(a.ya())+a.Xa):a.Xa}
function cE(a){return 0!==(a.F&16384)?aE(a,bE(a.ya())-a.Ia.TE):0}function dE(a){YD(a);if(a.ef()){a=a.Rd();for(let b=0,c=a.length;b<c;b++){const d=a[b];0!==(d.F&32768)&&dE(d)}}}function Nt(a){a.F|=262144;if(a.ef()){a=a.Rd();for(let b=0,c=a.length;b<c;b++)Nt(a[b])}}function VD(a){const b=a.F;if(0!==(b&262144)){var c=a.fb();a.VL=Math.sin(c);a.eJ=Math.cos(c);a.F=b&-262145}}function eE(a){if(a.ef()){a=a.Rd();for(let d=0,e=a.length;d<e;d++){var b=a[d],c=b;b=b.Kc();sd(xt,c.tb);xt.a=b;WD(c);eE(c)}}}
function fE(a,b){if(a.ZG(b))return!0;for(const c of a.Rd())if(fE(c,b))return!0;return!1}function gE(a,b){if(!a.oe())return!1;a=a.ya();return a===b?!0:gE(a,b)}function hE(a,b){b?(iE(b,null),iE(a,b)):(a.Ia&&mD(a.Ia,null),a.ef()||ZD(a))}function jE(a){kE(a);if(!a.ae){var b=[...a.children()];b.length&&(a.ae=[],a.nl=new WeakMap);let c=0;for(const d of b)b=d.Z(),a.ae.push(b),a.nl.set(b,c),c++}(a=a.ya())&&jE(a)}
function lE(a){jE(a);var b=[...a.children()];for(const c of b)a.Ll(c);(b=a.ya())&&b.Ll(a);a.F&=-12647937}function kE(a){if(-1===a.oA){var b=[...a.ow()];a.oA=b.length;for(const c of b)kE(c);a=[...a.children()];for(const c of a)kE(c)}}function iE(a,b){a.Ia||(a.Ia=Q.A(Q.u_,a));b&&mD(a.Ia,b)}
function QD(a){const b=a.aa();if(ip(b)&&0===(a.F&256)){var c=b.Dv,d=Um(a),e=a.Pz;ED.set(c.wk(d.$),c.xk(d.V),c.wk(d.ja),c.xk(d.da));e.Fd(ED)||(d=a.ia,e===ID?(c.vk(d,null,ED),a.Pz=Q.A(Q.Rect,ED)):(c.vk(d,e,ED),e.wa(ED)),b.oE=!1)}}function mE(a){const b=a.aD;b!==JD&&(a.J.ky.vk(a.ia,b,null),a.aD=JD)}function nE(a,b){b=!!b;a.gk()!==b&&(a.Ab(8,b),b?K(a):mE(a))}
function PD(a,b,c,d){const e=a.Ga(),f=a.Ha();var g=a.M(),h=a.K();const k=a.fb();Fd(b,e-a.Xk*g,f-a.Yk*h,g,h);if(d&&tA(a)){d=a.yj.SN;g=Math;h=g.min;kh(d);g=h.call(g,d.LS,0);h=Math;var l=h.min;kh(d);h=l.call(h,d.MS,0);l=Math;var m=l.max;kh(d);l=m.call(l,d.HS,1);m=Math;var n=m.max;kh(d);m=n.call(m,d.IS,1);n=b.width();const p=b.height();b.offsetLeft(g*n);b.offsetTop(h*p);b.ja+=+((l-1)*n);b.da+=+((m-1)*p);kh(d);a.te=d.JS}0===k?c.Dg(b):(b.offset(-e,-f),Od(c,b,Jy(a),Iy(a)),c.offset(e,f),c.cN(b));b.normalize()}
function RD(a){const b=a.F;0!==(b&2)&&(PD(a,a.QI,a.RI,!0),a.F=b&-3)}function SD(a){RD(a);return a.RI}function oE(a,b){var c=a.Ga();a=a.Ha();c=Math.round(c)-c;a=Math.round(a)-a;if(0===c&&0===a)return b;FD.wa(b);FD.offset(c,a);return FD}function XD(a){a.Ab(131072,!0);a=a.Tv;null!==a&&(a.width=NaN)}function pE(a,b){a.sF=b;XD(a);tA(a)&&(a.yj.qN=null)}function TD(a){return null!==a.sF||tA(a)}
function UD(a){{var b=a.M();var c=a.K(),d=a.fb(),e=Jy(a),f=Iy(a);let m=a.Tv;null===m&&(m={UU:Q.A(Q.Dq),width:NaN,height:NaN,angle:NaN},a.Tv=m);const n=m.UU;if(m.width!==b||m.height!==c||m.angle!==d){var g=a.sF;if(tA(a)){const p=a.$i(),q=a.aj();var h=uA(a),k=a.yj.qN;k||(g?(oh.wa(g),oh.offset(p,q)):Td(oh,Rd),k=nh(h),a.yj.qN=k);a=[];k=k.Be;for(let t=0,v=k.length;t<v;t+=2){const [w,A]=ph(h,k[t],k[t+1]);a.push(w,A)}h=a;k=[];a=h[0];g=h[1];let u=a-h.at(-2),r=g-h.at(-1);for(let t=0,v=h.length;t<v;t+=2){var l=
(t+2)%v;const w=h[l];l=h[l+1];const A=w-a,G=l-g,H=1E-7>Math.abs(G)&&1E-7>Math.abs(r)&&Math.sign(A)===Math.sign(u);(!(1E-7>Math.abs(A)&&1E-7>Math.abs(u)&&Math.sign(G)===Math.sign(r)||H)&&.001<Math.abs(A/u-G/r)||0==A&&0===G)&&k.push(a,g);a=w;g=l;u=A;r=G}6<=k.length&&k.length<h.length&&fh.wd(h,k);Td(n,h);n.offset(-p,-q);Vd(n,b,c,e,f)}else g?(n.wa(g),Vd(n,b,c,e,f)):Ud(n,SD(a),-a.Ga(),-a.Ha());m.width=b;m.height=c;m.angle=d}b=n}return b}function qE(a){if(!tA(a))throw Error("no mesh");return a.yj.nV}
Q.G0=class extends Q.ta{constructor(a,b){super();this.ia=a;this.J=a.I();this.g=a.G();this.Ph=b;MC(this.J,this,null,b);this.UR=this.Ti=-1;this.F=196635;this.J.Ua().cn()&&(this.F|=128);this.Yk=this.Xk=this.eJ=this.VL=this.Xa=this.te=this.Oe=this.Xe=this.ud=this.ca=this.ka=NaN;this.QI=Q.A(Q.Rect);this.RI=Q.A(Q.Jd);this.aD=JD;this.Pz=ID;this.hl=this.Tv=this.sF=null;this.Er=this.tb=HD;this.Nf=this.Ns=null;FC(this.ia.I())&&(this.Nf=Q.A(Q.WX,this.ia,this));this.nl=this.ae=this.Ia=null;this.oA=-1;this.yj=
null}mI(){this.F|=256}m(){MC(this.J,this,this.Ph,null);this.Ns&&(Wg(this.g.za(),this.Ns),this.Ns=null);this.sF=null;this.Tv&&(this.Tv.UU.m(),this.Tv=null);this.hl&&(this.hl.clear(),this.hl=null);pA(this);this.Nf&&this.Nf.m();this.oe()&&this.ya().Ll(this);if(this.ef()){const a=[...this.Rd()];for(const b of a)this.Ll(b)}ZD(this);$D(this);ND.delete(this);OD.delete(this);this.Ph=this.g=this.J=this.ia=null}Lo(a){MD=!1;this.sk(a[0],a[1]);this.Pg(a[2]);this.uc(a[3],a[4]);this.te=0;this.cn()?this.He(a[6]):
this.Xa=0;Bd(xt,a[7]);WD(this);this.Xk=+a[8];this.Yk=+a[9];this.Ie(a[10]);if(this.Nf){var b=this.Nf,c=a[12],d=0;for(var e of c)b.Cd.push(b.lI(d,e)),++d;b.Yt();b.zh()}a[14]&&ND.set(this,{QM:a[14][1],YN:a[14][2]});if(a[15]){c=a[15];qA(this,c[0],c[1]);b=uA(this);c=c[2];for(let f=0,g=c.length;f<g;++f){d=c[f];for(let h=0,k=d.length;h<k;++h){e=d[h];const l=lh(b,h,f);l.fj(e[0]);l.uk(e[1]);l.Pg(e[2]);l.gh=e[3];l.ih=e[4]}}}a[16]&&(b=a[16][0],a=a[16][1],c=!!a,d=!c,e=this.g.Oi,c&&e&&Mu(e,this.Z(),a),d&&e&&Mu(e,
this.Z(),b));MD=!0;YD(this)}G(){return this.g}I(){return this.J}Z(){return this.ia}fj(a){a=+a;if(lD(this)){const b=this.Ia;a-=this.Ga();const c=-cE(this);0===c?this.ka+=a/oD(b):(this.ka+=Math.cos(c)*a/oD(b),kD(this)&&(this.ca+=Math.sin(c)*a/pD(b)))}else this.ka=a}Ga(){if(lD(this)){let a=this.ka;const b=this.Ia,c=this.ya(),d=cE(this);0===d?a*=oD(b):(a=a*oD(b)*Math.cos(d),kD(this)&&(a-=this.ca*pD(b)*Math.sin(d)));return c.Ga()+a}return this.ka}uk(a){a=+a;if(kD(this)){const b=this.Ia;a-=this.Ha();const c=
-cE(this);0===c?this.ca+=a/pD(b):(lD(this)&&(this.ka-=Math.sin(c)*a/oD(b)),this.ca+=Math.cos(c)*a/pD(b))}else this.ca=a}Ha(){if(kD(this)){let a=this.ca;const b=this.Ia,c=this.ya(),d=cE(this);0===d?a*=pD(b):(a=a*pD(b)*Math.cos(d),lD(this)&&(a+=this.ka*oD(b)*Math.sin(d)));return c.Ha()+a}return this.ca}sk(a,b){a=+a;b=+b;if(0!==(this.F&3072)){const d=lD(this),e=kD(this),f=this.Ia,g=a-this.Ga(),h=b-this.Ha();var c=-cE(this);if(0===c)this.ka=d?this.ka+g/oD(f):a,this.ca=e?this.ca+h/pD(f):b;else{const k=
Math.sin(c);c=Math.cos(c);this.ka=d?e?this.ka+(c*g-k*h)/oD(f):this.ka+c*g/oD(f):a;this.ca=e?d?this.ca+(k*g+c*h)/pD(f):this.ca+c*h/pD(f):b}}else this.ka=a,this.ca=b}Pg(a){a=+a;0!==(this.F&32768)&&(a-=this.ya().hb());this.ud!==a&&(this.ud=a,dE(this),a=this.aa(),0!==this.ud&&(a.qn=!0),op(a,this))}hb(){return 0!==(this.F&32768)?this.ya().hb()+this.ud:this.ud}Og(a){a=+a;if(It(this)){const b=this.M();this.Xe=0===b?Number.EPSILON:a/b*this.Xe}else this.Xe=a;Nt(this)}jk(a,b){a=+a;b?this.Xe+=a:It(this)?this.Og(this.M()+
a):this.Xe+=a;Nt(this)}M(){if(It(this)){const a=this.ya(),b=a.M();return Jt(a.Ia)===Number.EPSILON?(Jt(this.Ia)+b)*this.Xe:b*this.Xe}return this.Xe}vh(a){a=+a;if(Kt(this)){const b=this.K();this.Oe=0===b?Number.EPSILON:a/b*this.Oe}else this.Oe=a;Nt(this)}K(){if(Kt(this)){const a=this.ya(),b=a.K();return Lt(a.Ia)===Number.EPSILON?(Lt(this.Ia)+b)*this.Oe:b*this.Oe}return this.Oe}uc(a,b){a=+a;b=+b;if(It(this)){const c=this.M();this.Xe=0===c?Number.EPSILON:a/c*this.Xe}else this.Xe=a;Kt(this)?(a=this.K(),
this.Oe=0===a?Number.EPSILON:b/a*this.Oe):this.Oe=b;Nt(this)}gi(){return[this.M(),this.K()]}Qm(){return this.te}cn(){return 0!==(this.F&128)}He(a){a=+a;this.cn()&&(0!==(this.F&16384)&&(a-=this.ya().fb()),a=Q.le(a),this.Xa!==a&&(this.Xa=a,Nt(this)))}fb(){return 0!==(this.F&16384)&&this.cn()?aE(this,Q.le(bE(this.ya())+this.Xa)):this.Xa}$i(){return this.Xk}aj(){return this.Yk}wh(a){a=Q.X(+a,0,1);if(Pt(this)){if(this.Ia.rm===a)return;this.Ia.rm=a;a=this.Kc()}else if(this.tb.a===a)return;sd(xt,this.tb);
xt.a=a;WD(this);eE(this)}Kc(){return Pt(this)?this.ya().Kc()*this.Ia.rm:this.tb.a}UG(){return this.Er}Fw(){return 0!==(this.F&512)}Xj(a,b){if(a===this||a.oe()||fE(this,a)||gE(this,a))return!1;var c=a.Ga(),d=a.Ha(),e=a.M();const f=a.K(),g=a.fb(),h=a.hb(),k=a.Kc();hE(a,this);a.Ab(1024,b.ht);a.Ab(2048,b.it);a.Ab(4096,b.xq);a.Ab(8192,b.wq);a.Ab(16384,b.et);a.Ab(32768,b.jt);a.Ab(4194304,b.ft);a.Ab(8388608,b.gt);a.Ab(512,b.dw);b.ht&&(a.ka=c-this.Ga(),b.xq&&(c=this.M()/Jt(this.Ia),0!==c&&(a.ka/=c)));b.it&&
(a.ca=d-this.Ha(),b.wq&&(d=this.K()/Lt(this.Ia),0!==d&&(a.ca/=d)));b.xq&&(d=this.M(),0===d||d===Number.EPSILON?(a.Xe=1,a.Ia.Iv=1):(a.Xe=e/this.M(),a.Ia.Iv=a.Xe));b.wq&&(e=this.K(),0===e||e===Number.EPSILON?(a.Oe=1,a.Ia.Jv=1):(a.Oe=f/this.K(),a.Ia.Jv=a.Oe));b.et&&(a.Xa=g-this.fb());b.jt&&(a.ud=h-this.hb());b.ft&&(a.Ia.rm=k);b.gt&&a.qe(this.Cc());this.Ia.Rd().push(a);K(this);eE(this);return!0}Ll(a){if(a.ya()===this){var b=a.Ga(),c=a.Ha(),d=a.M(),e=a.K(),f=a.fb(),g=a.hb(),h=a.Kc();hE(a,null);a.F&=-12647937;
a.sk(b,c);a.uc(d,e);a.He(f);a.Pg(g);a.wh(h);b=this.Ia.Rd();c=b.indexOf(a);-1!==c&&b.splice(c,1);0!==b.length||this.oe()||ZD(this);a.ef()||ZD(a);K(this)}}oe(){return null!==this.ya()}ya(){const a=this.Ia;return null!==a?a.ya():null}Ko(){let a=this;for(;a.oe();)a=a.ya();return a}*ow(){let a=this.ya();for(;a;)yield a,a=a.ya()}ZG(a){return this.Rd().includes(a)}ef(){const a=this.Ia;return null!==a?a.ef():!1}Rd(){const a=this.Ia;return null!==a?a.Rd():LD}children(){return this.Rd()}*Rj(){for(const a of this.children())yield a,
yield*a.Rj()}BB(){return this.Rd().length}wB(){return[...this.Rj()].length}Dw(a){const b=this.Rd();a=Math.floor(+a);return 0>a||a>=b.length?null:b[a]}WG(){const a=ND.get(this);return a?a.QM:null}Et(){return this.tb===HD}Ie(a){a|=0;if(0>a||31<a)throw new RangeError("invalid blend mode");this.Bl()!==a&&(this.F=this.F&-2080374785|a<<26,YD(this))}Bl(){return(this.F&2080374784)>>26}aa(){return this.Ph}rc(){return this.aa().rc()}Ab(a,b){this.F=b?this.F|a:this.F&~a}Cc(){return 0!==(this.F&1)}qe(a){this.Ab(1,
a);if(this.ef())for(const b of this.Rd())0!==(b.F&8388608)&&b.qe(a)}gk(){return 0!==(this.F&8)}RH(a,b){this.Ab(32,a);this.hl&&this.hl.clear();if(b.trim()){this.hl||(this.hl=new Set);for(const c of b.split(" "))c&&this.hl.add(c.toLowerCase())}else this.hl=null}dQ(a,b,c){a=Math.floor(a);b=Math.floor(b);var d=c.mode||"absolute";if(!KD.has(d))throw Error("invalid mode");d="relative"===d;let e=c.x,f=c.y;const g=c.vl;let h="number"===typeof c.qV?c.qV:d?0:-1;c="number"===typeof c.vV?c.vV:d?0:-1;if(!tA(this))return!1;
const k=uA(this),l=lh(k,a,b);if(null===l)return!1;let m=!1;"number"===typeof g&&l.hb()!==g&&(l.Pg(g),m=!0);d&&(e+=a/(k.hm-1),f+=b/(k.Gm-1));-1!==h||d?(d&&(h+=a/(k.hm-1)),h=Q.X(h,0,1)):h=l.gh;-1!==c||d?(d&&(c+=b/(k.Gm-1)),c=Q.X(c,0,1)):c=l.ih;if(l.Ga()===e&&l.Ha()===f&&l.gh===h&&l.ih===c)return m;l.fj(e);l.uk(f);l.gh=h;l.ih=c;XD(this);return!0}Ym(){return this.ia.Ym()}Yw(){return 0!==(this.F&64)}na(a,b=null){const c={x:this.Ga(),y:this.Ha(),w:this.M(),h:this.K(),l:this.aa().lb,zi:Vm(this)};0!==this.hb()&&
(c.ze=this.hb());0!==this.fb()&&(c.a=bE(this));this.Et()||(c.c=this.tb.toJSON());.5!==this.$i()&&(c.oX=this.$i());.5!==this.aj()&&(c.oY=this.aj());0!==this.Bl()&&(c.bm=this.Bl());this.Cc()||(c.v=this.Cc());this.gk()||(c.ce=this.gk());0!==(this.F&4)&&(c.be=0!==(this.F&4));this.Nf&&(c.fx=this.Nf.na());const d=0!==(this.F&32);d&&(c.sfi=d);this.hl&&(c.sft=[...this.hl].join(" "));this.Ia&&"visual-state"!==a&&(c.sgi=this.Ia.na(a,b),ND.has(this)&&(c.sgcd=ND.get(this).QM,c.sgzid=ND.get(this).YN));tA(this)&&
(c.mesh=uA(this).ed());return c}Ox(){$D(this);lE(this);iE(this,null);this.Ia&&vD(this.Ia,this.ae,this.nl)}Wt(a){"visual-state"!==a&&lE(this)}Ah(a,b="full",c=null){a.hasOwnProperty("sgi")&&"visual-state"!==b&&0===(this.F&256)&&this.Ia.Ah(a.sgi,c)}nI(a,b="full"){a.hasOwnProperty("sgi")&&"visual-state"!==b&&0===(this.F&256)&&(vD(this.Ia,null,null),$D(this),K(this))}ra(a,b){MD=!1;this.fj(a.x);this.uk(a.y);this.Og(a.w);this.vh(a.h);this.Ti=a.zi|0;this.Pg(a.hasOwnProperty("ze")?a.ze:0);this.He(a.hasOwnProperty("a")?
a.a:0);a.hasOwnProperty("c")?Bd(xt,a.c):a.hasOwnProperty("o")?(sd(xt,this.tb),xt.a=a.o):pd(xt,1,1,1,1);WD(this);this.Xk=+(a.hasOwnProperty("oX")?a.oX:.5);this.Yk=+(a.hasOwnProperty("oY")?a.oY:.5);this.Ie(a.hasOwnProperty("bm")?a.bm:0);this.qe(a.hasOwnProperty("v")?a.v:!0);nE(this,a.hasOwnProperty("ce")?a.ce:!0);var c=a.hasOwnProperty("be")?a.be:!1;this.Ab(4,c);this.RH(a.hasOwnProperty("sfi")?a.sfi:!1,a.hasOwnProperty("sft")?a.sft:"");this.Nf&&a.hasOwnProperty("fx")&&this.Nf.ra(a.fx);if(!a.hasOwnProperty("sgi")&&
"visual-state"!==b&&this.ae)for(const d of this.ae)Un(d)||iq(this.g,d);a.hasOwnProperty("sgi")&&"visual-state"!==b&&(iE(this,null),c=this.Ia,c.ra(a.sgi),vD(c,this.ae,this.nl),a.sgcd&&Q.tc(a.sgzid)&&ND.set(this,{QM:a.sgcd,YN:a.sgzid}));a.hasOwnProperty("mesh")?(c=a.mesh,qA(this,c.cols,c.rows),uA(this).mc(c)):pA(this);K(this);MD=!0;YD(this);"visual-state"!==b&&(b=this.g,c=this.Z(),c.C()&&!b.bz.has(c)&&(b.bz.set(c,a),b.az.push(c)))}};"use strict";const rE=self.B;
rE.bO=class extends rE.ta{constructor(a,b){super();const c=a.G(),d=qx(c,b[1]);var e=c.Zo;const f=e.nJ.get(d);f&&(f(),e.nJ.delete(d));this.g=c;this.J=a;this.oj=ZB.get(d)||null;this.QD=this.vb=null;this.WD=d.Instance;this.lb=b[2];this.Ka=b[0];this.oz=this.g.ck(b[3]);a=this.oj.tg;if(2>a&&(this.vb=rE.A(d.Je,this),!(this.vb instanceof rE.t_)))throw Error("v1 sdk type must derive from SDKBehaviorBase");rE.zb.Vo(this,a);if(2<=a){if(this.QD=new (d.Je??globalThis.MO),!(this.QD instanceof globalThis.MO))throw Error("script interface class must derive from ISDKBehaviorTypeBase");
}else this.QD=new globalThis.KO;rE.zb.Uo(a);this.nc()}static Da(a,b){return rE.A(rE.bO,a,b)}m(){this.oj=this.g=null;this.vb&&(this.vb.m(),this.vb=null);this.WD=null}nc(){this.vb&&this.vb.nc()}G(){return this.g}I(){return this.J}fg(){return this.oj}ea(){return this.Ka}ck(){return this.oz}};"use strict";const sE=self.B,tE=self.JO;
sE.VV=class extends sE.ta{constructor(a){super();this.g=a.Qd;this.oc=a.UF;this.oj=this.oc.fg();this.ia=a.instance;this.la=a.index;this.Md=this.Tb=null;this.oj.ni(this.ia)}m(){this.Md&&(this.Md.el(),this.Md=null);this.oj.mr(this.ia);this.Tb&&(this.Tb.m(),this.Tb=null);this.ia=this.oj=this.oc=this.g=null}wC(a){if(this.Tb)throw Error("already got sdk instance");if(2>this.fg().tg){if(this.Tb=sE.A(this.oc.WD,this,a),!(this.Tb instanceof sE.s_))throw Error("v1 sdk type must derive from SDKBehaviorInstanceBase");
}else this.Ut(this.fg().ge().Instance,a)}G(){return this.g}Hg(){return this.oc}fg(){return this.oj}lg(){return this.la}ed(a="full"){return this.Tb?this.Tb.ed(a):null}mc(a,b="full"){if(this.Tb)return this.Tb.mc(a,b);this.Md.pm(a,b)}Ut(a,b){const c=(a=a??this.Tb.ge())||tE,d=this.fg().tg;sE.zb.Vo(this,d);UB.push(b);this.Md=new c;UB.pop();sE.zb.Uo(d);if(a&&!(this.Md instanceof tE))throw new TypeError(`script interface class '${a.name}' does not extend the right base class '${tE.name}'`);return this.Md}Ct(){return this.Md||
this.Ut()}};"use strict";const uE=self.B;function ys(a,b){return a.tD.get(b.toLowerCase())||null}function vE(a,b){b=Math.floor(+b);if(0>b||b>=a.Ch.length)throw new RangeError("invalid effect type index");return a.Ch[b]}
uE.Fq=class extends uE.ta{constructor(a,b){super();this.Mb=a;this.Ch=[];this.Bh=[];this.tD=new Map;this.Cd=[];this.Kf=[];this.II=new Set;this.xv=!0;for(const c of b)a=uE.A(uE.qO,this,c,this.Ch.length),this.Ch.push(a),this.tD.set(a.ea().toLowerCase(),a),3<=c.length&&this.Cd.push(this.lI(a,c[2]));this.G().FI.add(this)}m(){this.G().FI.delete(this);for(const a of this.Kf)a.m();uE.H(this.Kf);uE.H(this.Ch);uE.H(this.Bh);this.tD.clear();uE.H(this.Cd);this.Mb=null}Sl(a){a.Ud()&&(this.Kf=this.Ch.map(b=>{b=
b.Ge();return 0<b.lD?uE.A(uE.R.yQ,b):null}),this.Yt());for(const b of this.II)b.Sl(a)}lI(a,b){a.Pb=!!b[0];a=b.slice(1);for(let c=0,d=a.length;c<d;++c)if(b=a[c],Array.isArray(b)){const e=uE.A(uE.bb);Bd(e,b);a[c]=e}return a}G(){return this.Mb.G()}zh(){uE.H(this.Bh);let a=!0;for(const b of this.Ch)b.Pb&&(this.Bh.push(b),b.Ge().xv||(a=!1));this.xv=a}di(){return this.Ch}Mo(a){return vE(this,a).Pb}LH(a,b){vE(this,a).Pb=!!b}Yw(){return 0<this.Bh.length}BO(a){return this.Cd[a]}zC(a){return a<this.Kf.length?
this.Kf[a]:this.Cd[a]}AO(a,b){if(0>a||a>=this.Cd.length)return null;a=this.Cd[a];return 0>b||b>=a.length?null:a[b]}mC(a,b,c){if(0>a||a>=this.Cd.length)return!1;const d=this.Cd[a];if(0>b||b>=d.length)return!1;const e=d[b];if(e instanceof uE.bb){if(ud(e,c))return!1;sd(e,c)}else{if(e===c)return!1;d[b]=c}a<this.Kf.length&&Fk(this.Kf[a],b,c);return!0}Yt(){const a=this.Cd,b=this.Kf;for(let c=0,d=Math.min(a.length,b.length);c<d;++c){const e=b[c],f=a[c];for(let g=0,h=f.length;g<h;++g)Fk(e,g,f[g])}}static XP(a){return a&&
a instanceof uE.bb?{t:"color",v:a.toJSON()}:a}static eP(a){if(null===a)return NaN;if("object"===typeof a){if("color"===a.t){const b=uE.A(uE.bb);Bd(b,a.v);return b}throw Error("invalid effect parameter type");}return a}ed(){return this.Ch.map(a=>({name:a.ea(),active:a.Pb,params:this.Cd[a.Fa()].map(uE.Fq.XP)}))}mc(a){for(const b of a)if(a=ys(this,b.name))a.Pb=!!b.active,this.Cd[a.Fa()]=b.params.map(uE.Fq.eP);this.zh();this.Yt()}};"use strict";const CC=self.B;
CC.qO=class extends CC.ta{constructor(a,b,c){super();this.Sa=a;this.Lb=b[0];this.Ka=b[1];this.la=c;this.Ic=null;this.Pb=!0}m(){this.Ic=this.Sa=null}Sl(a){a=a.Vz.get(this.Lb)||null;if(!a)throw Error("failed to find shader program '"+this.Lb+"'");this.Ic=a}ea(){return this.Ka}wI(a){this.la=a}Fa(){return this.la}G(){return this.Sa.G()}Ge(){return this.Ic}};"use strict";const wE=self.B;
function hD(a){for(const d of a.Sa.di()){var b=a.Cd,c=b.push;const e=[];for(let f=0,g=d.Ic.FO();f<g;++f){const h=d.Ic.Ow(f);if("float"===h||"percent"===h)e.push(0);else if("color"===h)e.push(CC.A(CC.bb,1,1,1,1));else throw new TypeError("unknown effect parameter type");}c.call(b,e)}a.Yt()}
wE.WX=class extends wE.ta{constructor(a,b){super();this.ia=a;this.bU=b;this.Sa=a.I().Sa;this.DA=this.qL=!0;this.ZT=this.aU=this.$T=this.XT=!1;this.Jf=wE.A(wE.R.eg,a.G().U.Ey,{aG:(c,d)=>{d=d.fp;const e=d.C();c.mk(e.UG());Zg(c,dq(e));d.ci(c);Zg(c,0)},CU:c=>{const d=c.DB(),[e,f]=c.CB();return{fV:d,gV:e,dV:f}},dG:c=>this.zC(c)});this.Xo=[];this.Bh=[];this.xv=!0;this.Cd=[];this.Kf=[];this.Sl(a.G().za());for(let c=0,d=this.Sa.di().length;c<d;++c)this.Xo.push(!0);this.zh();this.Sa.II.add(this)}m(){this.Sa.II.delete(this);
for(const a of this.Kf)a&&a.m();wE.H(this.Kf);this.Jf.m();this.Jf=null;wE.H(this.Xo);wE.H(this.Bh);wE.H(this.Cd);this.Sa=this.ia=null}Sl(a){a.Ud()&&(this.Kf=this.Sa.di().map(b=>{b=b.Ge();return 0<b.lD?wE.A(wE.R.yQ,b):null}))}lI(a,b){this.Xo[a]=b[0];a=b.slice(1);for(let c=0,d=a.length;c<d;++c)if(b=a[c],Array.isArray(b)){const e=wE.A(wE.bb);Bd(e,b);a[c]=e}return a}Kg(){this.Ix();return this.Jf}G(){return this.ia.G()}zh(){wE.H(this.Bh);const a=this.bU,b=this.Sa.di(),c=this.Bh,d=this.Xo;let e=!0;for(let f=
0,g=b.length;f<g;++f)if(d[f]){const h=b[f];c.push(h);h.Ge().xv||(e=!1)}this.xv=e;a.Ab(64,!!c.length);this.qL=!0}Ix(){var a=this.ia,b=this.bU;const c=b.Et(),d=a.Ua().fS;b=0!==b.fb()||0!==b.aa().fb()||0>b.M()||0>b.K();const e=a.WB();a=a.Tq();if(this.qL||c!==this.DA||d!==this.XT||b!==this.$T||e!==this.aU||a!==this.ZT||this.Jf.Bz)vl(this.Jf,this.Bh.map(f=>f.Ge()),{ew:this.Bh.map(f=>f.Fa()),ZM:!c||a,GU:d,hG:e,kN:b}),this.qL=!1,this.DA=c,this.XT=d,this.$T=b,this.aU=e,this.ZT=a}BO(a){return this.Cd[a]}zC(a){return a<
this.Kf.length?this.Kf[a]:this.Cd[a]}AO(a,b){if(0>a||a>=this.Cd.length)return null;a=this.Cd[a];return 0>b||b>=a.length?null:a[b]}mC(a,b,c){if(0>a||a>=this.Cd.length)return!1;const d=this.Cd[a];if(0>b||b>=d.length)return!1;const e=d[b];if(e instanceof wE.bb){if(ud(e,c))return!1;sd(e,c)}else{if(e===c)return!1;d[b]=c}a<this.Kf.length&&Fk(this.Kf[a],b,c);return!0}Yt(){const a=this.Cd,b=this.Kf;for(let c=0,d=b.length;c<d;++c){const e=b[c],f=a[c];for(let g=0,h=f.length;g<h;++g)Fk(e,g,f[g])}}Mo(a){return this.Xo[a]}LH(a,
b){this.Xo[a]=!!b}di(){return this.Sa.di()}na(){return this.Sa.di().map(a=>({name:a.ea(),active:this.Xo[a.Fa()],params:this.Cd[a.Fa()].map(uE.Fq.XP)}))}ra(a){for(const b of a)if(a=ys(this.Sa,b.name))this.Xo[a.Fa()]=b.active,this.Cd[a.Fa()]=b.params.map(uE.Fq.eP);this.zh();this.Yt()}};"use strict";const xE=self.B,yE=[],zE=xE.A(xE.Dq),AE=xE.A(xE.Dq),BE=xE.A(xE.Jd);xE.A(xE.Rect);xE.A(xE.Rect);let CE=null,DE=null,EE=null;
function Sz(a,b,c,d){if(b.Oa)for(const e of b.fm)FE(a,e)?(KC(e),e.ky.eC(c,d)):xE.wo(d,e.qa());else FE(a,b)?(KC(b),b.ky.eC(c,d)):xE.wo(d,b.qa())}
function Tz(a,b){if(!a||!b||a===b)return!1;a=a.C();b=b.C();if(!a.gk()||!b.gk())return!1;var c=a.aa(),d=b.aa();if(Np(c,d))b=GE(a,b);else if(c=a.Ym(),d=b.Ym(),c&&!d)b=HE(a,b);else if(d&&!c)b=HE(b,a);else if(d||c)b=!1;else{d=a.aa();c=b.aa();zE.wa(UD(a));AE.wa(UD(b));var e=zE.Be;for(let f=0,g=e.length;f<g;f+=2){const h=f+1,k=e[h],[l,m]=Vn(d,e[f]+a.Ga(),k+a.Ha());e[f]=l;e[h]=m}a=AE.Be;for(let f=0,g=a.length;f<g;f+=2){d=f+1;e=a[d];const [h,k]=Vn(c,a[f]+b.Ga(),e+b.Ha());a[f]=h;a[d]=k}zE.On=!0;AE.On=!0;b=
Wd(zE,AE,0,0)}return b}function Xz(a,b,c,d){for(const [e,f]of a.Oz){if(b===e)a=f;else if(b===f)a=e;else continue;eA(a,c)&&(d.includes(a)||d.push(a))}}function Yz(a,b,c){if(!a.Oz.length)return!1;for(const [d,e]of a.Oz)if(b===d&&c===e||b===e&&c===d)return!0;return!1}function OC(a){return[a.$C,a.ZC]}
function GE(a,b){if(!Ld(Um(a),Um(b))||!Pd(SD(a),SD(b))||a.Ym()&&b.Ym())return!1;if(a.Ym())return IE(a,b);if(b.Ym())return IE(b,a);if(!TD(a)&&!TD(b))return!0;const c=UD(a),d=UD(b);return Wd(c,d,b.Ga()-a.Ga(),b.Ha()-a.Ha())}
function IE(a,b,c,d,e,f,g){f=void 0!==f?f:Um(b);const h=a.Ga(),k=a.Ha();var l=L(a.Z());c=void 0!==c?c:b.Ga();d=void 0!==d?d:b.Ha();a=TD(b);g=void 0!==g?g:SD(b);l.g8(f,yE);for(let p=0,q=yE.length;p<q;++p){var m=yE[p];l=m.q8();if(!(l.ja+h<f.$||l.da+k<f.V||l.$+h>f.ja||l.V+k>f.da)&&(BE.Dg(l),BE.offset(h,k),Pd(BE,g)))if(a){var n=void 0!==e?e:UD(b);let u=c,r=d;void 0!==e&&(u=b.Ga(),r=b.Ha());if(m=m.tX()){if(Wd(m,n,u-(h+l.$),r-(k+l.V)))return xE.H(yE),!0}else if(Ud(zE,BE,0,0),Wd(zE,n,u,r))return xE.H(yE),
!0}else if(n=m.tX()){if(Ud(zE,g,0,0),Wd(n,zE,-(h+l.$),-(k+l.V)))return xE.H(yE),!0}else return xE.H(yE),!0}xE.H(yE);return!1}
function HE(a,b){var c=a.aa(),d=b.aa();CE||(CE=xE.A(xE.Dq));DE||(DE=xE.A(xE.Rect));EE||(EE=xE.A(xE.Jd));var e=b.Ga(),f=b.Ha();const [g,h]=Vn(d,e,f),[k,l]=vp(c,g,h);c=k-e;f=l-f;DE.wa(Um(b));DE.offset(c,f);if(!Ld(Um(a),DE))return!1;EE.wa(SD(b));EE.offset(c,f);if(!Pd(SD(a),EE))return!1;CE.wa(UD(b));d=CE.Be;for(let m=0,n=d.length;m<n;m+=2)e=m+1,d[m]+=c,d[e]+=f;CE.On=!0;return IE(a,b,k,l,CE,DE,EE)}function FE(a,b){if(!a)return!0;for(const c of NC(b))if(!Np(a,c))return!1;return!0}
function JE(a,b,c){a.$C=b;a.ZC=c}xE.kW=class extends xE.ta{constructor(a){super();this.g=a;this.ZC=this.$C=0;this.Oz=[];new self.HX(this)}m(){this.g=null}G(){return this.g}$P(a,b){if(a!==this.$C||b!==this.ZC){this.$C=a;this.ZC=b;var c=this.g.nd;for(const f of c)if(f.Yd){for(const g of dm(f))mE(g.C());c=f.ky;var d=a,e=b;if(!c.qj.cj())throw Error("grid not empty");c.YC=d;c.XC=e;f.Sx=!1;for(const g of dm(f))c=g.C(),c.F|=16,LC(c)}}}};"use strict";const KE=self.B;
KE.Y_=class extends KE.ta{constructor(a,b){super();this.YC=a;this.XC=b;this.qj=KE.A(KE.lx)}m(){this.qj.m();this.qj=null}Ho(a,b,c){let d=this.qj.T(a,b);return d?d:c?(d=KE.A(KE.zX,this,a,b),this.qj.Set(a,b,d),d):null}wk(a){a=Math.floor(a/this.YC);return isFinite(a)?a:0}xk(a){a=Math.floor(a/this.XC);return isFinite(a)?a:0}vk(a,b,c){if(b)for(let d=b.$,e=b.ja;d<=e;++d)for(let f=b.V,g=b.da;f<=g;++f){if(c&&c.kh(d,f))continue;const h=this.Ho(d,f,!1);h&&(h.Ef(a),h.cj()&&this.qj.Eo(d,f))}if(c)for(let d=c.$,
e=c.ja;d<=e;++d)for(let f=c.V,g=c.da;f<=g;++f)b&&b.kh(d,f)||this.Ho(d,f,!0).VB(a)}eC(a,b){let c=this.wk(a.$);const d=this.xk(a.V),e=this.wk(a.ja);a=this.xk(a.da);if(isFinite(e)&&isFinite(a))for(;c<=e;++c)for(let f=d;f<=a;++f){const g=this.Ho(c,f,!1);g&&g.JG(b)}}};"use strict";const LE=self.B;LE.zX=class extends LE.ta{constructor(a,b,c){super();this.ka=b;this.ca=c;this.L=LE.A(LE.zG)}m(){this.L.m();this.L=null}cj(){return this.L.cj()}VB(a){this.L.Gb(a)}Ef(a){this.L.Eo(a)}JG(a){LE.wo(a,$d(this.L))}};
"use strict";const ME=self.B;ME.nba=class{constructor(){this.dy=this.dx=this.y2=this.x2=this.y1=this.x1=0;this.rect=new ME.Rect;this.Pd=0}Dc(){}Set(a,b,c,d){this.x1=a;this.y1=b;this.x2=c;this.y2=d;this.dx=c-a;this.dy=d-b;this.rect.set(a,b,c,d);this.rect.normalize();this.Pd=0;return this}};"use strict";const N=self.B,NE=new Set("off crop scale-inner scale-outer letterbox-scale letterbox-integer-scale".split(" ")),OE=new Set(["high","low"]),PE=self.me.tl,QE=PE.create(),RE=N.A(N.Jd),dh=N.A(N.Rect);
async function dr(a,b,c=!1){if(1>b)throw Error("invalid HTML layer count");if(a.mg.length!==b){c={count:b,immediate:c,marginLeft:a.yn,marginTop:a.zn,styleWidth:a.pd,styleHeight:a.gd};c=a.yd()?await Vl(a.g,"canvas","set-html-layer-count",c):self.c3_runtimeInterface._OnSetHTMLLayerCount(c);if(b<a.mg.length)a.mg.length=b;else for(const d of c.addedCanvases){d.width=a.Ug;d.height=a.Tg;b=SE(a)?"bitmaprenderer":"2d";c=d.getContext(b);if(!c)throw Error(`failed to acquire '${b}' canvas context`);a.mg.push({canvas:d,
sU:c})}a.g.ba()}}function TE(a,b,c){a.IM=b;a.GM=c}async function UE(a){await a.Ye.$B();await a.Sl();await VE(a.g);console.log("[Construct] WebGL context restored")}async function WE(a,b){b={powerPreference:a.SJ,depth:a.g.ql,failIfMajorPerformanceCaveat:b,uV:a.g.Ws,oU:a.g.RT,GA:a.g.xM};a.Wh=N.A(N.R.D0,{uN:a.IM,YM:a.GM});await a.Wh.Da(a.mg[0].canvas,b)}function XE(a,b){b&&"string"===typeof b.message&&b.message.startsWith("renderer-unavailable")||console.error(`Error creating ${a} renderer: `,b)}
async function YE(a,b){b={alpha:!0,powerPreference:a.SJ,yU:"xbox-uwp-webview2"!==a.g.Lf,depth:a.g.ql,GA:a.g.xM,failIfMajorPerformanceCaveat:b,uN:a.IM,YM:a.GM};a.jS&&(b.OU=1);a.Ye=N.A(N.R.y0,a.mg[0].canvas,b);await a.Ye.Mq()}async function ZE(a){await a.Sl();await VE(a.g);console.log("[Construct] WebGPU device restored")}async function $E(a){if(a.lF){const b=[];for(const [c,d]of Object.entries(a.lF))d.src=d.Wja,b.push(a.Wh.oB(Object.assign({kt:N.R.vC.ut(),name:c},d)));await Promise.all(b)}}
async function aF(a){if(a.lF){const b=[];for(const [c,d]of Object.entries(a.lF)){let e;if(d.W3&&2<=a.Ye.bd)d.src=d.W3,e=Qh();else{if(!d.V3)throw Error(`shader '${c}' does not support WebGL 1`);d.src=d.V3;e=N.R.uC.ut()}b.push(a.Ye.oB(Object.assign({kt:e,name:c},d)))}await Promise.all(b);a.Ye.Ep=null;Vg(a.Ye)}a.Ye.yh()&&(a.LD=N.A(N.R.wQ,a.Ye))}function bF(a){return a.hs?a.qR:a.Kw()}function cF(a,b){if(!NE.has(b))throw Error("invalid fullscreen mode");a.FR=b;a=a.g.jb;tr(a);ur(a)}
function dF(a,b){if(!OE.has(b))throw Error("invalid fullscreen scaling quality");a.DM=b;tr(a.g.jb)}function eF(a){switch(a){case 0:return"off";case 1:return"crop";case 2:return"scale-inner";case 3:return"scale-outer";case 4:return"letterbox-scale";case 5:return"letterbox-integer-scale";default:throw Error("invalid fullscreen mode");}}function fF(a,b){const c=a.gd,d=a.pd/2,e=c/2;b.Pl(a.pD);a=Tg(b,d,e,b.Ee(c),d,e,c);b.er(a)}
function SE(a){return"undefined"!==typeof OffscreenCanvas&&a.mg[0].canvas instanceof OffscreenCanvas&&("Chromium"!==N.W.Eg||124<=N.W.eO)}function*gF(a){for(const b of sr(a.g.jb))for(const c of b.Qc){const d=a.TK.get(c);d&&(yield d)}}
function hF(a){if(isNaN(a.Py)&&(a.Py=Wi(a.LD,a.tp,a.Hh),!isNaN(a.Py))){if(a.g.Fb)for(var b of gF(a))if(b.YF=Wi(b.UN,a.tp,a.Hh),isNaN(b.YF))return;Xi(a.LD,a.Hh);a.rp=Math.min(a.Py,1);if(a.g.Fb){const d=new Map;for(const e of gF(a))Xi(e.UN,a.Hh),e.oN=Math.min(e.YF,1),d.set(e.Zs,e.oN);for(var c of gF(a))b=c.Zs,b=(d.get(b)||0)-b.Te.reduce((e,f)=>e+(d.get(f)||0),0),c.NU=N.X(b,0,1);c=a.rp-a.g.Wb().Tf.reduce((e,f)=>e+(d.get(f)||0),0);self.$h.r0(N.X(c,0,1),a.rp,[...gF(a)])}a.tp=a.Hh;a.Hh=0}}
function iF(a){if(0!==a.Hh){for(var b=a.tp;b<a.Hh;++b){var c=a.SF.get(b);if(c&&!c.Zw())return}b=a.g.Wb();c=N.ji(b.Qc.length+1,0);var d=0;for(let f=a.tp;f<a.Hh;++f){var e=a.SF.get(f);if(!e)continue;e=e.Pw();let g=BigInt(0),h=BigInt(0);const k=BigInt(0);for(let l=0,m=Math.min(c.length,e.length/2);l<m;++l){const n=e[2*l],p=e[2*l+1];n!==k&&(g===k||n<g)&&(g=n);p>h&&(h=p);c[l]+=Number(p-n)/1E9}d+=Number(h-g)/1E9}a.rp=N.X(d,0,1);if(a.g.Fb){d=b.Qc;const f=new Map;for(let h=0,k=Math.min(d.length,c.length-
1);h<k;++h)f.set(d[h],c[h+1]);c=[];const g=new Map;for(const [h,k]of f)d=[...Lp(h)].reduce((l,m)=>l+(f.get(m)||0),0),g.set(h,d),c.push({name:h.ea(),NU:N.X(k,0,1),oN:N.X(d,0,1)});b=a.rp-b.Tf.reduce((h,k)=>h+(g.get(k)||0),0);self.$h.r0(N.X(b,0,1),a.rp,c)}for(b=a.tp;b<a.Hh;++b)a.SF.delete(b);a.tp=a.Hh;a.Hh=0}}
function jF(a){if(a.qF){var b=a.mg[0].canvas,c=a.vT,d=N.X(Math.floor(c.$),0,b.width),e=N.X(Math.floor(c.V),0,b.height),f=c.width();f=0===f?b.width-d:N.X(Math.floor(f),0,b.width-d);c=c.height();c=0===c?b.height-e:N.X(Math.floor(c),0,b.height-e);if((0!==d||0!==e||f!==b.width||c!==b.height)&&0<f&&0<c){const g=N.mh(f,c);g.getContext("2d").drawImage(b,d,e,f,c,0,0,f,c);b=g}N.gB(b,a.qF,a.XL).then(g=>{a.Zz&&URL.revokeObjectURL(a.Zz);a.Zz=URL.createObjectURL(g);a.Yz=null;a.wT(a.Zz)});a.qF="";a.XL=1}}
async function kF(a){var b=(new URL("splash-images/splash-logo.svg",a.g.pT)).toString();b=await N.Pm(b);b=await lF(a.g,b);return await a.za().vw(b,{RA:"high"})}async function mF(a,b){b=(new URL(b,a.g.pT)).toString();b=await N.Pm(b);return await a.za().vw(b,{RA:"high"})}
function nF(a,b){const c=a.za();2===b?(a.Rh=N.A(N.R.hC,a.za()),Bi(a.Rh,"Arial"),a.Rh.MH(16),Gi(a.Rh,"center"),Hi(a.Rh,"center"),a.Rh.uc(300,200)):0===b?(b=a.g.ns)&&b.Sq(c).catch(d=>console.warn("[C3 runtime] Failed to create texture for loading logo: ",d)):4===b&&(kF(a).then(d=>{"done"===a.il?c.bi(d):a.eh.QA=d}).catch(d=>console.warn("Failed to load splash image: ",d)),mF(a,"splash-images/splash-poweredby-512.png").then(d=>{"done"===a.il?c.bi(d):a.eh.UA=d}).catch(d=>console.warn("Failed to load splash image: ",
d)),mF(a,"splash-images/splash-website-512.png").then(d=>{"done"===a.il?c.bi(d):a.eh.$A=d}).catch(d=>console.warn("Failed to load splash image: ",d)))}function oF(a){ne(a.g,"runtime","hide-cordova-splash")}
function pF(a){if(-1!==a.uf){var b=a.za();b.Rt();a.uf=-1;var c=a.g.od.WJ,d=a.g.kv;3!==d&&(fF(a,b),b.ai(0,0,0,0),oj(b),Vg(b),b.ie(null));if(0===d)qF(a,c);else if(1===d)rF(a,c,120,0);else if(2===d)sF(a,c);else if(3!==d)if(4===d)tF(a,c);else throw Error("invalid loader style");b.Fo();a.uf=requestAnimationFrame(()=>pF(a))}}function uF(a){a.wz=Date.now();a.g.cb().addEventListener("loadingprogress",a.YK);a.uf=requestAnimationFrame(()=>pF(a));3!==a.g.kv&&oF(a)}
async function vF(a){const b=a.za();a.Hp=1;const c=a.g.kv;4===c&&await a.yT;a.aM=null;a.yT=null;-1!==a.uf&&(cancelAnimationFrame(a.uf),a.uf=-1);a.g.cb().removeEventListener("loadingprogress",a.YK);a.YK=null;a.Rh&&(a.Rh.m(),a.Rh=null);var d=a.g;d.ns&&(d.ns.Kl(),d.ns.m(),d.ns=null);b.Rt();a.eh.QA&&(b.bi(a.eh.QA),a.eh.QA=null);a.eh.UA&&(b.bi(a.eh.UA),a.eh.UA=null);a.eh.$A&&(b.bi(a.eh.$A),a.eh.$A=null);b.ai(0,0,0,0);b.Fo();a.il="done";a.tp=b.Mf;3===c&&oF(a)}
function qF(a,b){const c=a.za();var d=a.g.ns;if(d)if(d=d.lc()){var e=d.M(),f=d.K(),g=a.pd/2,h=a.gd/2,k=e/2;f/=2;var l=g-k,m=h-f;g+=k;h+=f;RE.set(l,m,g,m,g,h,l,h);c.ie(d);c.Jd(RE);rF(a,b,e,f+16)}else rF(a,b,120,0);else rF(a,b,120,0)}function rF(a,b,c,d){const e=a.za();e.Ol(e.cA);b?e.Ff(1,0,0,1):e.Ff(.118,.565,1,1);b=a.pd/2;const f=a.gd/2,g=c/2;Fd(dh,b-g,f-4+d,Math.floor(c*a.Hp),8);e.Rect(dh);Fd(dh,b-g,f-4+d,c,8);dh.offset(-.5,-.5);Hd(dh,.5,.5);e.Ff(0,0,0,1);ch(e);Hd(dh,1,1);e.Ff(1,1,1,1);ch(e)}
function sF(a,b){b?(b=a.Rh,qd(li,1,0,0),b.mk(li)):(b=a.Rh,qd(li,.6,.6,.6),b.mk(li));a.Rh.Ql(Math.round(100*a.Hp)+"%");var c=a.pd/2,d=a.gd/2;b=c-150;var e=d-100;c+=150;d+=100;RE.set(b,e,c,e,c,d,b,d);b=a.za();b.ie(a.Rh.lc());b.Jl(RE,a.Rh.fk())}
function tF(a,b){const c=a.za(),d=a.eh.QA,e=a.eh.UA,f=a.eh.$A,g=Date.now();0===a.cM&&(a.wz=g);const h=a.g.gx()||a.g.i2&&!wF(a.g),k=h?0:200,l=h?0:3E3;let m=1;"fade-in"===a.il?m=Math.min((g-a.wz)/300,1):"fade-out"===a.il&&(m=Math.max(1-(g-a.bM)/300,0));c.Ol(c.cA);c.Ff(.231*m,.251*m,.271*m,m);dh.set(0,0,a.pd,a.gd);c.Rect(dh);const n=Math.ceil(a.pd),p=Math.ceil(a.gd);let q;256<a.gd?(c.Ff(.302*m,.334*m,.365*m,m),q=Math.max(.005*p,2),Fd(dh,0,.8*p-q/2,n,q),c.Rect(dh),b?c.Ff(m,0,0,m):c.Ff(.161*m,.953*m,.816*
m,m),b=n*a.Hp,Fd(dh,.5*n-b/2,.8*p-q/2,b,q),c.Rect(dh),c.Ff(m,m,m,m),Vg(c),e&&(b=1.5*N.X(.22*p,105,.6*n),q=b/8,Fd(dh,.5*n-b/2,.2*p-q/2,b,q),c.ie(e),c.Rect(dh)),d&&(q=b=Math.min(.395*p,.95*n),Fd(dh,.5*n-b/2,.485*p-q/2,b,q),c.ie(d),c.Rect(dh)),f&&(b=1.5*N.X(.22*p,105,.6*n),q=b/8,Fd(dh,.5*n-b/2,.868*p-q/2,b,q),c.ie(f),c.Rect(dh))):(c.Ff(.302*m,.334*m,.365*m,m),q=Math.max(.005*p,2),Fd(dh,0,.85*p-q/2,n,q),c.Rect(dh),b?c.Ff(m,0,0,m):c.Ff(.161*m,.953*m,.816*m,m),b=n*a.Hp,Fd(dh,.5*n-b/2,.85*p-q/2,b,q),c.Rect(dh),
c.Ff(m,m,m,m),Vg(c),d&&(q=b=.55*p,Fd(dh,.5*n-b/2,.45*p-q/2,b,q),c.ie(d),c.Rect(dh)));a.cM++;"fade-in"===a.il&&300<=g-a.wz&&2<=a.cM&&(a.il="wait",a.zT=g);"wait"===a.il&&g-a.zT>=l&&1<=a.Hp&&(a.il="fade-out",a.bM=g);("fade-out"===a.il&&g-a.bM>=300+k||h&&1<=a.Hp&&500>g-a.wz)&&a.aM()}
N.gW=class extends N.ta{constructor(a){super();this.g=a;this.mg=[];this.mS=!1;this.Wh=this.Ye=null;this.SJ="high-performance";this.jS=!1;this.Oj=this.Pj=0;this.hD="";this.zn=this.yn=this.Tg=this.Ug=this.gd=this.pd=0;this.Xs="normalized";this.aS=0;this.IM=1;this.GM=1E4;this.Or=!0;this.qd=this.Bd=this.GT=0;this.qR=this.FR="letterbox-scale";this.N1=this.M1=0;this.pD=PE.create();this.Bi=this.DM="high";this.hs=!1;this.cu=[];this.xA=new Set;this.lF=self.C3_Shaders;this.Ey=N.A(N.R.FW,{AU:()=>[this.El(),
this.Dl()],BU:()=>{const b={qc:this.g.Yb};"low"===this.Bi&&(b.width=this.El(),b.height=this.Dl());return this.Cw(b)},ZU:b=>{this.Yq(b)},getTime:()=>cq(this.G()),YU:()=>this.G().ba()});this.Hh=this.tp=0;this.rp=NaN;this.LD=null;this.TK=new Map;this.Py=NaN;this.SF=new Map;this.qF="";this.XL=1;this.vT=N.A(N.Rect);this.Zz="";this.wT=this.Yz=null;this.wz=0;this.uf=-1;this.Hp=0;this.YK=b=>this.Hp=b.progress;this.Rh=null;this.eh={QA:null,UA:null,$A:null};this.bM=this.zT=this.cM=0;this.il="fade-in";this.aM=
null;this.yT=new Promise(b=>this.aM=b)}async mh(a){var b=a.canvas;this.mg.push({canvas:b,sU:null});Gn(this.g,"runtime","window-resize",d=>this.rI(d));Gn(this.g,"runtime","fullscreenchange",d=>{this.hs=!!d.isFullscreen;this.uc(d.innerWidth,d.innerHeight,!0);this.g.ba()});Gn(this.g,"runtime","fullscreenerror",d=>{this.hs=!!d.isFullscreen;this.uc(d.innerWidth,d.innerHeight,!0);this.g.ba()});b.addEventListener("webglcontextlost",d=>{console.log("[Construct] WebGL context lost");d.preventDefault();this.cu=
[];this.xA.clear();this.Ey.Wd();this.Ye.Wd();this.g.DC()});b.addEventListener("webglcontextrestored",()=>UE(this));this.hs=!!a.isFullscreen;this.hD=a.cssDisplayMode;var c=navigator.gpu&&this.mS;b=!1;if(c)try{await WE(this,!0)}catch(d){XE("WebGPU",d),this.Wh=null}if(!this.za())try{await YE(this,!0)}catch(d){XE("WebGL",d),this.Ye=null}this.za()||(b=!0);if(!this.za()&&c)try{await WE(this,!1)}catch(d){XE("WebGPU",d),this.Wh=null}if(!this.za())try{await YE(this,!1)}catch(d){XE("WebGL",d),this.Ye=null}c=
this.za();if(!c)throw Error("failed to acquire a renderer - check WebGL or WebGPU is supported");c.XJ=!!b;this.Wh&&(this.Wh.yN=()=>{console.log("[Construct] WebGPU device lost");this.cu=[];this.xA.clear();this.Ey.Wd();this.g.DC()},this.Wh.zN=()=>ZE(this));"normalized"===this.Xs?c.Xs=!1:(c.Xs=!0,c.NH(this.aS));this.uc(a.windowInnerWidth,a.windowInnerHeight,!0);await this.Sl()}async Sl(){this.Wh?await $E(this):this.Ye&&await aF(this);const a=this.za();a.PH(this.Or);a.yh()&&(this.rp=0);for(const b of this.g.FI){for(const c of b.di())c.Sl(a);
b.Sl(a);b.zh()}new self.LX(this.g,a)}m(){this.Ye=this.g=null;this.mg.length=0}yd(){return this.g.yd()}rI(a){const b=this.g;if(null===b.Ld){var c=a.devicePixelRatio;this.yd()&&(self.devicePixelRatio=c);null===b.Ld&&(b.am=c);this.hs=!!a.isFullscreen;this.hD=a.cssDisplayMode;this.uc(a.innerWidth,a.innerHeight);b.ba();c=new N.Event("window-resize");c.data=a;ye(b.cb(),c);a=new N.Event("resize");a.uga=this.pd;a.tga=this.gd;a.Gga=this.Ug;a.Fga=this.Tg;b.Fg(a);b.Fb&&(Qv(b)||self.$h.o9())&&b.br()}}uc(a,b,
c=!1){a=Math.floor(a);b=Math.floor(b);if(0>=a||0>=b)throw Error("invalid size");if(this.Pj!==a||this.Oj!==b||c){this.Pj=a;this.Oj=b;c=bF(this);if("letterbox-scale"===c){var d=this.g.Rm(),e=this.g.Ji,f=this.g.Ii,g=e/f;a/b>g?(this.pd=Math.round(b*g),this.gd=b,this.yn=Math.floor((a-this.pd)/2),this.zn=0):(this.pd=a,this.gd=Math.round(a/g),this.yn=0,this.zn=Math.floor((b-this.gd)/2));this.Ug=Math.round(this.pd*d);this.Tg=Math.round(this.gd*d);xF(this.g,e,f)}else"letterbox-integer-scale"===c?(d=this.g.Rm(),
1!==d&&(a+=1,b+=1),e=this.g.Ji,f=this.g.Ii,g=e/f,g=a/b>g?b*g*d/e:a/g*d/f,1<g?g=Math.floor(g):1>g&&(g=1/Math.ceil(1/g)),this.Ug=Math.round(e*g),this.Tg=Math.round(f*g),this.pd=this.Ug/d,this.gd=this.Tg/d,this.yn=Math.max(Math.floor((a-this.pd)/2),0),this.zn=Math.max(Math.floor((b-this.gd)/2),0),xF(this.g,e,f)):"off"===c?(d=this.g.Rm(),this.pd=this.g.zg,this.gd=this.g.zf,this.Ug=Math.round(this.pd*d),this.Tg=Math.round(this.gd*d),this.hs?(this.yn=Math.floor((a-this.pd)/2),this.zn=Math.floor((b-this.gd)/
2)):this.zn=this.yn=0,xF(this.g,this.g.zg,this.g.zf)):(d=this.g.Rm(),this.pd=a,this.gd=b,this.Ug=Math.round(this.pd*d),this.Tg=Math.round(this.gd*d),this.zn=this.yn=0,a=this.Yi(),xF(this.g,this.pd/a,this.gd/a));"high"===this.DM?(this.Bd=this.Ug,this.qd=this.Tg,this.Bi="high"):("off"===bF(this)?(a=this.g.zg,b=this.g.zf):(a=this.g.Ji,b=this.g.Ii),this.Ug<a||this.Tg<b?(this.Bd=this.Ug,this.qd=this.Tg,this.Bi="high"):(this.Bd=a,this.qd=b,this.Bi="low","scale-inner"===c?(c=a/b,a=this.Pj/this.Oj,a<c?this.Bd=
this.qd*a:a>c&&(this.qd=this.Bd/a)):"scale-outer"===c&&(c=a/b,a=this.Pj/this.Oj,a>c?this.Bd=this.qd*a:a<c&&(this.qd=this.Bd/a))));for(var {canvas:h}of this.mg)h.width=this.Ug,h.height=this.Tg;ne(this.g,"canvas","update-size",{marginLeft:this.yn,marginTop:this.zn,styleWidth:this.pd,styleHeight:this.gd,displayScale:this.Yi()});h=this.za();h.uc(this.Ug,this.Tg,!0);for(var k of this.cu)h.nO(k);N.H(this.cu);Rg(this.za(),this.pD,this.El()/this.Dl());k=this.g.jb;tr(k);ur(k)}}G(){return this.g}Kw(){return this.FR}El(){return this.Bd}Dl(){return this.qd}PH(a){this.Or=
!!a}Ww(){return this.Ye}Lq(){return this.Wh}za(){return this.Wh||this.Ye}At(){return"low"===this.Bi?1/this.g.Rm():this.Yi()}Yi(){const a=bF(this);if("off"===a||"crop"===a)return 1;const b=this.g.Ji,c=this.g.Ii,d=b/c,e=this.Ug/this.Tg;return"scale-inner"!==a&&e>d||"scale-inner"===a&&e<d?this.gd/c:this.pd/b}Hw(){return"low"===this.Bi?1:this.Yi()}Gw(){return"low"===this.Bi?1:this.g.Rm()}zB(){return this.yn}AB(){return this.zn}Lw(){return this.mg.length}Cw(a){a.depth=this.g.ql;const b=this.cu,c=b.findIndex(e=>
e.XO(a));let d;-1!==c?(d=b[c],b.splice(c,1)):d=this.za().lO(a);this.xA.add(d);return d}Yq(a){if(!this.xA.has(a))throw Error("render target not in use");this.xA.delete(a);this.cu.push(a)}HB(){return this.rp}kQ(a,b,c,d,e,f){this.qF=a;this.XL=b;Fd(this.vT,c,d,e,f);return this.Yz?this.Yz:this.Yz=new Promise(g=>{this.wT=g})}};"use strict";const X=self.B,yF=self.$h,zF={messagePort:null,runtimeBaseUrl:"",headless:!1,hasDom:!0,isInWorker:!1,useAudio:!0,exportType:""};let AF=!0;
function ne(a,b,c,d){a.yz.postMessage({type:"event",component:b,handler:c,data:d,responseId:null},void 0)}function Ul(a,b){return b&&-1!==b.Ue?a.Nr*b.Ue:a.Cy}function Vl(a,b,c,d){const e=a.C2++,f=new Promise((g,h)=>{a.Jz.set(e,{resolve:g,reject:h})});a.yz.postMessage({type:"event",component:b,handler:c,data:d,responseId:e},void 0);return f}
function fm(a,b,c,d,e,f,g){if(g&&a.Oi){if(b instanceof X.kx&&b.Oa)return b=b.fm,fm(a,b[Math.floor(a.Wp()*b.length)],c,d,e,f,g);const h=Lu(a.Oi,b,g);if(h)return c=mq(a,h,c,!1,d,e,!1,f,void 0,f),Mu(a.Oi,c,g),c}return mq(a,b,c,!1,d,e,!1,f,void 0,f)}function jm(a){if(a.ND){for(const b of a.wp){const c=b.I();c.ni(b);for(const d of c.yi)d.ni(b),d.Zr=!0}X.H(a.wp);a.Sb.Nt(!0);for(const [b,c]of a.ZD.entries())BF(a,b,c),c.clear();a.ZD.clear();a.Sb.Nt(!1);a.ND=!1;a.ba()}}
function Gn(a,b,c,d){let e=a.sJ.get(b);e||(e=new Map,a.sJ.set(b,e));if(e.has(c))throw Error(`[Runtime] Component '${b}' already has handler '${c}'`);e.set(c,d)}function bo(a,b){b?a.mJ--:a.mJ++;a.pf=a.Fb&&a.t1&&0===a.mJ}function lp(a,b){b=Math.floor(b);if(0>b||b>=a.nd.length)throw new RangeError("invalid index");return a.nd[b]}
function iq(a,b){if(!a.gs.has(b)){var c=b.I(),d=a.ZD.get(c);if(d){if(d.has(b))return;d.add(b)}else d=new Set,d.add(b),a.ZD.set(c,d);a.Fb&&yF.g9(b);b.mI();a.ND=!0;if(b.Bc())for(const e of b.md)iq(a,e);for(const e of b.children())e.Fw()&&iq(a,e);0<a.jb.Vu||a.Di||(c=a.pa(),gm(c,!0),b.g.ua(qB(b.Ua()).D.uZ,b,null),gm(c,!1));a=0<a.jb.Vu;b.Md&&(c=new Hm.Event("destroy"),c.h4=a,b.Fg(c));if(YC(b,"instancedestroy")){c=b.I();d=new Hm.Event("instancedestroy");d.instance=em(b);d.h4=a;c.Fg(d);for(const e of c.yi)e.Fg(d);
b.g.Fg(d)}}}
function mq(a,b,c,d,e,f,g,h,k,l){var m=null;let n=null;b instanceof X.kx?(n=b,n.Oa&&(m=n.fm,n=m[Math.floor(a.Wp()*m.length)]),m=n.Jr):(m=b,n=lp(a,m[1]));b=n.Ua().Yd;if(a.Mh&&b&&!n.EK)return null;const p=c;b||(c=null);var q=d&&!g&&m&&!a.es.has(m[2])?m[2]:a.Dz++;const u=m?m[0]:null,r=X.A(X.Instance,{Qd:a,xN:n,Zs:c,wV:u,FU:m?m[3]:null,uid:q,jV:m?m[6]:null});a.es.set(q,r);q=null;b&&(q=r.C(),"undefined"!==typeof e&&"undefined"!==typeof f&&(q.fj(e),q.uk(f)),n.Sx=!0);c&&(l||c.ni(r,!0),Oq(c.rc(),n));a.vL++;
var t=!0;k&&(k=k.I(),k.Bc()&&n.Bc()&&n.Gh===k.Gh&&(t=!1));if(n.Bc()&&!d&&!g&&t){k=new Set;for(var v of n.Gh.qm)v!==n&&((t=CF(a,v,q,k))?(t=mq(a,t,p,!1,q?q.Ga():e,q?q.Ha():f,!0,!1,void 0,l),r.md.push(t)):(t=mq(a,v,p,!1,q?q.Ga():e,q?q.Ha():f,!0,!1,void 0,l),r.md.push(t)));for(var w of r.md){w.md.push(r);for(const A of r.md)w!==A&&w.md.push(A)}}b&&!d&&h&&DF(a,r,u,q,c,e,f,l);if(n.Bc()&&!d&&!g&&h)for(const A of r.md)if(d=A.C())v=A.Ua(),w=A.I().Jr[0],v.Yd?DF(a,A,w,d,c,d.Ga(),d.Ha(),l):DF(a,A,w,d,c,void 0,
void 0,l);!g&&h&&("undefined"===typeof e&&(e=u[0]),"undefined"===typeof f&&(f=u[1]),c=q.Ko(),e=e-q.Ga()+c.Ga(),f=f-q.Ha()+c.Ha(),c.sk(e,f));n.Zr=!0;f=m?X.xo(m[5]):null;m=m?m[4].map(A=>X.xo(A)):null;b&&u&&u[13]&&(r.F|=2);r.wC(f,m);a.wp.push(r);a.ND=!0;a.Fb&&yF.f9(r);return r}function O(a){return a.En.length?a.En.at(-1):a.Wb()}function Xp(a){return a.Fb&&a.za().yh()&&Xp(yF)}function Vq(a,b){return a.uL.get(b)||null}
function Wq(a){a.es.clear();for(const b of a.nd)if(!b.Oa)for(const c of b.qa())a.es.set(c.zc,c)}function EF(a,b){return"low"===a.U.Bi||b.ej()&&(a.Ws||a.ql)}function us(a,b){if(a.Di)throw Error("cannot call while loading state - wait until afterload event");return a.es.get(b)||null}function Kv(a){if(!a.En.length)throw Error("layout stack empty");a.En.pop()}function Mv(a,b){return a.pf?Mv(yF,b):Promise.resolve()}function Qv(a){return a.Fb?Qv(yF):!1}function Ew(a){return a.Fb&&Ew(yF)}
function Sw(a){return a.pf?yF.T5():!1}function qx(a,b){b=Math.floor(b);a=a.NE;if(0>b||b>=a.length)throw Error("invalid object reference");return a[b]}function*dA(a,b){for(const c of a.wp)b.Oa?NA(c.I(),b)&&(yield c):c.I()===b&&(yield c)}function dB(a){a.bz=new WeakMap;X.H(a.az)}function eB(a,b="full",c=null){a.az.sort(a.X_);for(const d of a.az)d.Ah(a.bz.get(d),b,c);for(const d of a.az)d.nI(a.bz.get(d),b,c);dB(a)}function cq(a){return a.KD.T()}
function iD(a,b,c){c?a.Uu.has(b)||(c=X.A(X.ix),c.rw(a.KD),a.Uu.set(b,c)):a.Uu.delete(b)}function xF(a,b,c){if(a.zg!==b||a.zf!==c)a.zg=b,a.zf=c,a=a.jb,tr(a),ur(a)}async function VE(a){await Mq(a.Wb(),null,a.za());a.Sb.dispatchEvent(X.A(X.Event,"renderercontextrestored"));FF(a,!1);a.ba()}
async function lF(a,b){var c=c||2048;var d=d||2048;return a.yd()?(await Vl(a,"runtime","raster-svg-image",{blob:b,imageWidth:2048,imageHeight:2048,surfaceWidth:c,surfaceHeight:d,imageBitmapOpts:void 0})).imageBitmap:await self.C3_RasterSvgImageBlob(b,2048,2048,c,d)}function wF(a){return"cordova"===a.Lf}
async function GF(a){const b=X.A(X.mx);var c=[];const d=new Map;for(const e of a.fd)for(const f of e.Xd){const g=f.Hd().sd;d.has(g)||(d.set(g,null),c.push(b.Gb(async()=>{const h=await Eo(g);d.set(g,h)})))}await Promise.all(c);c=[];for(const e of a.fd)for(const f of e.Xd)c.push(b.Gb(async()=>{var g=f.Hd();const h=d.get(g.sd);g=await iC(g,h);return{E3:await createImageBitmap(g)}}));a=await Promise.all(c);for(const e of d.values())e instanceof ImageBitmap&&e.close&&e.close();return{eN:a}}
async function HF(a,b){return await a.uG("OpusDecode",{arrayBuffer:b},[b])}
function IF(a,b){if(a.lS){var c=b.component,d=b.handler,e=b.data,f=b.dispatchOpts,g=!(!f||!f.dispatchRuntimeEvent);f=!(!f||!f.dispatchUserScriptEvent);var h=b.responseId;if("runtime"===c&&(g&&(b=new X.Event(d),b.data=e,ye(a.Sb,b)),f)){b=new X.Event(d,!0);for(const [k,l]of Object.entries(e))b[k]=l;a.Fg(b)}if(b=a.sJ.get(c))if(b=b.get(d)){g=null;try{g=b(e)}catch(k){console.error(`Exception in '${c}' handler '${d}':`,k);null!==h&&JF(a,h,!1,""+k);return}null!==h&&(g&&g.then?g.then(k=>JF(a,h,!0,k)).catch(k=>
{console.error(`Rejection from '${c}' handler '${d}':`,k);JF(a,h,!1,""+k)}):JF(a,h,!0,g))}else g||f||console.warn(`[Runtime] No DOM handler '${d}' for component '${c}'`);else g||f||console.warn(`[Runtime] No DOM event handlers for component '${c}'`)}else a.CM.push(b)}function JF(a,b,c,d){a.yz.postMessage({type:"result",responseId:b,isOk:c,result:d})}
async function KF(a){const b=a.od;if(!b.T2["audio/webm; codecs=opus"]){var c=null,d=b.P2,e=d+"opus.wasm.js";d+="opus.wasm.wasm";try{c=a.nS&&b.yp?await qo(b,d,"buffer"):await b.yw(d)}catch(f){console.info("Failed to fetch Opus decoder WASM; assuming project has no Opus audio.",f);return}a.sE.Zy.postMessage({type:"_send_buffer",buffer:c,id:"opus-decoder-wasm"},[c]);await LF(a,[e])}}
async function MF(a,b){b=b.project;a.YE=b[0];a.eT=b[16];a.JL=b[31];var c=b[39]||"loading-logo.png";a.Qn=!!b[9];a.Ji=a.zg=b[10];a.Ii=a.zf=b[11];JE(a.Bn,a.Ji,a.Ii);a.RE=a.Ji/2;a.SE=a.Ii/2;a.Lu=b[37];a.ql=!!b[40];a.Yb=b[14];a.Ws=b[15];a.RT=b[42];a.xM=b[17];a.LF=!!b[18];a.kv=b[19];a.Dz=b[21];a.cT=b[22];const d=a.od;d.np=b[45];wo(d,b[7]);d.XR=b[28];lo.wd(d.EM,b[29]);d.EM.length&&d.DE.push(uo(d));if(0===a.kv){let k="";if(k="flat"===d.np?d.XR+c:c)a.ns=d.ZB({url:k})}a.U&&(cF(a.U,eF(b[12])),dF(a.U,b[23]?"high":
"low"),a.U.PH(0!==b[24]),a.U.SJ=b[34],a.U.GT=b[41],a.U.mS=!!b[13],a.U.Xs=b[30],TE(a.U,b[46],b[47]),a.U.aS=b[26],a.U.jS=!!b[48]);(c=b[43])&&await NF(a,c);OF(a);aC(a.Zo);a.NE=self.fO();c=b[2];for(var e of c[1])bC(a.Zo,e);for(const k of c[0])$B(a.Zo,k);a.NE=self.fO();PF(a);cC(a.Zo);for(var f of b[3])e=X.kx.Da(a,a.nd.length,f),a.nd.push(e),a.Ez.set(e.ea().toLowerCase(),e),a.uL.set(e.lb,e);for(const k of b[4])AC(a.nd[k[0]],k);for(var g of b[27])f=g.map(k=>a.nd[k]),a.f1.push(X.A(X.vW,a,f));QF(a);for(const k of a.nd)BC(k);
for(const k of b[5])a.jb.Da(k);if(g=b[1])if(g=rr(a.jb,g))a.jb.yD=g;for(var h of b[35])a.oM.Da(h);for(const k of b[33])a.Ub.Da(k);for(const k of b[44])a.Oi.Da(k);Ku(a.Oi)||(a.Oi.m(),a.Oi=null);for(const k of b[49])a.Dd.Da(k);a.Dd.$G()||(a.Dd.m(),a.Dd=null);for(const k of b[6])a.Na.Da(k);a.Na.ic();RF(a);X.H(a.NE);jm(a);h="any";b=b[20];1===b?h="portrait":2===b&&(h="landscape");ne(a,"runtime","set-target-orientation",{targetOrientation:h})}async function SF(a,b){a.U&&(await a.U.mh(b),nF(a.U,a.kv))}
async function TF(a,b){try{await b(a.Xg)}catch(c){console.error("[C3 runtime] Error in runOnStartup function: ",c)}}async function NF(a,b){const c=b.format;"image-sequence"===c?a.Ld=new self.W5(a,b):"image-sequence-gif"===c?a.Ld=new self.V5(a,b):"webm"===c?a.Ld=new self.Y5(a,b):"mp4"===c&&(a.Ld=new self.X5(a,b));a.Lu="unlimited-frame";cF(a.U,"off");a.am=1;self.devicePixelRatio=1;await Vl(a,"runtime","set-exporting-to-video",{message:a.Ld.j8(0),duration:a.Ld.Dy})}
function OF(a){a.Xg=new self.MX(a);a.PT={tick:UF(a,"tick")}}function PF(a){for(const b of self.dW){const c=X.first(Object.keys(b));a.pS.push(c)}}function QF(a){const b={};for(const c of a.nd)b[c.ck()]={value:c.xt(),enumerable:!0,writable:!1};Object.defineProperties(a.Xg.z4,b)}function RF(a){const b={};for(const c of a.pa().GI)b[c.ck()]=Hv(c);Object.defineProperties(a.Xg.U3,b)}function VF(a,b){a.IC.push(b)}
async function LF(a,b){b=await Promise.all(b.map(async c=>wF(a)&&a.od.yp||"playable-ad-single-file"===a.Lf?(c=await a.od.Pm(c),URL.createObjectURL(c)):(new URL(c,location.href)).toString()));a.sE.Zy.postMessage({type:"_import_scripts",scripts:b})}function WF(a){a.ua(X.j.Ma.D.IZ,null,null);ne(a,"runtime","register-sw")}function*XF(a){for(const b of a.nd)b.Oa||(yield*b.KA())}function YF(a){-1!==a.uf&&(self.cancelAnimationFrame(a.uf),a.uf=-1);-1!==a.wm&&(X.fW(a.wm),a.wm=-1)}
function ZF(a){const b=a.X2;"vsync"===a.Lu?-1===a.uf&&(a.uf=self.requestAnimationFrame(b.SU)):"unlimited-tick"===a.Lu?(-1===a.wm&&(a.wm=X.FH(b.U4)),-1===a.uf&&(a.uf=self.requestAnimationFrame(b.L4))):-1===a.wm&&(a.wm=X.FH(b.SU))}function CF(a,b,c,d){c=c?.WG()??[];for(const e of c){c=a.Gx(e);const f=!!e[4],g=lp(a,c[1]);if(!d.has(c)&&b===g&&f)return d.add(c),c}}
function DF(a,b,c,d,e,f,g,h){var k=(k=ND.get(d))?k.YN:NaN;var l=d.WG();d=b.C();OD.set(d,k);if(l){"undefined"===typeof f&&(f=c[0]);"undefined"===typeof g&&(g=c[1]);k=new Set;d=c[0];c=c[1];for(const r of l){var m=r[0],n=r[1],p=r[2];l=r[3];var q=!!r[4];const t=r[5];var u=r[6];n=u?u:np((a.jb.gv.get(m)||null).aa(n),p);m=lp(a,n[1]);p=!!fD(b,m);u=k.has(m);p&&!u&&q?(q=fD(b,m),q.C().Lo(n[0]),p=f+n[0][0]-d,n=g+n[0][1]-c,q.C().sk(p,n),n=q.C(),OD.set(n,t),b.Xj(q,{ht:!!(l>>0&1),it:!!(l>>1&1),xq:!!(l>>2&1),wq:!!(l>>
3&1),et:!!(l>>4&1),dw:!!(l>>5&1),jt:!!(l>>6&1),ft:!!(l>>7&1),gt:!!(l>>8&1)}),k.add(m)):(m=mq(a,n,e,!1,f+n[0][0]-d,g+n[0][1]-c,!1,!0,b,h),q=m.C(),OD.set(q,t),b.Xj(m,{ht:!!(l>>0&1),it:!!(l>>1&1),xq:!!(l>>2&1),wq:!!(l>>3&1),et:!!(l>>4&1),dw:!!(l>>5&1),jt:!!(l>>6&1),ft:!!(l>>7&1),gt:!!(l>>8&1)}))}}}
function BF(a,b,c){for(const e of c){var d=a.Pr.instancedestroy;d.instance=e;a.Sb.dispatchEvent(d);a.es.delete(e.zc);a.Uu.delete(e);if(d=e.C())mE(d),jq(d),d.mI();a.gs.add(e);a.vL--}X.Yh(b.qa(),c);b.Zr=!0;a.$D.add(b);for(const e of b.yi)X.Yh(e.qa(),c),e.Zr=!0,a.$D.add(e);if(b.Ua().Yd){a=new Set([...c].map(e=>e.C().aa()));for(const e of a)0!==c.size&&0<M.Yh(e.L,c)&&(0===e.L.length&&(e.qn=!1),op(e))}}
function FF(a,b){if(null===a.Ld){var c=a.Oo();a.Kv+=b?1:-1;0>a.Kv&&(a.Kv=0);b=a.Oo();!c&&b?(console.log("[Construct] Suspending"),YF(a),a.Sb.dispatchEvent(X.A(X.Event,"suspend")),a.ua(X.j.Ma.D.UZ,null,null)):c&&!b&&(console.log("[Construct] Resuming"),c=performance.now(),a.AE=c,a.Tr=c,a.DD=0,a.Iu=0,a.DF=0,a.nM=0,a.GE=0,a.Tn=0,a.Sb.dispatchEvent(X.A(X.Event,"resume")),a.ua(X.j.Ma.D.QZ,null,null),Qv(a)||a.Qg(c))}}
function*$F(a){const b=globalThis.fH;$e(a.Wl,!0);for(const c of a.Wl){let d;d=c instanceof b?c.kA():c.Qg();X.bn(d)&&(yield*d)}$e(a.Wl,!1)}function*aG(a){$e(a.vn,!0);for(const b of a.vn)X.bn()&&(yield*void 0);$e(a.vn,!1)}function*bG(a){$e(a.wn,!0);for(const b of a.wn)X.bn()&&(yield*void 0);$e(a.wn,!1)}function cG(a){if(0!==a.gs.size){var b=a.Sb;b.Nt(!0);for(var c of a.$D)c.gl.$q(a.gs);a.$D.clear();c=a.Na;var d=a.gs;for(const e of c.Th)e.$q(d);for(const e of a.gs)e.m();a.gs.clear();b.Nt(!1)}}
async function dG(a){const b=a.Na,c=a.Fb;jm(a);gm(b,!0);a.En.push(a.Wb());c&&yF.St();if(a.pf)await $v(b);else if(b.Th.length){var d=b.Jg(),e=!1;b.eo++;for(let g=0,h=b.Th.length;g<h;++g){const k=b.Th[g];if(aw(k)){lB(k,d);var f=k.Gk;f.yk(d,d.jf)&&zw(f);k.xn&&k.xn.ii()&&jx(k.xn,k.Vx);Sv(k.Se);k.Wz=!0}k.Wz&&(e=!0)}e&&(Zv(b),d.Dc(null));b.eo--}c&&yF.FV();Kv(a);gm(b,!1);jm(a);gm(b,!0)}
async function eG(a){const b=a.Fb,c=a.pf,d=a.Sb,e=a.Pr,f=a.PT;b&&yF.St();if(c)await fG(a,$F(a));else{const g=globalThis.fH;$e(a.Wl,!0);for(const h of a.Wl)h instanceof g?h.kA():h.Qg();$e(a.Wl,!1)}if(c)await fG(a,aG(a));else{$e(a.vn,!0);for(const g of a.vn);$e(a.vn,!1)}b&&yF.CV();b&&yF.St();c?await fG(a,ze(a.Sb,e.tick)):d.dispatchEvent(e.tick);b&&yF.GV();gm(a.Na,!1);a.Fg(f.tick)}
async function gG(a){a.Sz&&(jm(a),await hG(a,a.Sz),iG(a));a.uz&&(await jG(a,a.uz),iG(a),a.Fb&&yF.rea());if(null!==a.pm){jm(a);try{await kG(a,a.pm),a.ms=a.pm,await a.nb(X.j.Ma.D.AP,null),a.ms=""}catch(b){console.error("[Construct] Failed to load state from JSON string: ",b),await a.nb(X.j.Ma.D.BP,null)}iG(a)}}async function lG(a){const b=a.jb;let c=0;for(;b.Ki&&10>c++;)await mG(a,b.Ki)}
async function nG(a){const b=a.Na,c=a.Sb,d=a.Pr,e=a.Fb,f=a.pf;e&&yF.St();if(f)await Lv(b,a.jb);else{var g=a.jb;for(const h of b.Zt)h.Ou=!1;b.eo++;for(const h of sr(g))if(g=h.rd)b.g.En.push(h),g.Aa(),Kv(b.g);b.eo--}e&&yF.FV();xE.H(a.Bn.Oz);cG(a);a.BK=!1;gm(b,!0);e&&yF.St();if(f)await fG(a,bG(a));else{$e(a.wn,!0);for(const h of a.wn);$e(a.wn,!1)}e&&yF.CV();e&&yF.St();f?await fG(a,ze(a.Sb,d.tick2)):c.dispatchEvent(d.tick2);e&&yF.GV();gm(b,!1);f&&await Rv(b)}
async function fG(a,b){if(b)for(const c of b)await Mv(a,c)}async function mG(a,b){const c=a.Sb,d=a.jb.Wb();await kr(d);if(b!==d&&a.za())for(const e of d.Pi)e.Cf()||b.bs.has(e)||(e.Zq(),d.Pi.delete(e));d===b&&mr(a.Na);xE.H(a.Bn.Oz);cG(a);c.dispatchEvent(a.Pr.beforelayoutchange);X.qw.bQ(!0);await Mq(b,d,a.za());X.qw.bQ(!1);await br(b,!1);c.dispatchEvent(a.Pr.layoutchange);a.ba();a.BK=!0;jm(a);a.Ld&&Fs(a.Ld.fc.dk())}
function oG(a,b){if(!a.WR.has(b)){var c=()=>{$f(a.lo,b)};a.WR.set(b,c);b.cb().addEventListener("animationframeimagechange",c)}c=Zf(a.lo,b);c.ZJ||dg(c).then(()=>a.ba());return c}async function hG(a,b){const c=await pG(a);try{await qG(a).setItem(b,c),console.log("[Construct] Saved state to storage ("+c.length+" chars)"),a.ms=c,await a.nb(X.j.Ma.D.RZ,null),a.ms=""}catch(d){console.error("[Construct] Failed to save state to storage: ",d),await a.nb(X.j.Ma.D.SZ,null)}}
function iG(a){a.Sz="";a.uz="";a.pm=null}async function jG(a,b){try{const c=await qG(a).getItem(b);if(!c)throw Error("empty slot");console.log("[Construct] Loaded state from storage ("+c.length+" chars)");await kG(a,c);a.ms=c;await a.nb(X.j.Ma.D.AP,null);a.ms=""}catch(c){console.error("[Construct] Failed to load state from storage: ",c),await a.nb(X.j.Ma.D.BP,null)}}
async function kG(a,b){var c=a.jb;b=JSON.parse(b);if(b.c2save)throw Error("C2 saves are incompatible with C3 runtime");if(!b.c3save)throw Error("not valid C3 save data");if(1<b.version)throw Error("C3 save data from future version");dB(a);a.Sb.dispatchEvent(X.A(X.Event,"beforeload"));for(var d of XF(a))xC(d.I(),my.eb.sH)||d.Wt();d=b.rt;a.KD.Set(d.time);d.hasOwnProperty("timeRaw")&&a.QJ.Set(d.timeRaw);a.CA.Set(d.walltime);a.Ue=d.timescale;a.Qi=d.tickcount;a.xF=Date.now()-d.start_time_offset;var e=
d.running_layout;a.Di=!0;let f=!1;if(e!==a.Wb().lb)if(e=c.gv.get(e)||null)await mG(a,e),f=!0;else return;for(const [l,m]of Object.entries(b.layouts))(e=c.gv.get(parseInt(l,10))||null)&&e.ra(m);e=new Set;for(const [l,m]of Object.entries(b.types)){const n=Vq(a,parseInt(l,10));!n||n.Oa||xC(n,my.eb.sH)||n.ra(m,e)}for(var g of a.jb.kj)for(const l of g.aw())pp(l,!1),op(l),fp(l),l.nE=!0,l.lz=!0,l.mz=!0;jm(a);Wq(a);a.Di=!1;if(f){for(const l of XF(a))er(l);for(var [h]of Object.entries(b.types))g=Vq(a,parseInt(h,
10)),!g||g.Oa||xC(g,my.eb.sH)||g.Ox()}a.Dz=d.next_uid;a.Na.ra(b.events);for(const l of a.nd)if(!l.Oa&&l.Bc())for(const m of l.qa()){h=Yq(m);for(const n of l.Gh.qm)if(n!==l){g=n.qa();if(0>h||h>=g.length)throw Error("missing sibling instance");m.md.push(g[h])}}a.Ub.ra(b.timelines);tr(c);ur(c);for(const l of e)XC(l);eB(a);a.Sb.dispatchEvent(X.A(X.Event,"afterload"));a.Fg(UF(a,"afterload"));for(var [k]of Object.entries(b.types))if(c=Vq(a,parseInt(k,10)))c.CE=null;k=UF(a,"load");k.saveData=b.user_script_data;
await a.yl(k);a.ba()}function qG(a){a.RL||(a.RL=localforage.SM({name:"c3-savegames-"+a.JL,description:a.YE}));return a.RL}
async function pG(a){const b={c3save:!0,version:1,rt:{time:cq(a),timeRaw:a.QJ.T(),walltime:a.CA.T(),timescale:a.Ue,tickcount:a.Qi,next_uid:a.Dz,running_layout:a.Wb().lb,start_time_offset:Date.now()-a.xF},types:{},layouts:{},events:a.Na.na(),timelines:a.Ub.na(),user_script_data:null};for(var c of a.nd)c.Oa||xC(c,my.eb.sH)||(b.types[c.lb.toString()]=c.na());for(const d of a.jb.kj)b.layouts[d.lb.toString()]=d.na();c=UF(a,"save");c.saveData=null;await a.yl(c);b.user_script_data=c.saveData;return JSON.stringify(b)}
function UF(a,b){b=X.A(X.Event,b,!1);b.Qd=a.Xg;return b}
X.WP=class extends X.ta{constructor(a){a=Object.assign({},zF,a);super();this.yz=a.messagePort;this.pT=a.runtimeBaseUrl;this.n2=!!a.isInWorker;AF=a.ife;this.Lf=a.exportType;this.nS=!!a.isiOSCordova;this.i2=!!a.isFBInstantAvailable;this.pf=this.t1=this.Fb=!("preview"!==this.Lf||!a.isDebug);this.mJ=0;this.IC=[];this.d1=[];this.JL=this.eT=this.YE="";this.Ii=this.Ji=0;this.am=self.devicePixelRatio;this.kv=this.zf=this.zg=this.SE=this.RE=0;this.LF=!1;this.Mh=!0;this.xM=this.RT=this.Ws=!1;this.ns=null;this.od=
X.A(X.QV,this,a);this.jb=X.A(X.EY,this);this.Na=X.A(X.JW,this);this.Zo=X.A(X.zb,this,a.wrapperComponentIds);this.Bn=X.A(X.kW,this);this.Ub=X.A(X.l0,this);this.oM=X.A(X.o0,this);this.Oi=X.A(X.c0,this);this.Dd=X.A(X.RW,this);this.lo=X.A(X.e0,{R3:c=>{const d=[];for(const e of c.fd)for(const f of e.Xd)c=f.Hd(),d.push({source:f,width:c.M(),height:c.K(),tag:f.$d});return{eN:d}},Q3:c=>GF(c)});this.WR=new Map;this.nd=[];this.Ez=new Map;this.uL=new Map;this.xR=0;this.f1=[];this.FI=new Set;this.En=[];this.wp=
[];this.ZD=new Map;this.ND=!1;this.Dz=this.vL=0;this.es=new Map;this.gs=new Set;this.$D=new Set;this.NE=[];this.pS=[];this.U=null;this.ql=!1;this.Lu="vsync";this.Yb="trilinear";this.Qn=!1;this.pL=!0;this.FK=this.cT=!1;this.Ld=null;this.X2={SU:c=>{this.wm=this.uf=-1;this.Qg(c)},U4:c=>{this.wm=-1;this.Qg(c,!1,"skip-render")},L4:()=>{this.uf=-1;this.br()}};this.wm=this.uf=-1;this.Qi=0;this.SR=this.kE=this.OD=!1;this.BK=!0;this.Kv=0;this.Wp=()=>Math.random();this.Cy=this.Nr=this.AE=this.xF=0;this.Ue=
1;this.eL=1/30;this.iL=0;this.KD=X.A(X.ix);this.QJ=X.A(X.ix);this.CA=X.A(X.ix);this.Uu=new Map;this.DD=-1;this.Iu=this.Tr=0;this.DF=-1;this.GE=this.Tn=this.nM=0;this.Di=!1;this.uz=this.Sz="";this.pm=null;this.ms="";this.RL=this.IL=null;this.Sb=X.A(X.Event.cb);this.sJ=new Map;this.Jz=new Map;this.C2=0;this.lS=!1;this.CM=[];this.Pr={pretick:X.A(X.Event,"pretick",!1),tick:X.A(X.Event,"tick",!1),tick2:X.A(X.Event,"tick2",!1),instancedestroy:X.A(X.Event,"instancedestroy",!1),beforelayoutchange:X.A(X.Event,
"beforelayoutchange",!1),layoutchange:X.A(X.Event,"layoutchange",!1)};this.Pr.instancedestroy.instance=null;this.xf=X.A(X.Event.cb);this.PT=null;const b=(c,d)=>{{var e=globalThis.fH;c=c instanceof e?this.Ok.get(c):c.ay;d=d instanceof e?this.Ok.get(d):d.ay;var f=c.ia;e=d.ia;const g=f.I().Fa(),h=e.I().Fa();g!==h?c=g-h:(f=f.fT,e=e.fT,c=f!==e?f-e:c.lg()-d.lg())}return c};this.Wl=X.A(X.Xq,b);this.vn=X.A(X.Xq,b);this.wn=X.A(X.Xq,b);this.sE=X.A(X.xY,this,a.jobScheduler);a.canvas&&(this.U=X.A(X.gW,this));
this.yz.onmessage=c=>this._OnMessageFromDOM(c.data);Gn(this,"runtime","visibilitychange",c=>{c=c.hidden;FF(this,c);c||this.ba()});Gn(this,"runtime","wrapper-extension-message",c=>{if(-1!==c.asyncId){const d=c.asyncId;this.Jz.get(d).resolve(c.params);this.Jz.delete(d)}else IF(this,{component:"wrapper-extension:"+c.componentId,handler:c.messageId,data:c.params,responseId:null})});Gn(this,"runtime","opus-decode",c=>HF(this,c.arrayBuffer));Gn(this,"runtime","get-remote-preview-status-info",()=>{const c=
this.za();return{fps:this.Iu,tps:this.nM,cpu:this.GE,gpu:this.HB(),layout:this.Wb()?this.Wb().ea():"",renderer:c.ej()?c.vA:kk(c)}});Gn(this,"runtime","js-invoke-function",c=>this.BC(c));Gn(this,"runtime","go-to-last-error-script",self.goToLastErrorScript);Gn(this,"runtime","offline-audio-render-completed",c=>{this.Ld.baa(c)});this.Sb.addEventListener("window-blur",c=>{this.gx()&&this.cT&&!X.W.Qq&&!c.data.parentHasFocus&&(FF(this,!0),this.FK=!0)});this.Sb.addEventListener("window-focus",()=>{this.FK&&
(FF(this,!1),this.FK=!1)});this.Ub.vG();this.Oi.vG();this.Xg=null;this.Ok=new WeakMap;this.qu={keyboard:null,PU:null,mV:null,kV:null,TU:null};this.bz=new WeakMap;this.az=[]}static Da(a){return X.A(X.WP,a)}m(){X.H(this.nd);this.Ez.clear();this.uL.clear();this.jb.m();this.jb=null;this.Na.m();this.Na=null;this.Zo.m();this.Zo=null;this.od.m();this.od=null;this.Bn.m();this.Bn=null;this.Ub.m();this.Ub=null;this.oM.m();this.oM=null;this.Oi.m();this.Oi=null;this.Dd.m();this.Dd=null;this.lo.m();this.lo=null;
this.U&&(this.U.m(),this.U=null);this.Sb.m();this.Sb=null}_OnMessageFromDOM(a){var b=a.type;if("event"===b)IF(this,a);else if("result"===b){b=a.responseId;const c=a.isOk;a=a.result;const d=this.Jz.get(b);c?d.resolve(a):d.reject(a);this.Jz.delete(b)}else throw Error(`unknown message '${b}'`);}async Lo(a){X.mW(this);this.Fb?await yF.Lo(this):self.$h&&self.$h.b9(this);var [b]=await Promise.all([this.od.vO("data.json"),KF(this),this.sE.Lo()]);await MF(this,b);await SF(this,a);this.gx()||console.info("%cMade with Construct, the game and animation creation tool. Visit: https://www.construct.net",
"font-weight: bold");this.Ww()?(b=this.Ww(),console.info(`[C3 runtime] Hosted in ${this.yd()?"worker":"DOM"}, rendering with WebGL ${b.bd} [${b.vA}]`)):this.Lq()&&console.info(`[C3 runtime] Hosted in ${this.yd()?"worker":"DOM"}, rendering with WebGPU [${kk(this.Lq())}]`);this.za().XJ&&console.warn("[C3 runtime] The renderer indicates a major performance caveat. Software rendering may be in use. This can result in significantly degraded performance.");this.lS=!0;for(const c of this.CM)IF(this,c);X.H(this.CM);
this.U&&uF(this.U);for(const c of a.runOnStartupFunctions)this.IC.push(TF(this,c));await Promise.all([to(this.od),...this.IC]);X.H(this.IC);if(this.od.WJ)this.U&&oF(this.U);else return this.U&&await vF(this.U),await xe(this.Sb,new X.Event("beforeruntimestart")),await this.Rt(),this.yz.postMessage({type:"runtime-ready"}),this}async Rt(){this.OD=!0;this.xF=Date.now();let a=null;const b=new Promise(d=>a=d);if(this.LF){for(var c of this.nd)c.Oa||c.EK||!c.Yd||c.nc();(async()=>{await to(this.od);await b;
this.Mh=!1;WF(this)})()}else this.Mh=!1;this.od.OR=!0;this.Fb&&yF.vca(AF);for(const d of this.jb.kj)ir(d);null!==this.Ld&&await this.Ld.Lo({width:this.U.Ug,height:this.U.Tg});c=qr(this.jb);await Mq(c,null,this.za());await br(c,!0);this.Tr=performance.now();a();this.LF||WF(this);(await Vl(this,"runtime","before-start-ticking")).isSuspended&&null===this.Ld?this.Kv++:this.Qg()}ck(a){a=Math.floor(a);const b=this.pS;if(0>a||a>=b.length)throw Error("invalid prop reference");return b[a]}yd(){return this.n2}pa(){return this.Na}Ac(){return this.Na.Ac()}Jg(){return this.Na.Jg()}Ob(){return this.Na.Ob()}Ig(){return this.Na.Ig()}Ew(){return this.Na.Ew()}Rw(){return this.Zo.Rw()}cb(){return this.Sb}Fg(a){a.Qd=
this.Xg;const b=this.Fb&&!im(this.Na);b&&yF.VH();this.xf.dispatchEvent(a);b&&yF.wG()}yl(a){a.Qd=this.Xg;return xe(this.xf,a)}Rm(){return this.am}El(){return this.U?this.U.El():this.zg}Dl(){return this.U?this.U.Dl():this.zf}At(){return this.U?this.U.At():1}Yi(){return this.U?this.U.Yi():1}Hw(){return this.U?this.U.Hw():1}Gw(){return this.U?this.U.Gw():1}zB(){return this.U?this.U.zB():0}AB(){return this.U?this.U.AB():0}Kw(){return this.U?this.U.Kw():"off"}Cw(a){return this.U?this.U.Cw(a):null}Yq(a){this.U&&
this.U.Yq(a)}HB(){return this.U?this.U.HB():NaN}Pq(){return"nearest"!==this.Yb}Wb(){return this.jb.Wb()}ZB(a){return this.od.ZB(a)}Gx(a){const b=a[1],c=a[2],d=a[6];return d?d:np((this.jb.gv.get(a[0])||null).aa(b),c)}DC(){this.Sb.dispatchEvent(X.A(X.Event,"renderercontextlost"));FF(this,!0);for(var a of this.nd)!a.Oa&&0<a.Ov&&a.Zq();(a=this.Wb())&&a.DC();X.UB.Kt();X.gH.Kt()}Oo(){return 0<this.Kv}async Qg(a,b,c){this.SR=!0;const d="background-wake"===c;c="background-wake"!==c&&"skip-render"!==c;var e=
this.jb,f=this.U;if(this.OD&&(!this.Oo()||b||d)){b=performance.now();this.kE=!0;a=a||0;var g=0;null!==this.Ld?this.Nr=g=1/this.Ld.nX():0!==this.AE&&(g=Math.max(a-this.AE,0)/1E3,.5<g&&(g=0),this.Nr=X.X(g,this.iL,this.eL));this.AE=a;this.Cy=this.Nr*this.Ue;this.KD.Gb(this.Cy);this.QJ.Gb(g*this.Ue);this.CA.Gb(this.Nr);for(const [k,l]of this.Uu)l.Gb(this.Nr*k.Ue);this.U&&(g=this.U,g.Ye&&g.Ye.yh()&&hF(g),g.Wh&&g.Wh.yh()&&iF(g));if(1E3<=a-this.Tr){this.Tr+=1E3;1E3<=a-this.Tr&&(this.Tr=a);this.Iu=this.DD;
this.DD=0;this.nM=this.DF;this.DF=0;this.GE=Math.min(this.Tn/1E3,1);this.Tn=0;if(this.U&&(a=this.U,g=a.za(),g.yh()&&0===a.Hh)){a.Hh=g.Mf;a.Py=NaN;for(var h of gF(a))h.YF=NaN}this.Fb&&yF.yfa()}this.DF++;cG(this);h=dG(this);this.pf&&await h;h=this.Pr.pretick;h=(a=we(this.Sb,h.type,!1))?re(a,h):!0;h instanceof Promise&&await h;h=eG(this);this.pf&&await h;(this.Sz||this.uz||null!==this.pm)&&await gG(this);e.Ki&&await lG(this);h=nG(this);this.pf&&await h;h=e.Wb();a=h.DL;e=!1;-1!==a&&(h.DL=-1,f.Lw()!==
a&&(f=dr(this.U,a),this.yd()&&(e=!0,await f)));c&&this.br();e&&ne(this,"canvas","cleanup-html-layers");if(null!==this.Ld&&(c=this.Qi/this.Ld.nX(),await this.Ld.m5(this.U.mg[0].canvas,c),cq(this)>=this.Ld.Dy)){this.Ld.Fo();return}this.Oo()||d||ZF(this);this.Qi++;this.kE=!1;this.Tn+=performance.now()-b}}ba(){this.pL=!0}Ww(){return this.U?this.U.Ww():null}Lq(){return this.U?this.U.Lq():null}za(){return this.U?this.U.za():null}br(){const a=this.U;if(a&&!a.za().hk()){var b=this.za(),c=b.yh(),d=c&&b.ej();
c=c&&b.Ud();if(d)for(var e of b.JC){var f=e,g=b.Mf;for(var h of f.Rb){if(h.Mf>=g)break;if(h.zp)break;h.EG()}}if(this.pL||null!==this.Ld){h=this.jb.Wb();this.DD++;b.Rt();(e=this.Fb)&&yF.St();this.pL=!1;f=null;d&&(d=f=Vi(a.LD),b.yh()&&(g=nj(b),g.oa=18,g.Xf=d,b.kc=0));d=null;if(c){d=2*(1+h.Qc.length);if(!b.yh())throw Error("GPU profiling not supported");if(b.Lk)throw Error("already started frame timing");b.nA=!1;b.mM.clear();b.Lk=J.A(J.R.E0,b,d);d=b.Lk;Vj(b,0,1)}this.ql&&"low"===a.Bi?b.aQ(a.El(),a.Dl()):
b.ZP();g=this.za();Vg(g);g.vx();g.Ff(1,1,1,1);g.he(null);g.ie(null);g.hf(this.ql);EF(this,g)&&or(h,g);var k=h.Lw();for(var l=1;l<k;++l){var m=h,n=g,p=l,q=null;EF(m.g,n)&&(q=m.lf);n.he(q);n.ai(0,0,0,0);m.g.ql&&n.FG();var u=Qp(m,p);qq(n,q,u,!0);q=m;u=n;EF(q.g,u)&&(u.hf(!1),u.he(null),Vg(u),u.mB(q.lf));n.ne();m=m.g.U;p>=m.mg.length||(n=m.mg[0].canvas,p=m.mg[p].sU,SE(m)?p.transferFromImageBitmap(n.transferToImageBitmap()):(p.globalCompositeOperation="copy",p.drawImage(n,0,0)));g.Ud()&&Qj(g)}EF(this,g)||
or(h,g);g.he(h.lf);g.fe(Lq(h));h.g.ql&&g.FG();k=Qp(h,0);qq(g,h.lf,k,!0);g.Ud()&&Vj(g,0,1);h.Tt()&&(g.hf(!1),k=h.lf,l=h.g,0===h.Sa.Bh.length?(g.he(null),Vg(g),g.mB(k),g.Nq(k),l.Yq(k)):(tq.set(0,0,l.zg,l.zf),h.Kg().br(g,null,{RM:h,Lm:3,devicePixelRatio:h.g.Gw(),PA:h.g.Hw()*h.vf,OA:h.fb(),$s:tq,bG:null,fN:!0})));h.lf=null;f&&sj(b,f);c&&(b.nA&&(Uj(b),b.nA=!1),c=this.U,c.SF.set(c.Wh.Mf,d));b.Fo();e&&(yF.l5(),yF.Afa());a&&jF(a)}else b.Mf++}}ua(a,b,c){if(!this.OD)return!1;var d=!this.kE&&!(0<this.Na.Ne);
let e=0;d&&(e=performance.now());const f=this.Fb;f&&bo(this,!1);a=this.Na.Px(this.jb,a,b,c);d&&(d=performance.now()-e,this.Tn+=d,f&&yF.r5(d));f&&bo(this,!0);return a}async nb(a,b,c){if(!this.pf)return this.ua(a,b,c);if(!this.OD)return!1;if(Qv(this))return Ov(this.Na,a,b,c);if(!this.Wb())return Nv(this.Na,a,b,c);const d=performance.now();a=this.Na.Fx(this.jb,a,b,c);for(b=a.next();!b.done;)await Mv(this,b.value),b=a.next();this.Oo()||0<this.Na.Ne||(await Rv(this.Na),this.SR&&!this.kE&&ZF(this));this.Tn+=
performance.now()-d;return b.value}SH(a){if(isNaN(a)||0>a)a=0;this.Ue=a}gx(){return"preview"===this.Lf}Ee(a){return this.za().Ee(a||this.zf)}qH(a){this.pm=a}X_(a,b){return a.C().oA-b.C().oA}uG(a,b,c,d){return this.sE.uG(a,b,c,null,null,d)}ax(a,b){ne(this,"runtime","invoke-download",{url:a,filename:b})}BC(a){return this.Na.BC(a.name,a.params)}};self.C3_CreateRuntime=X.WP.Da;self.C3_InitRuntime=(a,b)=>a.Lo(b);"use strict";const rG=self.B;
function sG(a,b){var c=b.data,d=c.type;b=c.jobId;switch(d){case "result":c=c.result;d=a.Cp.get(b);if(!d)throw Error("invalid job ID");d.WF||d.resolve(c);a.Cp.delete(b);break;case "progress":c=c.progress;a=a.Cp.get(b);if(!a)throw Error("invalid job ID");!a.WF&&a.progress&&a.progress(c);break;case "error":c=c.error;d=a.Cp.get(b);if(!d)throw Error("invalid job ID");d.WF||d.reject(c);a.Cp.delete(b);break;case "ready":a.ez&&(a.ez=!1,a.nz++,a.nz<a.GS?tG(a):a.Zy.postMessage({type:"_no_more_workers"}));break;
default:throw Error(`unknown message from worker '${d}'`);}}async function tG(a){if(!(a.nz>=a.GS||a.ez||a.MR||uG(a)<=a.nz))try{a.ez=!0,(await Vl(a.g,"runtime","create-job-worker")).outputPort.onmessage=b=>sG(a,b)}catch(b){a.MR=!0,a.ez=!1,console.error(`[Construct] Failed to create job worker; stopping creating any more (created ${a.nz} so far)`,b)}}function uG(a){let b=0;a=[...a.Cp.values()].sort((c,d)=>(c.pN||Infinity)-(d.pN||Infinity));for(const c of a)b<(c.pN||Infinity)&&b++;return b}
rG.xY=class extends rG.ta{constructor(a,b){super();this.g=a;this.Cp=new Map;this.E2=0;this.Zy=b.inputPort;b.outputPort.onmessage=c=>sG(this,c);this.GS=b.maxNumWorkers;this.nz=1;this.MR=this.ez=!1}async Lo(){}uG(a,b,c,d,e,f){c||(c=[]);if("number"===typeof f&&(f=Math.floor(f),0>=f))throw Error("invalid maxWorkerNum");const g=this.E2++;a={type:a,isBroadcast:!1,maxWorkerNum:f,jobId:g,params:b,transferables:c};b=new Promise((h,k)=>{this.Cp.set(g,{resolve:h,progress:d,reject:k,WF:!1,pN:f})});e&&Re(e,()=>
{const h=this.Cp.get(g);h&&(h.WF=!0,h.resolve=null,h.progress=null,h.reject=null,this.Zy.postMessage({type:"_cancel",jobId:g}))});this.Zy.postMessage(a,c);tG(this);return b}};self.C3_Shaders={};"use strict";const vG=self.B;let wG=null,xG="",yG="",zG=[],AG="",BG="",CG="";const DG=vG.A(vG.OV);function EG(a,b){a=a[1];b=b[1];if("number"===typeof a&&"number"===typeof b)return a-b;a=""+a;b=""+b;return a<b?-1:a>b?1:0}
function FG(a,b){wG&&a===xG&&b===yG||(wG=new RegExp(a,b),xG=a,yG=b);wG.lastIndex=0;return wG}function GG(a,b,c){if(a===AG&&b===BG&&c===CG)return zG;const d=FG(b,c);zG=a.match(d);AG=a;BG=b;CG=c;return zG}async function HG(a,b,c){if(c.length){a.$r+=c.length;var d=[];for(const e of c)d.push(Oq(b,e));await vG.h_(d,()=>{a.Wy++});a.Wy++;a.Wy===a.$r&&(a.Wy=0,a.$r=0,a.g.ua(vG.j.Ma.D.BZ,null,null))}}
function*IG(a,b){var c=a.g.pa();a=c.Ac();const d=ao(a),e=d.Ob();var f=e.Mc(),g=vv(d);const h=a.Ra(e);c=c.Qf;const k=c.Ra();if(g)for(g=0;g<b&&!k.jd;++g)Uv(f),k.la=g,yield*ax(e,d,h),Vv(f);else for(f=0;f<b&&!k.jd;++f)k.la=f,yield*ax(e,d,h);a.La();c.La();return!1}
function*JG(a){var b=a.g.pa();a=b.Ac();const c=ao(a),d=c.Ob();var e=d.Mc(),f=vv(c);const g=a.Ra(d);b=b.Qf;const h=b.Ra();if(f)for(f=0;!h.jd;++f)Uv(e),h.la=f,(yield*ax(d,c,g))||h.Gf(),Vv(e);else for(e=0;!h.jd;++e)h.la=e,(yield*ax(d,c,g))||h.Gf();a.La();b.La();return!1}
function*KG(a,b,c,d){var e=a.g.pa();a=e.Ac();const f=ao(a),g=f.Ob();var h=g.Mc();const k=vv(f),l=a.Ra(g);e=e.Qf;const m=e.Ra();m.yx(b);if(d<c)if(k)for(b=c;b>=d&&!m.jd;--b)Uv(h),m.la=b,yield*ax(g,f,l),Vv(h);else for(h=c;h>=d&&!m.jd;--h)m.la=h,yield*ax(g,f,l);else if(k)for(b=c;b<=d&&!m.jd;++b)Uv(h),m.la=b,yield*ax(g,f,l),Vv(h);else for(h=c;h<=d&&!m.jd;++h)m.la=h,yield*ax(g,f,l);a.La();e.La();return!1}
function*LG(a,b){var c=b.Y();const d=c.qa();if(0===d.length)return!1;var e=a.g.pa();a=e.Ac();const f=ao(a),g=f.Ob(),h=g.Mc(),k=vv(f),l=a.Ra(g);e=e.Qf;const m=e.Ra(),n=b.Bc(),p=DG.Ra();vG.wd(p,d);if(k)for(let q=0,u=p.length;q<u&&!m.jd;++q)Uv(h),c=p[q],nv(b.Y(),c),n&&xw(c),m.la=q,yield*ax(g,f,l),Vv(h);else{c.pb=!1;b=c.L;vG.H(b);b.push(null);for(let q=0,u=p.length;q<u&&!m.jd;++q)c=p[q],b[0]=c,n&&xw(c),m.la=q,yield*ax(g,f,l)}a.La();e.La();vG.H(p);DG.La();return!1}
function*MG(a,b,c){const d=b.Y(),e=d.qa();if(0===e.length)return!1;var f=a.g.pa();a=f.Ac();const g=f.Ig(),h=ao(a),k=h.Ob(),l=k.Mc(),m=vv(h),n=a.Ra(k);f=f.Qf;const p=f.Ra(),q=b.Bc(),u=DG.Ra();vG.H(u);for(let r=0,t=e.length;r<t;++r)u.push([e[r],g.Ca[1].T(r)]);u.sort(EG);1===c&&u.reverse();if(m)for(let r=0,t=u.length;r<t&&!p.jd;++r)Uv(l),c=u[r][0],nv(b.Y(),c),q&&xw(c),p.la=r,yield*ax(k,h,n),Vv(l);else{d.pb=!1;b=d.L;vG.H(b);b.push(null);for(let r=0,t=u.length;r<t&&!p.jd;++r)c=u[r][0],b[0]=c,q&&xw(c),
p.la=r,yield*ax(k,h,n)}a.La();f.La();vG.H(u);DG.La();return!1}function NG(a,b,c){let d=a.HR.get(b);if(d)return d;if(!c)return null;d={tq:null,rG:new Map};a.HR.set(b,d);return d}function*OG(a,b,c,d){yield*kx(a.Fe(),b,a.Zg);c&&Vv(d)}vG.j.Ma=class extends vG.uh{constructor(a){super(a);this.Qf=this.g.pa().Qf;this.je=this.g.pa().Ac();this.Wy=this.$r=0;this.HR=new Map}m(){super.m()}ba(){this.g.ba()}ua(a){this.g.ua(a,null,null)}};const PG=self.B;
PG.j.Ma.Je=class extends PG.ta{constructor(a){super();this.J=a;this.g=a.G();this.Li=a.Ua()}nc(){}m(){this.Li=this.g=this.J=null}};const QG=self.B;QG.j.Ma.Instance=class extends QG.ta{constructor(a){super();this.ia=a;this.J=this.ia.I();this.vb=this.J.vb;this.g=this.ia.G()}m(){this.g=this.vb=this.J=this.ia=null}};const RG=self.B,SG=[];
RG.j.Ma.D={D7(){return!0},zP(){return!0},FZ(){return!0},UZ(){return!0},QZ(){return!0},Oo(){return this.g.Oo()},rO(){const a=this.g.Jg();return a.kp?!1:!a.Oh},pfa(){const a=this.g.Ig().Xm();let b=a.get("TriggerOnce_lastTick");"undefined"===typeof b&&(b=-1,a.set("TriggerOnce_lastTick",-1));const c=this.g.Qi;a.set("TriggerOnce_lastTick",c);return this.g.BK||b!==c-1},C7(a){const b=this.g.Ig().Xm(),c=b.get("Every_lastTime")||0,d=cq(this.g);b.has("Every_seconds")||b.set("Every_seconds",a);const e=b.get("Every_seconds");
if(d>=c+e)return b.set("Every_lastTime",c+e),d>=b.get("Every_lastTime")+.04&&b.set("Every_lastTime",d),b.set("Every_seconds",a),!0;d<c-.1&&b.set("Every_lastTime",d);return!1},Ft(a){return(a=this.g.pa().TJ.get(a.toLowerCase())||null)&&a.Ft()},gx(){return this.g.gx()},Qq(){return RG.W.Qq},IZ(){return!0},qZ(){return!0},x7(){return!0},RZ(){return!0},SZ(){return!0},AP(){return!0},BP(){return!0},K$(a){return!!us(this.g,a)},F9(a){switch(a){case 0:return"browser"===RG.W.Om;case 1:return"iOS"===RG.W.Vd;case 2:return"Android"===
RG.W.Vd;case 8:return"cordova"===RG.W.Om;case 9:return"scirra-arcade"===this.g.Lf;case 10:return"nwjs"===RG.W.Om;case 13:return"windows-uwp"===this.g.Lf;default:return!1}},pba(a,b,c){return FG(b,c).test(a)},nW(a,b,c){return RG.compare(a,b,c)},B6(a,b,c){return a>=b&&a<=c},rW(a,b,c){return RG.compare(a.Ba(),b,c)},C6(a){return!!a.Ba()},N6(a,b){const c=cq(this.g);return 0===a?(a=this.g.Ig().Xm(),!a.get("CompareTime_executed")&&c>=b?(a.set("CompareTime_executed",!0),!0):!1):RG.compare(c,a,b)},C9(a){return isNaN(a)},
LV(a,b,c){return RG.Ys(RG.Vb(a),RG.Vb(c))<=RG.Vb(b)},pY(a,b){return RG.Bg(RG.Vb(a),RG.Vb(b))},jY(a,b,c){a=RG.Vb(a);b=RG.Vb(b);c=RG.Vb(c);return RG.Bg(c,b)?RG.Bg(a,b)&&!RG.Bg(a,c):!(!RG.Bg(a,b)&&RG.Bg(a,c))},P9(a,b){return"number"===typeof a?0===b:1===b},B7(a){return!!a},TZ(a){a=a.toLowerCase();var b=this.g.pa();if(0===b.pF.length)throw Error("not in a signal");b=b.pF.at(-1);return a===b},a_(a,b,c,d){if(!a)return!1;const e=DG.Ra(),f=a.Y();RG.wd(e,f.qa());f.pb&&RG.H(f.Kb);const g=this.g.Ig();let h=
0;for(let k=0,l=e.length;k<l;++k){const m=e[k];e[h]=m;b=g.Ca[1].T(k);d=g.Ca[3].T(k);RG.compare(b,c,d)?++h:f.Kb.push(m)}RG.$e(e,h);ov(f,e);b=!!e.length;RG.H(e);DG.La();hx(a);return b},yaa(a,b){if(!a)return!1;const c=DG.Ra(),d=a.Y();RG.wd(c,d.qa());d.pb&&RG.H(d.Kb);const e=this.g.Ig();let f=0;for(let g=0,h=c.length;g<h;++g){const k=c[g];c[f]=k;(b=e.Ca[1].T(g))?++f:d.Kb.push(k)}RG.$e(c,f);ov(d,c);b=!!c.length;RG.H(c);DG.La();hx(a);return b},zaa(a,b,c){if(!a)return!1;const d=a.Y(),e=d.qa();if(0===e.length)return!1;
const f=this.g.Ig();let g=null,h=0;for(let k=0,l=e.length;k<l;++k){const m=e[k];c=f.Ca[2].T(k);if(null===g||0===b&&c<h||1===b&&c>h)h=c,g=m}sv(d,g);hx(a);return!0},Eaa(a,b){if(!a)return!1;const c=a.Y(),d=c.qa();b=Math.floor(b);if(b>=d.length)return!1;sv(c,d[b]);hx(a);return!0},Iaa(a){if(!a)return!1;const b=a.Y(),c=b.qa(),d=Math.floor(this.g.Wp()*c.length);if(d>=c.length)return!1;sv(b,c[d]);hx(a);return!0},xaa(a){if(!a||!a.L.length)return!1;a.Y().pb=!0;hx(a);return!0},Gaa(a,b,c){if(!a)return!1;const d=
a.Y();var e=d.qa();const f=this.g.Ob().qf,g=this.g.Ig().Rk;d.pb?(RG.wd(SG,e),lv(d),d.pb=!1):f?(RG.wd(SG,d.Kb),RG.H(d.Kb)):(RG.wd(SG,d.L),RG.H(d.L));for(let h=0,k=SG.length;h<k;++h)e=SG[h],RG.xor(Wm(e.C(),b,c),g)?d.L.push(e):d.Kb.push(e);hx(a);return RG.xor(!!d.L.length,g)},b_(a){if(!a)return!1;var b=a.Oa;let c=null;const d=this.g.wp;for(let e=d.length-1;0<=e;--e){const f=d[e];if(b){if(NA(f.I(),a)){c=f;break}}else if(f.I()===a){c=f;break}}c||(b=a.qa(),b.length&&(c=b.at(-1)));if(!c)return!1;sv(a.Y(),
c);hx(a);return!0},o_(a){if(this.g.pf)a=IG(this,a);else{var b=this.g.pa();const e=b.Ac(),f=ao(e),g=f.Ob();var c=g.Mc(),d=vv(f);const h=e.Ra(g);b=b.Qf;const k=b.Ra();if(d)for(d=0;d<a&&!k.jd;++d)Uv(c),k.la=d,Zw(g,f,h),Vv(c);else for(c=0;c<a&&!k.jd;++c)k.la=c,Zw(g,f,h);e.La();b.La();a=!1}return a},F0(){if(this.g.pf)var a=JG(this);else{var b=this.g.pa();a=b.Ac();const e=ao(a),f=e.Ob();var c=f.Mc(),d=vv(e);const g=a.Ra(f);b=b.Qf;const h=b.Ra();if(d)for(d=0;!h.jd;++d)Uv(c),h.la=d,Zw(f,e,g)||h.Gf(),Vv(c);
else for(c=0;!h.jd;++c)h.la=c,Zw(f,e,g)||h.Gf();a.La();b.La();a=!1}return a},R7(a,b,c){if(this.g.pf)c=KG(this,a,b,c);else{var d=this.g.pa();const f=d.Ac(),g=ao(f),h=g.Ob();var e=h.Mc();const k=vv(g),l=f.Ra(h);d=d.Qf;const m=d.Ra();m.yx(a);if(c<b)if(k)for(a=b;a>=c&&!m.jd;--a)Uv(e),m.la=a,Zw(h,g,l),Vv(e);else for(e=b;e>=c&&!m.jd;--e)m.la=e,Zw(h,g,l);else if(k)for(a=b;a<=c&&!m.jd;++a)Uv(e),m.la=a,Zw(h,g,l),Vv(e);else for(e=b;e<=c&&!m.jd;++e)m.la=e,Zw(h,g,l);f.La();d.La();c=!1}return c},WW(a){if(this.g.pf)var b=
LG(this,a);else{{const n=a.Y(),p=n.qa();if(0!==p.length){var c=this.g.pa();b=c.Ac();var d=ao(b),e=d.Ob(),f=e.Mc(),g=vv(d),h=b.Ra(e);c=c.Qf;var k=c.Ra(),l=a.Bc(),m=DG.Ra();vG.wd(m,p);if(g)for(let q=0,u=m.length;q<u&&!k.jd;++q)Uv(f),g=m[q],nv(a.Y(),g),l&&xw(g),k.la=q,Zw(e,d,h),Vv(f);else{n.pb=!1;a=n.L;vG.H(a);a.push(null);for(let q=0,u=m.length;q<u&&!k.jd;++q)f=m[q],a[0]=f,l&&xw(f),k.la=q,Zw(e,d,h)}b.La();c.La();vG.H(m);DG.La()}b=!1}}return b},S7(a,b,c){if(this.g.pf)b=MG(this,a,c);else{{const q=a.Y(),
u=q.qa();if(0!==u.length){var d=this.g.pa();b=d.Ac();var e=d.Ig(),f=ao(b),g=f.Ob(),h=g.Mc(),k=vv(f),l=b.Ra(g);d=d.Qf;var m=d.Ra(),n=a.Bc(),p=DG.Ra();vG.H(p);for(let r=0,t=u.length;r<t;++r)p.push([u[r],e.Ca[1].T(r)]);p.sort(EG);1===c&&p.reverse();if(k)for(let r=0,t=p.length;r<t&&!m.jd;++r)Uv(h),c=p[r][0],nv(a.Y(),c),n&&xw(c),m.la=r,Zw(g,f,l),Vv(h);else{q.pb=!1;a=q.L;vG.H(a);a.push(null);for(let r=0,t=p.length;r<t&&!m.jd;++r)c=p[r][0],a[0]=c,n&&xw(c),m.la=r,Zw(g,f,l)}b.La();d.La();vG.H(p);DG.La()}b=
!1}}return b},j$(a){return a?a.Cc():!1},e$(a){if(a)a:{for(const b of qp(a))if(!b.Wu){a=!1;break a}a=!0}else a=!1;return a},f$(a){return a?a.ks:!1},d$(a){return a?!a.L.length:!1},c$(a,b,c){return a?RG.compare(100*a.Kc(),b,c):!1},h$(a){const b=this.g.Wb();return b?!!kq(b,a):!1},BZ(){return!0},z9(){return 0<this.$r},Rea(a,b){const c=this.g.Oi;return c&&b?!!Lu(c,a,b):!1}};const TG=self.B;function UG(a,b){const c=a[0]-b[0];return 0!==c?c:a[1]-b[1]}function VG(a,b){return a[1]-b[1]}
const WG=[],XG=[],YG=TG.A(TG.Rect),ZG=TG.A(TG.bb),$G=[];
TG.j.Ma.xa={I_(a,b){a.pe(b)},IV(a,b){a.No()&&"number"!==typeof b&&(b=parseFloat(b));a.pe(a.Ba()+b)},b0(a,b){a.No()&&a.pe(a.Ba()-b)},Lca(a,b){a.pe(!!b)},kfa(a){a.pe(!a.Ba())},jca(a){a.pe(a.Ln)},kca(a){var b=this.g.pa();for(const c of b.GI)c.Jc=c.Ln;if(a)for(const c of b.QQ)c.Hl()&&(c.Jc=c.Ln)},jO(a,b,c,d,e,f){if(a&&b&&(c=fm(this.g,a,b,c,d,e,f))){e&&bp(b,c);b=this.g.pa();gm(b,!0);hm(c);gm(b,!1);b=new Map;cD(c,b,a,e);for(const [g,h]of b)pv(g.Y(),h)}},f7(a,b,c,d,e,f){a&&b&&(a=this.g.Ez.get(a.toLowerCase())||
null)&&TG.j.Ma.xa.jO.call(this,a,b,c,d,e,f)},ox(a,b,c,d,e,f,g,h,k,l,m){if(a){var n=O(this.g),p=n;if(f&&(p=rr(this.g.jb,f),!p))return;f=null;if("number"!==typeof g||0<=g)if(f=p.aa(g),!f)return;g=null;if("number"!==typeof h||0<=h)if(g=n.aa(h),!g)return;YG.set(b,c,d,e);b=p.ox(a,YG,f,g,k,l,m);ov(a.Y(),b);hx(a)}},$_(){const a=this.Qf;0<=a.la&&a.tt().Gf()},Pt(a,b){(a=this.g.pa().TJ.get(a.toLowerCase())||null)&&(0===b?a.Pt(!1):1===b?a.Pt(!0):a.Pt(!a.Ft()))},Zda(a){this.g.SH(a)},Pda(a,b){0>b&&(b=0);if(a){a=
a.Y().qa();for(const c of a)c.SH(b)}},pca(a){if(a){a=a.Y().qa();for(const b of a)b.Ue=-1,FC(b.I())&&iD(b.g,b,!1)}},ZH(a){if(!(0>a)){var b=Yv(this.g.pa());b.oa="timer";b.Hx();b.Nd=cq(b.Na.G())+a;return!0}},uQ(a){var b=Yv(this.g.pa());b.oa="signal";b.Hx();b.Xz=a.toLowerCase();return!0},Jfa(){const a=this.g.pa();var b=Yv(a);const c=Promise.all(a.tn);a.tn=[];mB(b,c);return!0},rC(a){this.g.pa().rC(a)},async kQ(a,b,c,d,e,f){const g=this.g.U;g&&(this.ba(),await g.kQ(0===a?"image/png":"image/jpeg",b/100,
c,d,e,f),await this.g.nb(TG.j.Ma.D.qZ,null))},Nca(a,b){if(!(0>=a||0>=b)){xF(this.g,a,b);ep(O(this.g));var c=this.g.U;if(c){if("off"!==bF(c)){var d=this.g;if(d.Ji!==a||d.Ii!==b)d.Ji=a,d.Ii=b,a=d.jb,tr(a),ur(a)}c.uc(c.Pj,c.Oj,!0);this.g.ba()}}},kda(a){const b=this.g.U;b&&"off"!==bF(b)&&(dF(b,0!==a?"high":"low"),b.uc(b.Pj,b.Oj,!0))},cr(a){this.g.Sz=a},o$(a){this.g.uz=a},p$(a){this.g.qH(a)},mda(){},lca(){for(const a of this.g.jb.kj)a.Op={},a.js=!0},Rda(a){var b=this.g;a=0!==a;b.Qn!==a&&(b.Qn=a,ur(b.jb),
b.ba())},fda(a,b){this.g.eL=Math.max(1/a,0);this.g.iL=Math.max(1/b,0)},Uca(a,b){this.g.iL=Math.max(a,0);this.g.eL=Math.max(b,0)},gda(a){var b=this.g;a=["vsync","unlimited-tick","unlimited-frame"][a];b.Lu!==a&&(b.Lu=a,-1!==b.uf||-1!==b.wm)&&(YF(b),ZF(b))},mea(a,b){if(a){var c=a.Y().qa(),d=O(this.g),e=a.Oa;a=a.rj;for(let h=0,k=c.length;h<k;++h){var f=c[h];const l=f.C();if(l){var g=void 0;e?(g=f.I().Du[a],g=Ct(f,b+g)):g=Ct(f,b);WG.push([l.aa().Fa(),Vm(l)]);XG.push([f,g])}}if(WG.length){WG.sort(UG);XG.sort(VG);
b=!1;for(let h=0,k=WG.length;h<k;++h)c=XG[h][0],e=lq(d,WG[h][0]),a=WG[h][1],f=e.L,f[a]!==c&&(f[a]=c,Rq(c.C(),e,!0),op(e,c),b=!0);b&&this.g.ba();TG.H(WG);TG.H(XG)}}},$P(a,b){a=Math.floor(a);b=Math.floor(b);0>=a||0>=b||!Number.isFinite(a)||!Number.isFinite(b)||this.g.Bn.$P(a,b)},xX(a){if(!this.g.Mh){var b=this.g.jb;b.Ki||(b.Ki=a)}},x8(a){if(!this.g.Mh){var b=this.g.jb;!b.Ki&&(a=rr(b,a))&&(b.Ki=a)}},G$(a){if(!this.g.Mh){var b=this.g.jb;if(!b.Ki){var c=b.kj,d=c.indexOf(b.Wb());if(!a||0!==d)if(a||d!==
c.length-1)b.Ki=c[d+(a?-1:1)]}}},nca(){if(!this.g.Mh){var a=this.g.jb;if(!a.Ki){a.Ki=a.Wb();a=this.g.pa();for(const b of a.HI)b.Pt(b.zK)}}},Cda(a,b){a&&a.qe(b)},vda(a,b){a&&(a.Wu=!!b)},uda(a,b){a&&um(a,b)},wda(a,b){a&&a.wh(b/100)},yda(a,b){a&&vm(a,b)},zda(a,b){a&&wm(a,b)},oda(a,b){a&&a.He(TG.Vb(+b))},Ada(a,b,c){a&&(zm(a,!0),a.qk(b),a.rk(c))},oca(a){a&&zm(a,!1)},xda(a,b,c){a&&(b/=100,c/=100,a.zj!==b||a.Aj!==c)&&(a.zj=b,a.Aj=c,fp(a),a.g.ba())},Dda(a,b){a&&a.Pg(+b)},pda(a,b){a&&(xd(ZG,b),ZG.X(),a=a.un,
ud(a,ZG)||(sd(a,ZG),this.ba()))},Bda(a,b){a&&xm(a,b)},qda(a,b){a&&a.Ie(b)},rda(a,b,c){a&&(c=ys(a.Sa,c))&&(b=1===b,c.Pb!==b&&(c.Pb=!!b,a.zh(),this.g.ba()))},sda(a,b,c,d){if(a&&(a=a.Sa,b=ys(a,b))){c=Math.floor(c);var e=b.Ge().Ow(c);e&&("color"===e?(xd(ZG,d),d=ZG):"percent"===e&&(d/=100),a.mC(b.Fa(),c,d)&&b.Pb&&this.g.ba())}},tda(a,b){a&&ym(a,b)},Ida(a){O(this.g).QH(+a)},Eda(a){O(this.g).He(TG.Vb(+a))},Fda(a,b){const c=O(this.g);if(b=ys(c.Sa,b))a=1===a,b.Pb!==a&&(b.Pb=!!a,c.zh(),this.g.ba())},Gda(a,
b,c){const d=O(this.g).Sa;if(a=ys(d,a)){b=Math.floor(b);var e=a.Ge().Ow(b);e&&("color"===e?(xd(ZG,c),c=ZG):"percent"===e&&(c/=100),d.mC(a.Fa(),b,c)&&a.Pb&&this.g.ba())}},Jda(a,b){var c=O(this.g);a/=100;b/=100;if(c.MF!==a||c.NF!==b)c.MF=a,c.NF=b,c.sg||(Bq(c),Cq(c),c.g.ba())},Hda(a){const b=O(this.g);0===a?mm(b):nm(b)},Dca(a){O(this.g).qk(a)},Eca(a){O(this.g).rk(a)},Aca(a,b){const c=O(this.g);c.qk(a);c.rk(b)},Cca(a){if(a&&(a=yz(a))&&(a=a.C())){var b=O(this.g);b.qk(a.Ga());b.rk(a.Ha())}},ZN(a,b,c){const d=
O(this.g);try{d.ZN(a,b,c)}catch(e){console.warn("[Construct] Cannot add layer: ",e)}},gP(a,b,c){if(a){var d=O(this.g);try{d.gP(a,b,c)}catch(e){console.warn("[Construct] Cannot move layer: ",e)}}},LP(a){a&&O(this.g).LP(a)},CH(){O(this.g).CH()},async GY(a){const b=this.g.Wb();b&&a&&!this.g.Mh&&await HG(this,b,a.Oa?a.fm:[a])},async n$(a){await TG.j.Ma.xa.GY.call(this,this.g.Ez.get(a.toLowerCase())||null)},q0(a){const b=this.g.Wb();if(b&&a){a=a.Oa?a.fm:[a];for(const c of a)0===c.L.length&&Pq(b,c)}},vfa(a){TG.j.Ma.xa.q0.call(this,
this.g.Ez.get(a.toLowerCase())||null)},wfa(){const a=this.g.Wb();if(a){var b=[...a.Pi];for(const c of b)0===c.L.length&&Pq(a,c)}},async l$(a){const b=this.g.Wb();a&&b&&!this.g.Mh&&await HG(this,b,[...a.bs])},async m$(a){const b=this.g.Wb();(a=rr(this.g.jb,a))&&b&&!this.g.Mh&&await HG(this,b,[...a.bs])},nC(a){var b=this.je.vD;if(b=0===b.length?null:b.at(-1))switch(b.IR){case 1:"number"===typeof a&&b.nC(a);break;case 2:"string"===typeof a&&b.nC(a);break;case 3:b.nC(a)}},s$(a,b,c){var d=NG(this,a.toLowerCase(),
!0);const e=d.rG,f=b.toLowerCase();e.has(f)&&console.warn(`[Construct] Function map '${a}' string '${b}' already in map; overwriting entry`);(d=TG.first(e.values())||d.tq)&&0!==d.fl!==(0!==c.fl)?console.error(`[Construct] Function map '${a}' string '${b}' function return type not compatible with other functions in the map; entry ignored`):e.set(f,c)},t$(a,b){const c=NG(this,a.toLowerCase(),!0);c.tq&&console.warn(`[Construct] Function map '${a}' already has a default; overwriting entry`);const d=TG.first(c.rG.values())||
c.tq;d&&0!==d.fl!==(0!==b.fl)?console.error(`[Construct] Function map '${a}' default: function return type not compatible with other functions in the map; entry ignored`):c.tq=b},a6(a,b,c){var d=this.g,e=d.pf?$G:null;c=Math.floor(c);var f=NG(this,a.toLowerCase(),!1);if(!f)return console.warn(`[Construct] Call mapped function: map name '${a}' not found; call ignored`),e;var g=f.rG.get(b.toLowerCase());if(!g)if(f.tq)g=f.tq,c=0;else return console.warn(`[Construct] Call mapped function: no function associated with map '${a}' string '${b}'; call ignored (consider setting a default)`),
e;if(!g.$m())return e;if(0!==g.fl)return console.warn(`[Construct] Call mapped function: map '${a}' string '${b}' has a return type so cannot be called`),e;f=d.pa().Ob();a=f.Td();(b=0<a.length)&&(g.Zg?Uv(a):Tv(a));e=[];if(f=gw(f)){f=f.Wg;for(let k=c,l=f.length;k<l;++k)e.push(f[k].Ba())}c=g.Wg;for(let k=e.length,l=c.length;k<l;++k)e.push(c[k].Ln);if(d.pf)a=OG(g,e,b,a);else{d=g.Fe();var h=g.Zg;g=d.Td();c=0<g.length;f=d.je;const k=d.g.pa(),l=1<++k.Ne;l&&k.ke.Ra();ex(d.wf,e);c&&(h?Uv(g):Tv(g));e=f.Ra(d);
bx(d,e)&&(e.Hf=d,Vw(d,e));f.La();l&&k.ke.La();c&&Vv(g);--k.Ne;b&&Vv(a);a=void 0}return a}};const gH=self.B;
gH.j.Ma.Qa={a4:function(a){"string"===typeof a&&(a=parseInt(a,10),isNaN(a)&&(a=0));return Math.floor(a)},G3:function(a){"string"===typeof a&&(a=parseFloat(a),isNaN(a)&&(a=0));return a},Vj(a){return a.toString()},iw(a){return"string"===typeof a?a.length:0},random(a,b){return"undefined"===typeof b?this.g.Wp()*a:this.g.Wp()*(b-a)+a},q3(...a){return a[Math.floor(this.g.Wp()*a.length)]},oga(a,...b){"number"!==typeof a&&(a=0);a=gH.X(Math.floor(a),0,b.length-1);return b[a]},ria(){return Math.PI},sha(){return Infinity},
sqrt(a){return Math.sqrt(a)},abs(a){return Math.abs(a)},round(a){return Math.round(a)},Via(a,b){b=Math.max(Math.floor(b),0);b=Math.pow(10,b);return Math.round((a+Number.EPSILON)*b)/b},floor(a){return Math.floor(a)},ceil(a){return Math.ceil(a)},sign(a){return Math.sign(a)},sin(a){return Math.sin(gH.Vb(a))},cos(a){return Math.cos(gH.Vb(a))},tan(a){return Math.tan(gH.Vb(a))},asin(a){return gH.Wj(Math.asin(a))},acos(a){return gH.Wj(Math.acos(a))},atan(a){return gH.Wj(Math.atan(a))},exp(a){return Math.exp(a)},
q4(a){return Math.log(a)},log10(a){return Math.log10(a)},max(...a){let b=a[0];"number"!==typeof b&&(b=0);for(let c=1,d=a.length;c<d;++c){let e=a[c];"number"===typeof e&&b<e&&(b=e)}return b},min(...a){let b=a[0];"number"!==typeof b&&(b=0);for(let c=1,d=a.length;c<d;++c){let e=a[c];"number"===typeof e&&b>e&&(b=e)}return b},X(a,b,c){return gH.X(a,b,c)},Pd(a,b,c,d){return gH.C3(a,b,c,d)},angle(a,b,c,d){return gH.Wj(gH.MM(a,b,c,d))},Af(a,b,c){return gH.Af(a,b,c)},sG(a,b,c){return gH.sG(a,b,c)},lG(a,b,
c,d){return gH.lG(a,b,c,d)},tU(a,b,c,d,e){return gH.tU(a,b,c,d,e)},qU(a,b,c){return gH.qU(a,b,c)},aga(a,b){return gH.Wj(gH.Ys(gH.Vb(a),gH.Vb(b)))},bga(a,b,c){return gH.Wj(gH.KM(gH.Vb(a),gH.Vb(b),c))},cga(a,b,c){return gH.Wj(gH.LM(gH.Vb(a),gH.Vb(b),gH.Vb(c)))},fja(a,b,c){b|=0;return(a|0)&~(1<<b)|(0!==c?1:0)<<b},zja(a,b){return(a|0)^1<<(b|0)},mha(a,b){return(a|0)&1<<(b|0)?1:0},eia(){return"\n"},Fja(a){return"string"===typeof a?a.toUpperCase():""},t4(a){return"string"===typeof a?a.toLowerCase():""},
left(a,b){return"string"===typeof a?a.substr(0,b):""},mid(a,b,c){return"string"!==typeof a?"":0>c?a.substr(b):a.substr(b,c)},right(a,b){return"string"===typeof a?a.substr(Math.max(a.length-b,0)):""},trim(a){return"string"===typeof a?a.trim():""},V4(a,b,c){if("string"!==typeof a||"string"!==typeof c)return"";a=a.split(c);b=Math.floor(b);return 0>b||b>=a.length?"":a[b]},W4(a,b){return"string"===typeof a&&"string"===typeof b&&a.length?a.split(b).length:0},find(a,b){return"string"===typeof a&&"string"===
typeof b?a.search(new RegExp(gH.ww(b),"i")):-1},Qga(a,b){return"string"===typeof a&&"string"===typeof b?a.search(new RegExp(gH.ww(b),"")):-1},replace(a,b,c){return"string"===typeof a&&"string"===typeof b&&"string"===typeof c?a.replace(new RegExp(gH.ww(b),"gi"),c):"string"===typeof a?a:""},S4(a,...b){for(let c=0,d=b.length;c<d;++c)a=a.replaceAll(`{${c}}`,b[c].toString());return a},Fia(a,b,c){b=FG(b,c);return a?a.search(b):-1},J4(a,b,c,d){b=FG(b,c);return a?a.replace(b,d):""},Eia(a,b,c){return(a=GG(a.toString(),
b,c))?a.length:0},Dia(a,b,c,d){d=Math.floor(d);a=GG(a.toString(),b,c);return!a||0>d||d>=a.length?"":a[d]},Zja(a,b){let c=0>a?"-":"";0>a&&(a=-a);c+="0".repeat(Math.max(b-a.toString().length,0));return c+a.toString()},Hja(a){return encodeURIComponent(a)},Gja(a){return decodeURIComponent(a)},WM(){return this.g.Cy},xja(){return this.g.Ue},Vja(){return(Date.now()-this.g.xF)/1E3},Dja(){return Date.now()},time(){return cq(this.g)},tja(){return this.g.Qi},iia(){return this.g.vL},J3(){return this.g.Iu},rga(){return this.g.GE},
nha(){return this.g.HB()},Yja(){return this.g.U.Ug},Xja(){return this.g.U.Tg},nia(){return this.g.Ji},mia(){return this.g.Ii},lia(){return this.g.Ji},kia(){return this.g.Ii},Xia(){return O(this.g).qh()},Yia(){return O(this.g).rh()},Sha(){return O(this.g).ea()},Tha(){return O(this.g).vf},Qha(){return gH.Wj(O(this.g).fb())},Uha(){return O(this.g).M()},Rha(){return O(this.g).K()},Kja(){return 100*zp(O(this.g))},Lja(){return 100*Ap(O(this.g))},Pja(a){return(a=O(this.g).aa(a))?xp(a).$:0},Tja(a){return(a=
O(this.g).aa(a))?xp(a).V:0},Sja(a){return(a=O(this.g).aa(a))?xp(a).ja:0},Nja(a){return(a=O(this.g).aa(a))?xp(a).da:0},Uja(a){return(a=O(this.g).aa(a))?xp(a).width():0},Oja(a){return(a=O(this.g).aa(a))?xp(a).height():0},Qja(a){return(a=O(this.g).aa(a))?(a=xp(a),(a.$+a.ja)/2):0},Rja(a){return(a=O(this.g).aa(a))?(a=xp(a),(a.V+a.da)/2):0},lga(a,b,c){return(a=O(this.g).aa(a))?vp(a,b,c)[0]:0},mga(a,b,c){return(a=O(this.g).aa(a))?vp(a,b,c)[1]:0},Jha(a,b,c){return(a=O(this.g).aa(a))?Vn(a,b,c)[0]:0},Kha(a,
b,c){return(a=O(this.g).aa(a))?Vn(a,b,c)[1]:0},Lha(a,b,c,d){const e=O(this.g);a=e.aa(a);b=e.aa(b);if(!a||!b||a===b)return c;const [f,g]=Vn(a,c,d);return vp(b,f,g)[0]},Mha(a,b,c,d){const e=O(this.g);a=e.aa(a);b=e.aa(b);if(!a||!b||a===b)return d;const [f,g]=Vn(a,c,d);return vp(b,f,g)[1]},Fha(a){return(a=O(this.g).aa(a))?a.vf:0},Aha(a){return(a=O(this.g).aa(a))?gH.Wj(a.Dh):0},Cha(a){return(a=O(this.g).aa(a))?100*a.Kc():0},Gha(a){return(a=O(this.g).aa(a))?a.fo:0},Hha(a){return(a=O(this.g).aa(a))?a.qh():
0},Iha(a){return(a=O(this.g).aa(a))?a.rh():0},Dha(a){return(a=O(this.g).aa(a))?100*a.zj:0},Eha(a){return(a=O(this.g).aa(a))?100*a.Aj:0},Nha(a){return(a=O(this.g).aa(a))?a.hb():0},Bha(a){return(a=O(this.g).aa(a))?a.Fa():-1},kga(){const a=this.g.U;return a?a.Zz:""},s4(a){var b=this.Qf;if(!(0<=b.la))return 0;if(a){a:{const c=b.wb;for(b=b.la;0<=b;--b){const d=c[b];if(d.ea()===a){a=d;break a}}a=null}return a?a.Fa():0}return b.tt().Fa()},Wia(){return this.g.ms},jga(a,b,...c){var d=NG(this,a.toLowerCase(),
!1);if(!d)return console.warn(`[Construct] Call mapped function: map name '${a}' not found; returning 0`),0;let e=d.rG.get(b.toLowerCase());if(!e)if(d.tq)e=d.tq;else return console.warn(`[Construct] Call mapped function: no function associated with map '${a}' string '${b}'; returning 0 (consider setting a default)`),0;d=e.fl;const f=lw(e);if(0===d)return console.warn(`[Construct] Call mapped function: map '${a}' string '${b}' has no return type so cannot be called from an expression; returning 0`),
0;if(!e.$m())return f;a=this.g.pa().Ob().Td();(b=0<a.length)&&(e.Zg?Uv(a):Tv(a));var g=e.Wg;for(let h=c.length,k=g.length;h<k;++h)c.push(g[h].Ln);g=e.Fe();c=g.GH(g.Td(),e.Zg,d,f,...c);b&&Vv(a);return c},Wha(){return this.g.od.wE},qha(){return 0===this.$r?1:this.Wy/this.$r},vq(){return this.g.Lq()?"webgpu":"webgl"},Iia(){return this.g.Lq()?kk(this.g.Lq()):this.g.Ww().vA},rha(){let a=this.g.za().NG();return Math.round(100*a/1048576)/100},Kia(a,b,c){return gH.ZZ(a,b,c)},Nia(a,b,c){return gH.GP(a/100,
b/100,c/100)},Lia(a,b,c,d){return gH.cC(a/100,b/100,c/100,d/100)},Oia(a,b,c){return gH.GP(a/255,b/255,c/255)},Mia(a,b,c,d){return gH.cC(a/255,b/255,c/255,d/255)},xia(){return this.g.YE},yia(){return this.g.eT},xga(){return this.g.Ob().rd.ea()},wga(){return this.g.Ob().wu}};"use strict";const hH=self.B;hH.j.Yj=class extends hH.JH{constructor(a){super(a,"button");tB(this,"click",(b,c)=>b.Kx(c))}m(){super.m()}};const iH=self.B;iH.j.Yj.Je=class extends iH.Ng{constructor(a){super(a)}m(){super.m()}nc(){}};
const jH=self.B,kH=self.bf;function lH(a,b){a.eE&&(b=!!b,a.sj!==b&&(a.sj=b,IB(a)))}
jH.j.Yj.Instance=class extends jH.IH{constructor(a,b){super(a,"button");this.Pa="OK";this.sj=this.eE=!1;this.Yl=this.Lb=this.Zf="";this.Ak=this.td=!0;b&&(this.eE=1===b[0],this.Pa=b[1],this.Zf=b[2],this.C().qe(b[3]),this.td=b[4],this.Ak=b[5],this.sj=b[6],this.Lb=b[7],this.Yl=b[8]);HB(this,{id:this.Lb,className:this.Yl})}m(){super.m()}Iw(){return{text:this.Pa,isCheckbox:this.eE,isChecked:this.sj,title:this.Zf,isVisible:this.C().Cc(),isEnabled:this.td}}async Kx(a){this.sj=a.isChecked;this.xl("click",
!0);await this.nb(jH.j.Yj.D.Jt)}oi(a){this.Pa!==a&&(this.Pa=a,IB(this))}EC(a){this.Zf!==a&&(this.Zf=a,IB(this))}Mx(a){a=!!a;this.td!==a&&(this.td=a,IB(this))}ci(){}ed(){return{text:this.Pa,checked:this.sj,title:this.Zf,enabled:this.td}}mc(a){this.Pa=a.text;this.sj=a.checked;this.Zf=a.title;this.td=a.enabled;IB(this)}cd(a){switch(a){case 1:return this.Pa;case 2:return this.Zf;case 4:return this.td;case 5:return this.Ak;case 6:return this.sj}}xh(a,b){switch(a){case 1:this.oi(b);break;case 2:this.EC(b);
break;case 4:this.Mx(!!b);break;case 5:this.Ak=!!b;break;case 6:lH(this,!!b)}}ge(){return self.hi}};const mH=new WeakMap;self.hi=class extends self.aH{constructor(){super();mH.set(this,L(self.Nc.Rl()))}set text(a){kH.zd(a);mH.get(this).oi(a)}get text(){return mH.get(this).Pa}set isEnabled(a){mH.get(this).Mx(a)}get isEnabled(){return mH.get(this).td}set g4(a){lH(mH.get(this),a)}get g4(){return mH.get(this).sj}};const nH=self.B;
nH.j.Yj.D={Jt(){return!0},nY(){return this.sj},iO(a,b){return b?this.Pa===a:nH.vd(this.Pa,a)}};self.B.j.Yj.xa={Ql(a){this.oi(a)},H_(a){this.EC(a)},Oca(a){lH(this,0!==a)},mfa(){this.eE&&(this.sj=!this.sj,IB(this))}};self.B.j.Yj.Qa={Text(){return this.Pa}};"use strict";const oH=self.B;oH.j.li=class extends oH.JH{constructor(a){super(a,"text-input");tB(this,"click",(b,c)=>b.Kx(c));tB(this,"dblclick",b=>pH(b));tB(this,"change",(b,c)=>qH(b,c))}m(){super.m()}};const rH=self.B;rH.j.li.Je=class extends rH.Ng{constructor(a){super(a)}m(){super.m()}nc(){}};
const sH=self.B,tH=self.bf,uH="text password email number tel url textarea search".split(" ");async function pH(a){a.xl("dblclick",!0);await a.nb(sH.j.li.D.vZ)}async function qH(a,b){a.Pa=b.text;a.xl("change",!0);await a.nb(sH.j.li.D.WZ)}function vH(a,b){b=!!b;a.nm!==b&&(a.nm=b,IB(a))}function wH(a,b){b=Math.max(+b,-1);a.qs!==b&&(a.qs=b,IB(a))}function xH(a){Promise.resolve().then(()=>yA(a,"scroll-to-bottom"))}
sH.j.li.Instance=class extends sH.IH{constructor(a,b){super(a,"text-input");this.Zf=this.Cj=this.Pa="";this.td=!0;this.Ms=this.nm=!1;this.oa="text";this.Ak=!0;this.qs=-1;this.Yl=this.Lb="";b&&(this.Pa=b[0],this.Cj=b[1],this.Zf=b[2],this.C().qe(b[3]),this.td=b[4],this.nm=b[5],this.Ms=b[6],this.oa=uH[b[7]],this.Ak=b[8],this.Lb=b[9],this.Yl=b[10]);HB(this,{type:this.oa,id:this.Lb,className:this.Yl})}m(){super.m()}Iw(){return{text:this.Pa,placeholder:this.Cj,title:this.Zf,isEnabled:this.td,isReadOnly:this.nm,
spellCheck:this.Ms,maxLength:this.qs}}async Kx(){this.xl("click",!0);await this.nb(sH.j.li.D.Jt)}oi(a){this.Pa!==a&&(this.Pa=a,IB(this))}EC(a){this.Zf!==a&&(this.Zf=a,IB(this))}Mx(a){a=!!a;this.td!==a&&(this.td=a,IB(this))}ci(){}ed(){return{t:this.Pa,p:this.Cj,ti:this.Zf,e:this.td,r:this.nm,sp:this.Ms,ml:this.qs,type:this.oa,id:this.Lb}}mc(a){this.Pa=a.t;this.Cj=a.p;this.Zf=a.ti;this.td=a.e;this.nm=a.r;this.Ms=a.sp;this.qs=a.hasOwnProperty("ml")?a.ml:-1;this.oa=a.type;this.Lb=a.id;IB(this)}cd(a){switch(a){case 0:return this.Pa;
case 1:return this.Cj;case 2:return this.Zf;case 4:return this.td;case 5:return this.nm;case 6:return this.Ms;case 8:return this.Ak}}xh(a,b){switch(a){case 0:if(this.Pa===b)break;this.Pa=b;IB(this);break;case 1:if(this.Cj===b)break;this.Cj=b;IB(this);break;case 2:if(this.Zf===b)break;this.Zf=b;IB(this);break;case 4:if(this.td===!!b)break;this.td=!!b;IB(this);break;case 5:if(this.nm===!!b)break;this.nm=!!b;IB(this);break;case 6:if(this.Ms===!!b)break;this.Ms=!!b;IB(this);break;case 8:this.Ak=!!b}}ge(){return self.Gl}};
const yH=new WeakMap;self.Gl=class extends self.aH{constructor(){super();yH.set(this,L(self.Nc.Rl()))}set text(a){tH.zd(a);yH.get(this).oi(a)}get text(){return yH.get(this).Pa}set placeholder(a){tH.zd(a);var b=yH.get(this);b.Cj!==a&&(b.Cj=a,IB(b))}get placeholder(){return yH.get(this).Cj}set isEnabled(a){yH.get(this).Mx(a)}get isEnabled(){return yH.get(this).td}set j4(a){vH(yH.get(this),a)}get j4(){return yH.get(this).nm}set maxLength(a){tH.gf(a);wH(yH.get(this),a)}get maxLength(){return yH.get(this).qs}};
const zH=self.B;zH.j.li.D={iO(a,b){return 0===b?zH.vd(this.Pa,a):this.Pa===a},WZ(){return!0},Jt(){return!0},vZ(){return!0}};self.B.j.li.xa={Ql(a){this.oi(a.toString())},MV(a){""!==a&&this.oi(this.Pa+a)},Sda(a){this.Cj!==a&&(this.Cj=a,IB(this))},H_(a){this.EC(a)},Vda(a){vH(this,0===a)},Bca(){xH(this)},Kda(a){wH(this,a)}};self.B.j.li.Qa={Text(){return this.Pa},v$(){return this.qs}};"use strict";const AH=self.B;AH.j.Text=class extends AH.uh{constructor(a){super(a)}m(){super.m()}};const BH=self.B;
BH.j.Text.Je=class extends BH.Ng{constructor(a){super(a)}m(){super.m()}nc(){}Ht(){}Zq(){}};const CH=self.B,DH=self.bf,EH=[0,0,0],FH=["left","center","right"],GH=["top","center","bottom"],HH=["ltr","rtl"],IH=["word","cjk","character"],JH=new CH.Rect,KH=new CH.Jd;new CH.bb;const LH=CH.A(CH.hr),MH=new Map([["b","strong"],["i","em"],["s","s"],["u","u"],["iconoffsety",null]]);
function NH(a,b){b&&(b.Oa||b.Ua().constructor!==CH.j.hc)||b===a.qg||(a.qg&&a.qg.cb().removeEventListener("animationframeimagechange",a.WQ),a.qg=b,a.qg&&a.qg.cb().addEventListener("animationframeimagechange",a.WQ),OH(a),a.hz=!1,a.g.ba())}
function OH(a){const b=a.ub;b.Ql(a.Pa);var c=a.cm;c=!!c;b.Jh!==c&&(b.Jh=c,c=b.Jh?"alphabetic":"top",b.Zc&&(b.Zc.textBaseline=c),b.xj&&(b.xj.textBaseline=c),ri(b));a.ub.Jh&&a.qg?a.ub.xx(oG(a.G(),a.qg)):a.ub.xx(null);c="nearest"!==a.g.Yb;c=!!c;b.cK!==c&&(b.cK=c,b.Lr=!0);Bi(b,a.em);b.OH(a.om);Ci(b,a.Kh);Di(b,a.Lh);b.mk(a.tb);Gi(b,FH[a.Ci]);Hi(b,GH[a.jh]);c=a.Xh;if(!oi.has(c))throw Error("invalid word wrap mode");b.Xh!==c&&(b.Xh=c,ri(b));b.hQ(HH[a.fh])}
function PH(a){if(a.cF){let b=a.Pa;a.cm&&(b=b.replace(zf,""));a.ho?a.ho.Ql(b):a.ho=CH.A(CH.v_,a.g,b)}else a.ho&&(a.ho.m(),a.ho=null)}function QH(a){a.Vv=-1;a.Dm=-1;a.rA=0;Ei(a.ub,-1);a.Xt()}
function RH(a){const b=a.C();a.ub.MH(a.tm);var c=a.ub;if(b.oe()){var d=b.Ia;d=Math.min(oD(d),pD(d))}else d=1;c.BD!==d&&(c.BD=d,ri(c));c=b.aa();if("auto"===a.Zp){{var e=dq(b);const f=c.g.At();c.Pf.sg?e=f:(d=Bp(c),e=c.Ee()/Math.abs(d-e)*f)}}else"fixed"===a.Zp&&(e=a.Ky);tA(b)&&e!==a.ub.$v&&b.Ab(65536,!0);a.ub.uc(b.M(),b.K(),e)}function SH(a){const b=a.Zb-Math.round(a.Zb),c=a.$b-Math.round(a.$b);if(0===b&&0===c)return a;KH.wa(a);KH.offset(-b,-c);return KH}
function TH(a,b){a.em!==b&&(a.em=b,Bi(a.ub,b),a.g.ba())}function UH(a,b){a.om!==b&&(a.om=b,OH(a),a.g.ba())}function VH(a,b){b=!!b;a.Kh!==b&&(a.Kh=b,Ci(a.ub,b),a.g.ba())}function WH(a,b){b=!!b;a.Lh!==b&&(a.Lh=b,Di(a.ub,b),a.g.ba())}function XH(a,b){a.Ci!==b&&(a.Ci=b,OH(a),a.g.ba())}function YH(a,b){a.jh!==b&&(a.jh=b,OH(a),a.g.ba())}function ZH(a,b){a.Xh!==b&&(a.Xh=b,OH(a),a.g.ba())}
function $H(a,b,c){RH(a);var d=a.C();LH.set(b-d.Ga(),c-d.Ha());LH.rotate(-d.fb());LH.offset(d.M()*d.$i(),d.K()*d.aj());LH.sl(d.M(),d.K());LH.scale(a.ub.M(),a.ub.K());a:{d=a.ub;a=LH.ka;b=LH.ca;Ii(d);c=Fi(d);d=d.Qj.vj;for(e of d)if(d=e.gm*c,b>=e.Sp-e.K()*c+d&&b<e.Sp+d)for(const f of e.uq())if(a>=f.Rp&&a<f.Rp+f.M()*c){var e=f;break a}e=null}return e&&(e=Vf(e,"tag"))?e.bg:""}
function aI(a,b,c){RH(a);c=Math.floor(c);a:{var d=a.ub;for(var e of Li(d,b)){if(0===c){b=e;break a}--c}b=null}var f=b;if(!f)return null;b=a.C();const g=Fi(a.ub);d=f.Rp;e=f.Sp-(f.K()-f.gm)*g;c=f.M()*g/a.ub.M()*b.M();f=f.K()*g/a.ub.K()*b.K();LH.set(d,e);LH.sl(a.ub.M(),a.ub.K());LH.scale(b.M(),b.K());LH.offset(-b.M()*b.$i(),-b.K()*b.aj());LH.rotate(b.fb());LH.offset(b.Ga(),b.Ha());return{x:LH.ka,y:LH.ca,width:c,height:f}}
function bI(a){a=MH.get(a);if(null===a)return"";a||(a="span");return`</${a||"span"}>`}
function cI(a,b){let c=MH.get(a);if(null===c)return"";c||(c="span");switch(a){case "color":return`<${c} style="color: ${b}">`;case "font":return`<${c} style="font-family: '${b}'">`;case "opacity":return`<${c} style="opacity: ${b}%">`;case "size":return`<${c} style="font-size: ${b}pt">`;case "background":return`<${c} style="background-color: ${b}">`;case "hide":return`<${c} style="visibility: hidden">`;case "class":return`<${c} class="${b}">`;case "tag":return`<${c} data-tag="${b}">`;default:return`<${c}>`}}
async function dI(a){if(a.hz)return a.PD;var b=Gf(new CH.Nm(a.Pa,{RU:!0}));const c=new Map;let d='<span class="c3-text"';var e=[];e.push(`font-family: '${a.em}';`);a.Kh&&e.push("font-weight: bold;");a.Lh&&e.push("font-style: italic;");"character"===a.Xh&&e.push("word-break: break-all;");d+=` style="${e.join(" ")}">`;e=a.qg?oG(a.G(),a.qg):null;if(a.qg){var f=CH.A(CH.mx),g=[];const n=new Map;for(var h of b)if(h.an()){const p=Mf(h,e);if(p){const q=p.aA.Hd().sd;n.has(q)||(n.set(q,null),g.push(f.Gb(async()=>
{const u=await Eo(q);n.set(q,u)})))}}await Promise.all(g);h=[];for(var k of b)if(k.an()){const p=Mf(k,e);if(p){const q=p.aA,u=q.Hd().sd;h.push(f.Gb(async()=>{const r=await jC(q.Hd(),n.get(u));c.set(p,r)}))}}await Promise.all(h);for(var l of n.values())l instanceof ImageBitmap&&l.close&&l.close()}k=new Map;for(var m of b){h=Wf(m);b=[...k.keys()];b.reverse();for(const n of b)h.has(n)&&h.get(n)===k.get(n)||(k.delete(n),d+=bI(n));for(const [n,p]of h)k.has(n)||(k.set(n,p),d+=cI(n,p));m.ig()&&(d+=CH.ki(CH.tB(m.kf.join("")),
"\n","<br>"));if(m.an()&&e&&(b=Mf(m,e))&&(l=c.get(b))){f=[];g="0.2em";if(h=h.get("iconoffsety"))h=h.trim(),g=h.endsWith("%")?parseFloat(h)/100+"em":h+"px";f.push(`top: ${g}`);"nearest"===a.g.Yb&&f.push("image-rendering: pixelated");d+=`<img class="c3-text-icon" data-icon="${m.Vy}" width="${b.M()}" height="${b.K()}" style="${f.join(";")}" src="${l}">`}}m=[...k.keys()];m.reverse();for(const n of m)d+=bI(n);a.PD=d+"</span>";a.hz=!0;return a.PD}
CH.j.Text.Instance=class extends CH.KH{constructor(a,b){super(a);this.Pa="";this.cm=!0;this.em="Arial";this.tm=12;this.om=0;this.Lh=this.Kh=!1;this.tb=CH.A(CH.bb);this.jh=this.Ci=0;this.Xh="word";this.fh=0;this.Zp="auto";this.Ky=1;this.qg=null;this.PD="";this.cF=this.hz=!1;this.ho=null;this.Dm=this.Vv=-1;this.rA=0;this.ub=CH.A(CH.R.hC,this.g.za(),{timeout:5});this.ub.jG=()=>this.g.ba();this.WQ=()=>{$f(this.g.lo,this.qg);this.g.ba();this.EL=!0};this.EL=!1;b&&(this.Pa=b[0],this.cm=!!b[1],this.em=b[2],
this.tm=b[3],this.om=b[4],this.Kh=!!b[5],this.Lh=!!b[6],this.Ci=b[8],this.jh=b[9],this.Xh=IH[b[10]],this.fh=b[11],NH(this,Vq(this.g,b[12])),a=b[7],qd(this.tb,a[0],a[1],a[2]),this.C().qe(b[13]),this.cF=!!b[15]);OH(this);PH(this)}m(){NH(this,null);QH(this);this.ho&&(this.ho.m(),this.ho=null);this.ub.m();this.ub=null;super.m()}ci(a){var b=this.C();RH(this);this.EL&&(this.EL=!1,this.ub.Jh&&this.qg&&this.ub.xx(oG(this.G(),this.qg)));const c=this.ub.lc();if(c){var d=b.aa();if(0===b.fb()&&0===d.fb()&&0===
dq(b)&&!tA(b)&&Dp(d)){b=SD(b);const [g,h]=fq(d,b.Zb,b.$b),[k,l]=fq(d,b.Uc,b.Vc);b=g-Math.round(g);var e=h-Math.round(h);JH.set(g,h,k,l);JH.offset(-b,-e);KH.Dg(JH);const [m,n]=a.Bt(a.bj());b=this.g.U;e=m;var f=n;e=e||b.Bd;f=f||b.qd;const p=e/2+b.M1,q=f/2+b.N1;let u=b.pD;if(e!==b.Bd||f!==b.qd)Rg(a,QE,e/f),u=QE;a.Pl(u);b=Tg(a,p,q,a.Ee(f),p,q,f);a.er(b);a.ie(c);a.Jl(KH,this.ub.fk());Vp(d,a)}else a.ie(c),tA(b)?this.gI(b,a):this.hI(b,a)}}hI(a,b){a=SD(a);this.g.Qn&&(a=SH(a));b.Jl(a,this.ub.fk())}gI(a,b){const c=
qE(a);if(0!==(a.F&65536)){PD(a,JH,KH,!1);let d=KH;this.g.Qn&&(d=SH(d));mh(c,uA(a),d,this.ub.fk());a.Ab(65536,!1)}c.ci(b)}CB(){const a=this.ub.lc();return a?[a.M(),a.K()]:[100,100]}DB(){return this.ub.fk()}WB(){return!1}ed(){const a={t:this.Pa,c:this.tb.toJSON(),fn:this.em,ps:this.tm};this.cm&&(a.bbc=this.cm);0!==this.Ci&&(a.ha=this.Ci);0!==this.jh&&(a.va=this.jh);"word"!==this.Xh&&(a.wr=this.Xh);0!==this.om&&(a.lho=this.om);this.Kh&&(a.b=this.Kh);this.Lh&&(a.i=this.Lh);-1!==this.Dm&&(a.tw={st:this.Vv,
en:this.Dm,l:this.rA});this.qg&&(a.ioc=this.qg.lb);"fixed"===this.Zp&&(a.fs=this.Ky);return a}mc(a){QH(this);this.Pa=a.t;Bd(this.tb,a.c);this.em=a.fn;this.tm=a.ps;this.cm=a.hasOwnProperty("bbc")?a.bbc:!1;this.Ci=a.hasOwnProperty("ha")?a.ha:0;this.jh=a.hasOwnProperty("va")?a.va:0;if(a.hasOwnProperty("wr")){var b=a.wr;this.Xh="boolean"===typeof b?b?"word":"character":b}else this.Xh="word";this.om=a.hasOwnProperty("lho")?a.lho:0;this.Kh=a.hasOwnProperty("b")?a.b:!1;this.Lh=a.hasOwnProperty("i")?a.i:
!1;a.hasOwnProperty("tw")&&(b=a.tw,this.Vv=b.st,this.Dm=b.en,this.rA=b.l);a.hasOwnProperty("ioc")?(b=Vq(this.G(),a.ioc))&&NH(this,b):NH(this,null);a.hasOwnProperty("fs")?(this.Zp="fixed",this.Ky=a.fs):this.Zp="auto";OH(this);PH(this);this.hz=!1;-1!==this.Dm&&this.hj()}cd(a){switch(a){case 0:return this.Tw();case 1:return this.cm;case 2:return this.em;case 3:return this.tm;case 4:return this.om;case 5:return this.Kh;case 6:return this.Lh;case 7:return EH[0]=this.tb.ab,EH[1]=this.tb.ib,EH[2]=this.tb.$a,
EH;case 8:return this.Ci;case 9:return this.jh;case 10:return this.Xh;case 15:return this.cF}}xh(a,b){switch(a){case 0:this.oi(b);break;case 1:if(this.cm===!!b)break;this.cm=!!b;OH(this);break;case 2:TH(this,b);break;case 3:this.tm!==b&&(this.tm=b,this.g.ba());break;case 4:UH(this,b);break;case 5:VH(this,b);break;case 6:WH(this,b);break;case 7:a=this.tb;if(a.ab===b[0]&&a.ib===b[1]&&a.$a===b[2])break;qd(this.tb,b[0],b[1],b[2]);OH(this);break;case 8:XH(this,b);break;case 9:YH(this,b);break;case 10:ZH(this,
b)}}oi(a){this.Pa!==a&&(this.Pa=a,this.ub.Ql(a),PH(this),this.hz=!1,this.g.ba())}Tw(){return this.Pa}Qg(){var a=this.g.CA.T();a>=this.Dm?(QH(this),this.ua(CH.j.Text.D.EP),this.g.ba()):(a=CH.K4(this.Vv,this.Dm,a,this.rA),a=Math.floor(a),a!==this.ub.Mr&&(Ei(this.ub,a),this.g.ba()))}ge(){return self.SO}};const eI=new WeakMap,fI=new Map([["top",0],["center",1],["bottom",2]]);
self.SO=class extends self.SB{constructor(){super();eI.set(this,L(self.Nc.Rl()))}get text(){return eI.get(this).Tw()}set text(a){DH.zd(a);const b=eI.get(this);QH(b);b.oi(a)}set lineHeight(a){DH.gf(a);UH(eI.get(this),a)}get lineHeight(){return eI.get(this).om}set verticalAlign(a){DH.zd(a);a=fI.get(a);if("undefined"===typeof a)throw Error("invalid mode");YH(eI.get(this),a)}get verticalAlign(){return GH[eI.get(this).jh]}};const gI=self.B;
gI.j.Text.D={iO(a,b){return b?this.Pa===a:gI.vd(this.Pa,a)},M9(){return-1!==this.Dm},EP(){return!0},G8(a,b,c){return(b=$H(this,b,c))&&CH.vd(a,b)}};const hI=self.B,iI=hI.A(hI.bb);
hI.j.Text.xa={Ql(a){QH(this);"number"===typeof a&&1E9>a&&(a=Math.round(1E10*a)/1E10);this.oi(a.toString())},MV(a){QH(this);"number"===typeof a&&1E9>a&&(a=Math.round(1E10*a)/1E10);(a=a.toString())&&this.oi(this.Pa+a)},sfa(a,b){QH(this);"number"===typeof a&&1E9>a&&(a=Math.round(1E10*a)/1E10);a=a.toString();RH(this);this.oi(a);a=this.Vv=this.g.CA.T();var c=this.Z();const d=c.Ue;this.Dm=a+b/(-1===d?c.G().Ue:d);b=this.ub;Ii(b);a=0;for(const e of b.Qj.vj)for(const f of e.uq())a+=f.Nw();this.rA=a;Ei(this.ub,
0);this.hj()},eda(a,b){let c=!1,d=!1;switch(b){case 1:c=!0;break;case 2:d=!0;break;case 3:d=c=!0}if(a!==this.em||c!==this.Kh||d!==this.Lh)TH(this,a),VH(this,c),WH(this,d)},MH(a){this.tm!==a&&(this.tm=a,this.g.ba())},dda(a){xd(iI,a);iI.X();ud(this.tb,iI)||(sd(this.tb,iI),this.ub.mk(this.tb),this.g.ba())},cea(){console.warn("[Text] 'Set web font' action is deprecated and no longer has any effect")},B_(a){this.C().Ie(a);this.g.ba()},rfa(){-1!==this.Dm&&(QH(this),this.ua(CH.j.Text.D.EP),this.g.ba())},
OH(a){UH(this,a)},lda(a){XH(this,a)},aea(a){YH(this,a)},gea(a){ZH(this,IH[a])},hQ(a){this.fh!==a&&(this.fh=a,OH(this),this.g.ba())},f6(a){NH(this,a)},zfa(){return dI(this)},Uda(a){this.cF=!!a;PH(this)},Wda(a,b){a=["auto","fixed"][a];this.Zp!==a&&(this.Zp=a,this.g.ba());this.Ky!==b&&(this.Ky=b,"fixed"===this.Zp&&this.g.ba())}};
self.B.j.Text.Qa={Text(){return this.Pa},Laa(){return this.cm?this.Pa.replace(zf,""):this.Pa},G7(){return this.em},H7(){return this.tm},Vea(){RH(this);var a=this.ub;Ii(a);return Sf(a.Qj)},Uea(){RH(this);var a=this.ub;Ii(a);return Tf(a.Qj)+a.Qj.vj.length*(a.Gp+4)-a.Gp},k$(){return this.om},Hea(a,b){return $H(this,a,b)},Iea(a){RH(this);var b=this.ub;let c=0;for(const d of Li(b,a))++c;return c},Lea(a,b){return(a=aI(this,a,b))?a.x:0},Mea(a,b){return(a=aI(this,a,b))?a.y:0},Kea(a,b){return(a=aI(this,a,
b))?a.width:0},Jea(a,b){return(a=aI(this,a,b))?a.height:0},C5(){return this.PD}};"use strict";const jI=self.B;jI.j.De=class extends jI.uh{constructor(a){super(a)}m(){super.m()}};const kI=self.B;kI.j.De.Je=class extends kI.Ng{constructor(a){super(a)}m(){super.m()}nc(){}};const lI=self.B;async function mI(a,b,c,d){console.error(`[Construct] AJAX request to '${c}' (tag '${b}') failed: `,d);a.Zl=b;await a.nb(lI.j.De.D.jZ);a.Zl=b;await a.nb(lI.j.De.D.vP)}
async function nI(a,b){a.Zl=b;await a.nb(lI.j.De.D.eZ);a.Zl=b;await a.nb(lI.j.De.D.mP)}async function oI(a,b,c){c.lengthComputable&&(a.HL=c.loaded/c.total,a.Zl=b,await a.nb(lI.j.De.D.OZ))}function pI(a,b,c,d){if(a.mE){var e=a.RS,f=a.QS+c;e.existsSync(f)?e.readFile(f,{encoding:"utf8"},(g,h)=>{g?mI(a,b,c,g):(a.Dp=h.replace(/\r\n/g,"\n"),nI(a,b))}):mI(a,b,c,d)}else mI(a,b,c,d)}
async function qI(a,b,c){const d=a.g.od,e=a.Cz;a.Cz=null;try{if(e){const f=await qo(d,c,"buffer");rI(e,f);a.Dp=""}else a.Dp=(await qo(d,c,"text")).replace(/\r\n/g,"\n");a.rz=0;nI(a,b)}catch(f){mI(a,b,c,f)}}
function sI(a,b,c,d,e){return new Promise(f=>{const g=k=>{pI(a,b,c,k);f()},h=a.Cz;a.Cz=null;try{const k=new XMLHttpRequest;k.onreadystatechange=()=>{if(4===k.readyState){a.Dp=h?"":(k.responseText||"").replace(/\r\n/g,"\n");a.rz=k.status;if(400<=k.status)mI(a,b,c,k.status+k.statusText);else{const l=a.Dp.length||h&&k.response instanceof ArrayBuffer;a.mE&&!l||!a.mE&&0===k.status&&!l||(h&&rI(h,k.response),nI(a,b))}f()}};k.onerror=g;k.ontimeout=g;k.onabort=g;k.onprogress=l=>oI(a,b,l);k.open(d,c);0<=a.iq&&
"undefined"!==typeof k.timeout&&(k.timeout=a.iq);k.responseType=h?"arraybuffer":"text";e&&!a.JE.has("Content-Type")&&("string"!==typeof e?k.setRequestHeader("Content-Type","application/octet-stream"):k.setRequestHeader("Content-Type","application/x-www-form-urlencoded"));for(const [l,m]of a.JE)try{k.setRequestHeader(l,m)}catch(n){console.error(`[Construct] AJAX: Failed to set header '${l}: ${m}': `,n)}a.JE.clear();if(a.KE){try{k.overrideMimeType(a.KE)}catch(l){console.error("[Construct] AJAX: failed to override MIME type: ",
l)}a.KE=""}a.rL&&(k.withCredentials=!0,a.rL=!1);e?k.send(e):k.send()}catch(k){g(k)}})}
lI.j.De.Instance=class extends lI.kk{constructor(a){super(a);this.Dp="";this.rz=0;this.Zl="";this.HL=0;this.iq=-1;this.JE=new Map;this.Cz=null;this.KE="";this.rL=!1;this.QS=this.SS=this.RS=null;if(this.mE="nwjs"===this.g.Lf)this.RS=require("fs"),this.SS=require("path"),this.QS=this.SS.dirname((self.process||nw.process).execPath)+"\\"}m(){super.m()}ed(){return{lastData:this.Dp,lastStatusCode:this.rz}}mc(a){this.Dp=a.lastData;this.rz=a.hasOwnProperty("lastStatusCode")?a.lastStatusCode:0;this.Zl="";
this.HL=0}};const tI=self.B;tI.j.De.D={mP(a){return tI.vd(this.Zl,a)},eZ(){return!0},vP(a){return tI.vd(this.Zl,a)},jZ(){return!0},OZ(a){return tI.vd(this.Zl,a)}};const uI=self.B;
uI.j.De.xa={async Request(a,b){wF(this.g)&&uI.YB(b)&&this.g.od.yp?await qI(this,a,b):await sI(this,a,b,"GET",null)},async wba(a,b){wF(this.g)&&this.g.od.yp?await qI(this,a,b):await sI(this,a,b,"GET",null)},async Xaa(a,b,c,d){await sI(this,a,b,d,c)},async Yaa(a,b,c,d){c&&(c=yz(c,this.ia))&&await sI(this,a,b,d,L(c).Rb)},Yda(a){this.iq=1E3*a},D_(a,b){this.JE.set(a,b)},G_(a){a&&(a=yz(a,this.ia))&&(this.Cz=L(a))},oaa(a){this.KE=a},fea(a){this.rL=!!a}};
self.B.j.De.Qa={BY(){return this.Dp},b$(){return this.rz},aba(){return this.HL},Tag(){return this.Zl}};"use strict";const vI=self.B;vI.j.Za=class extends vI.uh{constructor(a){super(a)}m(){super.m()}};const wI=self.B;wI.j.Za.Je=class extends wI.Ng{constructor(a){super(a)}m(){super.m()}nc(){}};const xI=self.B;async function yI(a,b){b=!!b.isOnline;a.iz!==b&&(a.iz=b,a.iz?await a.nb(xI.j.Za.D.LZ):await a.nb(xI.j.Za.D.JZ))}async function zI(a){await a.nb(xI.j.Za.D.lP)}
xI.j.Za.Instance=class extends xI.kk{constructor(a){super(a,"browser");this.km="";this.iz=!1;this.pR=this.lT="";this.gS=!1;this.FM=this.rT=this.sT=0;this.dz=!1;this.iR=new Map;this.AK=!1;this.$y="";this.KK=!1;wB(this,[["online-state",b=>yI(this,b)],["backbutton",()=>zI(this)],["sw-message",b=>{b=b.type;"downloading-update"===b?this.ua(xI.j.Za.D.XZ):"update-ready"===b||"update-pending"===b?this.ua(xI.j.Za.D.YZ):"offline-ready"===b&&this.ua(xI.j.Za.D.KZ)}],["hashchange",b=>{this.km=b.location;this.ua(xI.j.Za.D.zZ)}],
["install-available",()=>{this.AK=!0;this.ua(xI.j.Za.D.CZ)}],["app-installed",()=>{this.AK=!1;this.ua(xI.j.Za.D.nZ)}]]);a=this.G().cb();this.og=new xI.jB(xI.Gg.bk(a,"afterfirstlayoutstart",()=>{xB(this,"ready-for-sw-messages")}),xI.Gg.bk(a,"window-resize",()=>this.rI()),xI.Gg.bk(a,"suspend",()=>this.pI()),xI.Gg.bk(a,"resume",()=>this.oI()));VF(this.g,yB(this,"get-initial-state",{exportType:this.g.Lf}).then(b=>{this.km=b.location;this.iz=b.isOnline;this.lT=b.referrer;this.pR=b.title;this.gS=b.isCookieEnabled;
this.sT=b.screenWidth;this.rT=b.screenHeight;this.FM=b.windowOuterWidth;this.dz=b.isConstructArcade}))}m(){super.m()}async rI(){await this.nb(xI.j.Za.D.PZ)}pI(){this.ua(xI.j.Za.D.MZ)}oI(){this.ua(xI.j.Za.D.NZ)}};
self.B.j.Za.D={H9(){return this.iz},LZ(){return!0},JZ(){return!0},PZ(){return!0},Z6(){return this.gS},qY(){return this.g.U.hs},lP(){return!0},L9(a){return(this.g.U.Pj<=this.g.U.Oj?0:1)===a},XZ(){return!0},YZ(){return!0},KZ(){return!0},zZ(){return!0},CZ(){return!0},v9(){return this.AK},DZ(a){switch(a){case 0:return"accepted"===this.$y;case 1:return"dismissed"===this.$y;case 2:return"error"===this.$y;case 3:return!0;default:return!1}},nZ(){return!0},H6(a){const b=this.g.U.hD;switch(a){case 0:return"browser"===
b;case 1:return"minimal-ui"===b;case 2:return"standalone"===b;case 3:return"fullscreen"===b;default:return!1}},Q9(){return this.KK},paa(){return!this.g.Oo()},MZ(){return!0},NZ(){return!0},F8(){return!1},q9(){return!1},aaa(){return!1},caa(){return!1},A9(){return!1},m9(){return!0},Eea(){return!0}};const AI=self.B,BI="portrait landscape portrait-primary portrait-secondary landscape-primary landscape-secondary".split(" ");
AI.j.Za.xa={KV(a){xB(this,"alert",{message:a.toString()})},jW(){this.dz||(this.g.Fb?self.$h.w6():xB(this,"close"))},Q7(){xB(this,"set-focus",{isFocus:!0})},S5(){xB(this,"set-focus",{isFocus:!1})},u8(){this.dz||xB(this,"navigate",{type:"back"})},v8(){this.dz||xB(this,"navigate",{type:"forward"})},w8(){},rba(){if(!this.dz)if(this.g.Fb){var a=this.g;if(!a.Fb)throw Error("not in debug mode");ne(a,"runtime","post-to-debugger",{type:"reload"})}else xB(this,"navigate",{type:"reload"})},y8(a,b){zB(this,"navigate",
{type:"url",url:a,target:b,exportType:this.g.Lf})},z8(a,b){zB(this,"navigate",{type:"new-window",url:a,tag:b,exportType:this.g.Lf})},p_(a,b){2<=a&&(a+=1);6===a&&(a=2);1===a&&(a=0);a=eF(a);var c=this.g.U;if(!NE.has(a))throw Error("invalid fullscreen mode");c.qR=a;a=c.g.jb;tr(a);ur(a);zB(this,"request-fullscreen",{navUI:b})},eW(){zB(this,"exit-fullscreen")},Efa(a){a=a.split(",");for(let b=0,c=a.length;b<c;++b)a[b]=parseInt(a[b],10);zB(this,"vibrate",{pattern:a})},async ax(a,b){a&&b&&(a=await so(this.g.od,
a),this.g.ax(a,b))},gY(a,b,c){c&&(a=`data:${b},${encodeURIComponent(a)}`,this.g.ax(a,c))},Y6(a,b){b=b.toString();0===a?console.log(b):1===a?console.warn(b):2===a&&console.error(b)},W6(a){console.group(a)},X6(){console.groupEnd()},F7(a){try{eval(a)}catch(b){console.error("Error executing JavaScript: ",b)}},r$(a){a=Math.floor(a);0>a||a>=BI.length||zB(this,"lock-orientation",{orientation:BI[a]})},xfa(){zB(this,"unlock-orientation")},rH(a){this.g.od.rH(a)},async A_(a,b,c,d){await yB(this,"set-document-css-style",
{prop:AI.eB(a),value:b,selector:c,"is-all":0!==d})},async h8(a,b,c){a=await yB(this,"get-document-css-style",{prop:a,selector:b});a.isOk&&this.iR.set(c.toLowerCase(),a.result.trim())},nda(a){xB(this,"set-hash",{hash:a})},eea(a,b){xB(this,"set-window-size",{windowWidth:a,windowHeight:b})},dea(a,b){xB(this,"set-window-position",{windowX:a,windowY:b})},async yba(){this.$y=(await yB(this,"request-install")).result;this.ua(AI.j.Za.D.DZ)},bea(a){a=!!a;this.KK!==a&&(this.KK=a,xB(this,"set-warn-on-close",
{enabled:a}))}};
self.B.j.Za.Qa={URL(){return this.g.yd()?this.km:location.toString()},bba(){return this.g.yd()?(new URL(this.km)).protocol:location.protocol},v7(){return this.g.yd()?(new URL(this.km)).hostname:location.hostname},Vaa(){return this.g.yd()?(new URL(this.km)).port:location.port},saa(){return this.g.yd()?(new URL(this.km)).pathname:location.pathname},DX(){return this.g.yd()?(new URL(this.km)).hash:location.hash},fC(){return this.g.yd()?(new URL(this.km)).search:location.search},gba(a){const b=this.g.yd()?
(new URL(this.km)).search:location.search;return(a=RegExp("[?&]"+a+"=([^&]*)").exec(b))?decodeURIComponent(a[1].replace(/\+/g," ")):""},oba(){return this.lT},Yea(){return this.pR},V9(){return navigator.language},W(){return navigator.platform},Bfa(){return navigator.userAgent},E7(a){let b=0;try{b=eval(a)}catch(c){console.error("Error executing JavaScript: ",c)}return"number"===typeof b||"string"===typeof b?b:"boolean"===typeof b?b?1:0:0},Z5(a){return this.iR.get(a)||""},E$(){return navigator.appName},
Dfa(){return navigator.appVersion},$aa(){return navigator.product},Cfa(){return navigator.vendor},N5(){return 1},O5(){return Infinity},M5(){const a=navigator.connection;return a?a.downlink||a.downlinkMax||a.bandwidth||Infinity:Infinity},ConnectionType(){const a=navigator.connection;return a?a.type||"unknown":"unknown"},r7(){return self.devicePixelRatio},zca(){return this.sT},yca(){return this.rT},Rfa(){return this.g.U.Pj},Qfa(){return this.g.U.Oj},Tfa(){return this.FM},Sfa(){return this.FM},u7(){return this.g.U.hD},
e9(){return this.$y}};"use strict";const CI=self.B;CI.j.gamepad=class extends CI.uh{constructor(a){super(a)}m(){super.m()}};const DI=self.B;DI.j.gamepad.Je=class extends DI.Ng{constructor(a){super(a)}m(){super.m()}nc(){}};const EI=self.B;function FI(a,b){b=Math.floor(b);return 0>b||b>=a.by.length?!1:a.by[b]}function GI(a,b){b=Math.floor(b);return 0>b||b>=a.ey.length?!1:a.ey[b]}
class HI{constructor(a,b,c){this.la=a;this.Lb=b;this.f3=new Set(c);this.wg=new II;this.wL=new II;this.by=[];this.ey=[]}vk(a,b){const c=this.wL;this.wL=this.wg;this.wg=c;this.wg.vk(a,b);EI.WA(this.by,this.wg.Cl(),!1);EI.WA(this.ey,this.wg.Cl(),!1);for(let d=0,e=this.wg.Cl();d<e;++d)a=this.wL.Go(d),b=this.wg.Go(d),.5<=b&&.5>a&&(this.by[d]=!0),.5>b&&.5<=a&&(this.ey[d]=!0)}Cl(){return this.wg.Cl()}xB(){return this.wg.xB()}Go(a){return this.wg.Go(a)}iH(a){return.5<=this.wg.Go(a)}Al(a){return this.wg.Al(a)}Fa(){return this.la}}
class II{constructor(){this.TC=[];this.LC=[]}vk(a,b){const c=this.TC;let d=0;for(let e=a.length;d<e;++d){const f=a[d];d===c.length?c.push(f.value):c[d]=f.value}d<c.length&&EI.$e(c,d);EI.wd(this.LC,b)}Cl(){return this.TC.length}xB(){return this.LC.length}Go(a){a=Math.floor(a);return 0>a||a>=this.TC.length?0:this.TC[a]}Al(a){a=Math.floor(a);return 0>a||a>=this.LC.length?0:this.LC[a]}}
function JI(a,b){const c=b.index,d=b.id;b=b.vibrationEffects;a.Mk.has(c)||(a.Mk.set(c,new HI(c,d,b)),a.Sn=c,a.ua(EI.j.gamepad.D.xZ),a.Sn=-1)}function KI(a,b){return a.Mk.get(Math.floor(b))||null}function LI(a,b){return-1===b?[...a.Mk.values()]:(a=a.Mk.get(Math.floor(b)))?[a]:[]}
EI.j.gamepad.Instance=class extends EI.kk{constructor(a,b){super(a,"gamepad");this.lJ=25;this.Uk=0;this.Sn=-1;this.Mk=new Map;b&&(this.lJ=b[0]);this.pw("gamepad-connected",c=>JI(this,c));this.pw("gamepad-disconnected",c=>{this.Sn=c=c.index;this.ua(EI.j.gamepad.D.yZ);this.Sn=-1;this.Mk.delete(c)});this.pw("input-update",c=>{for(const d of c){c=d.index;this.Mk.has(c)||JI(this,d);c=this.Mk.get(c);c.vk(d.buttons,d.axes);for(let e=0,f=c.Cl();e<f;++e)FI(c,e)&&(this.Uk=e)}});a=this.G().cb();this.og=new EI.jB(EI.Gg.bk(a,
"tick2",()=>this.qI()),EI.Gg.bk(a,"suspend",()=>this.pI()),EI.Gg.bk(a,"resume",()=>this.oI()));xB(this,"ready")}m(){super.m()}qI(){for(const a of this.Mk.values())a.by.fill(!1),a.ey.fill(!1)}pI(){xB(this,"suspend")}oI(){xB(this,"resume")}};const MI=self.B;
MI.j.gamepad.D={xZ(){return!0},yZ(){return!0},iH(a,b){a=KI(this,a);if(!a)return!1;if(a=a.iH(b))this.Uk=b;return a},oZ(a,b){a=KI(this,a);if(!a)return!1;if(a=FI(a,b))this.Uk=b;return a},Y$(a,b){a=KI(this,a);if(!a)return!1;if(a=GI(a,b))this.Uk=b;return a},E8(){return 0<this.Mk.size},A6(a,b,c,d){b=Math.floor(b);const e=KI(this,a);if(!e)return!1;a=e.Al(b);b=0===b%2?e.Al(b+1):e.Al(b-1);a*=100;Math.hypot(a,100*b)<=this.lJ&&(a=0);return MI.compare(a,c,d)},L$(a){a=LI(this,a);if(0===a.length)return!1;const b=
this.g,c=b.Ob(),d=c.Mc(),e=b.Ac(),f=ao(e),g=e.Ra(c);bo(b,!1);for(const h of a)for(let k=0,l=h.Cl();k<l;++k)FI(h,k)&&(this.Sn=h.Fa(),this.Uk=k,Uv(d),Zw(c,f,g),Vv(d),this.Sn=-1);bo(b,!0);e.La();return!1},M$(a){a=LI(this,a);if(0===a.length)return!1;const b=this.g,c=b.Ob(),d=c.Mc(),e=b.Ac(),f=ao(e),g=e.Ra(c);bo(b,!1);for(const h of a)for(let k=0,l=h.Cl();k<l;++k)GI(h,k)&&(this.Sn=h.Fa(),this.Uk=k,Uv(d),Zw(c,f,g),Vv(d),this.Sn=-1);bo(b,!0);e.La();return!1},l9(a,b){b=Math.floor(b);a=KI(this,a);if(!a)return!1;
if(a=a.iH(b))this.Uk=b;return a},W$(a,b){b=Math.floor(b);a=KI(this,a);if(!a)return!1;if(a=FI(a,b))this.Uk=b;return a},X$(a,b){b=Math.floor(b);a=KI(this,a);if(!a)return!1;if(a=GI(a,b))this.Uk=b;return a},d8(a,b){a=KI(this,a);if(!a)return!1;a=a.f3;return 0===b?a.has("dual-rumble"):1===b?a.has("trigger-rumble"):!1},Fea(){return!0}};const NI=self.B;
NI.j.gamepad.xa={Ffa(a,b,c,d){xB(this,"vibrate-dual-rumble",{index:a,duration:b,weakMag:NI.X(c/100,0,1),strongMag:NI.X(d/100,0,1)})},Gfa(a,b,c,d,e,f){xB(this,"vibrate-trigger-rumble",{index:a,duration:b,weakMag:NI.X(c/100,0,1),strongMag:NI.X(d/100,0,1),leftMag:NI.X(e/100,0,1),rightMag:NI.X(f/100,0,1)})},mca(a){xB(this,"reset-vibrate",{index:a})}};
self.B.j.gamepad.Qa={a8(){return this.Mk.size},b8(a){return(a=KI(this,a))?a.Lb:""},c8(){return this.Sn},Y7(a){a=KI(this,a);if(!a)return"";let b="";for(let c=0,d=a.xB();c<d;++c)b+=`Axis ${c}: ${Math.round(100*a.Al(c))}\n`;return b},Z7(a){a=KI(this,a);if(!a)return"";let b="";for(let c=0,d=a.Cl();c<d;++c)b+=`Button ${c}: ${Math.round(100*a.Go(c))}\n`;return b},lba(a,b){return(a=KI(this,a))?a.Go(Math.floor(b)):0},jba(a,b){return(a=KI(this,a))?a.Al(Math.floor(b)):0},mba(a){return(a=KI(this,a))?a.Cl():
0},kba(a){return(a=KI(this,a))?a.xB():0},Yj(a,b){return(a=KI(this,a))?100*a.Go(Math.floor(b)):0},F5(a,b){b=Math.floor(b);const c=KI(this,a);if(!c)return 0;a=c.Al(b);b=0===b%2?c.Al(b+1):c.Al(b-1);a*=100;Math.hypot(a,100*b)<=this.lJ&&(a=0);return a},U5(){return this.Uk},W9(){return this.Uk}};"use strict";const OI=self.B;OI.j.Keyboard=class extends OI.uh{constructor(a){super(a)}m(){super.m()}};const PI=self.B;PI.j.Keyboard.Je=class extends PI.Ng{constructor(a){super(a)}m(){super.m()}nc(){}ge(){return self.IX}};
self.IX=class extends self.RB{constructor(a){super(a);a.G().qu.keyboard=this}};const QI=self.B;function RI(a){for(const b of a.$u)a.$u.delete(b),a.Cm=b,a.ua(QI.j.Keyboard.D.kP),a.ua(QI.j.Keyboard.D.yP),a.ua(QI.j.Keyboard.D.xP);a.pz.clear()}
QI.j.Keyboard.Instance=class extends QI.kk{constructor(a){super(a);this.pz=new Set;this.$u=new Set;this.Cm=0;this.qA=this.HF="";a=this.G().cb();this.og=new QI.jB(QI.Gg.bk(a,"keydown",b=>{var c=b.data;b=c.which;const d=c.code||b.toString();c=c.key;this.pz.has(d)||(this.pz.add(d),this.$u.add(b),this.HF=d,this.Cm=b,this.qA=c,this.ua(QI.j.Keyboard.D.lZ),this.ua(QI.j.Keyboard.D.wP),this.ua(QI.j.Keyboard.D.GZ),this.ua(QI.j.Keyboard.D.EZ))}),QI.Gg.bk(a,"keyup",b=>{var c=b.data;b=c.which;const d=c.code||
b.toString();c=c.key;this.pz.delete(d);this.$u.delete(b);this.HF=d;this.Cm=b;this.qA=c;this.ua(QI.j.Keyboard.D.kP);this.ua(QI.j.Keyboard.D.yP);this.ua(QI.j.Keyboard.D.HZ);this.ua(QI.j.Keyboard.D.xP)}),QI.Gg.bk(a,"window-blur",()=>RI(this)),QI.Gg.bk(a,"keyboard-blur",()=>RI(this)))}m(){super.m()}ed(){return{tk:this.Cm,tkk:this.qA}}mc(a){this.Cm=a.tk;a.hasOwnProperty("tkk")&&(this.qA=a.tkk)}};const SI="ShiftLeft ShiftRight ControlLeft ControlRight AltLeft AltRight MetaLeft MetaRight".split(" ");
self.B.j.Keyboard.D={x9(a){return this.$u.has(a)},wP(a){return this.Cm===a},lZ(){return!0},kP(){return!0},yP(a){return this.Cm===a},w9(a){a=Math.floor(a);return this.$u.has(a)},EZ(a){return this.Cm===a},xP(a){return this.Cm===a},GZ(a){return this.HF===SI[a]},HZ(a){return this.HF===SI[a]},y9(a){return this.pz.has(SI[a])}};self.B.j.Keyboard.xa={};
function TI(a){a=Math.floor(a);switch(a){case 8:return"backspace";case 9:return"tab";case 13:return"enter";case 16:return"shift";case 17:return"control";case 18:return"alt";case 19:return"pause";case 20:return"capslock";case 27:return"esc";case 33:return"pageup";case 34:return"pagedown";case 35:return"end";case 36:return"home";case 37:return"\u2190";case 38:return"\u2191";case 39:return"\u2192";case 40:return"\u2193";case 45:return"insert";case 46:return"del";case 91:return"left window key";case 92:return"right window key";
case 93:return"select";case 96:return"numpad 0";case 97:return"numpad 1";case 98:return"numpad 2";case 99:return"numpad 3";case 100:return"numpad 4";case 101:return"numpad 5";case 102:return"numpad 6";case 103:return"numpad 7";case 104:return"numpad 8";case 105:return"numpad 9";case 106:return"numpad *";case 107:return"numpad +";case 109:return"numpad -";case 110:return"numpad .";case 111:return"numpad /";case 112:return"F1";case 113:return"F2";case 114:return"F3";case 115:return"F4";case 116:return"F5";
case 117:return"F6";case 118:return"F7";case 119:return"F8";case 120:return"F9";case 121:return"F10";case 122:return"F11";case 123:return"F12";case 144:return"numlock";case 145:return"scroll lock";case 186:return";";case 187:return"=";case 188:return",";case 189:return"-";case 190:return".";case 191:return"/";case 192:return"'";case 219:return"[";case 220:return"\\";case 221:return"]";case 222:return"#";case 223:return"`";default:return String.fromCharCode(a)}}
self.B.j.Keyboard.Qa={a$(){return this.Cm},uea(a){return TI(a)},qfa(){return this.qA}};"use strict";const UI=self.B;UI.j.xd=class extends UI.uh{constructor(a){super(a)}m(){super.m()}};const VI=self.B;VI.j.xd.Je=class extends VI.Ng{constructor(a){super(a)}m(){super.m()}nc(){}};const WI=self.B;WI.j.xd.Instance=class extends WI.kk{constructor(a){super(a);this.TR=this.xg="";self.isSecureContext||console.error("[Construct] Cryptography object features will not work as this is not a secure context.")}};
const XI=self.B;XI.j.xd.D={AZ(a){return XI.vd(this.xg,a)},kZ(){return!0},uP(a){return XI.vd(this.xg,a)},tP(a){return XI.vd(this.xg,a)},sP(a){return XI.vd(this.xg,a)},rP(a){return XI.vd(this.xg,a)},iZ(){return!0},hZ(){return!0},gZ(){return!0},fZ(){return!0}};const YI=self.B,ZI=["SHA-256","SHA-384","SHA-512"];function $I(a){const b=new TextEncoder("utf-8");a=a.normalize();return crypto.subtle.importKey("raw",b.encode(a),"PBKDF2",!1,["deriveKey"])}
function aJ(a,b,c,d){return crypto.subtle.deriveKey({name:"PBKDF2",salt:b,iterations:c,hash:"SHA-256"},a,{name:"AES-GCM",length:256},!1,[d])}
async function bJ(a,b,c){const d=crypto.getRandomValues(new Uint8Array(16)),e=crypto.getRandomValues(new Uint8Array(12));b=await $I(b);b=await aJ(b,d,c,"encrypt");a=await crypto.subtle.encrypt({name:"AES-GCM",iv:e},b,a);b=new Uint8Array(1+d.byteLength+e.byteLength+4+a.byteLength);const f=new DataView(b.buffer);let g=0;f.setUint8(g,0);g+=1;b.set(d,g);g+=d.byteLength;b.set(e,g);g+=e.byteLength;f.setUint32(g,c);g+=4;b.set(new Uint8Array(a),g);return b.buffer}
async function cJ(a,b){if(33>a.byteLength)throw Error(`data too short (${a.byteLength} bytes)`);var c=new DataView(a);let d=0;var e=c.getUint8(d);d+=1;if(0!==e)throw Error(`unexpected reserved value ${e}`);const f=a.slice(d,d+16);d+=16;e=a.slice(d,d+12);d+=12;c=c.getUint32(d);a=a.slice(d+4);b=await $I(b);b=await aJ(b,f,c,"decrypt");return await crypto.subtle.decrypt({name:"AES-GCM",iv:e},b,a)}
YI.j.xd.xa={async H8(a,b,c){if(a&&(a=yz(a,this.ia))){a=await crypto.subtle.digest(ZI[b],L(a).Rb);b="";a=new Uint8Array(a);for(let d=0,e=a.length;d<e;++d){const f=a[d].toString(16);b+=("0"+f).slice(-2)}this.TR=b;this.xg=c;await this.nb(YI.j.xd.D.kZ);this.xg=c;await this.nb(YI.j.xd.D.AZ)}},async HW(a,b,c,d,e){if(a&&(a=yz(a,this.ia))){a=L(a);try{const f=await bJ(a.Rb.slice(0),c,d);rI(a,f);this.xg=e;await this.nb(YI.j.xd.D.iZ);this.xg=e;await this.nb(YI.j.xd.D.uP)}catch(f){console.warn("[Binary data] Encryption failed: ",
f),this.xg=e,await this.nb(YI.j.xd.D.hZ),this.xg=e,await this.nb(YI.j.xd.D.tP)}}},async AW(a,b,c,d){if(a&&(a=yz(a,this.ia))){a=L(a);try{const e=await cJ(a.Rb,c);rI(a,e);this.xg=d;await this.nb(YI.j.xd.D.gZ);this.xg=d;await this.nb(YI.j.xd.D.sP)}catch(e){console.warn("[Binary data] Decryption failed: ",e),this.xg=d,await this.nb(YI.j.xd.D.fZ),this.xg=d,await this.nb(YI.j.xd.D.rP)}}}};self.B.j.xd.Qa={DX(){return this.TR},Tag(){return this.xg}};"use strict";const dJ=self.B;dJ.j.Wi=class extends dJ.uh{constructor(a){super(a)}m(){super.m()}};
const eJ=self.B;eJ.j.Wi.Je=class extends eJ.Ng{constructor(a){super(a)}m(){super.m()}nc(){}};const fJ=self.B,gJ=self.Nc;function hJ(a,b,c){if(b<a.length)fJ.$e(a,b);else if(b>a.length)if("function"===typeof c)for(var d=a.length;d<b;++d)a.push(c());else for(d=a.length;d<b;++d)a.push(c)}
function iJ(a,b,c,d,e,f){for(;0<c;){const h=Math.floor(a.g.Wp()*c);--c;if(0===b){var g=a.Bf(c,e,f);a.Set(c,e,f,a.Bf(h,e,f));a.Set(h,e,f,g)}else 1===b?(g=a.Bf(d,c,f),a.Set(d,c,f,a.Bf(d,h,f)),a.Set(d,h,f,g)):2===b&&(g=a.Bf(d,e,c),a.Set(d,e,c,a.Bf(d,e,h)),a.Set(d,e,h,g))}}function jJ(a){return JSON.stringify({c2array:!0,size:[a.cc,a.Fc,a.Gc],data:a.Ad})}function kJ(a){return 0<=a.Jk&&a.Jk<a.CD.length?a.CD[a.Jk]:0}function lJ(a){return 0<=a.Jk&&a.Jk<a.FJ.length?a.FJ[a.Jk]:0}
function mJ(a){return 0<=a.Jk&&a.Jk<a.GJ.length?a.GJ[a.Jk]:0}
fJ.j.Wi.Instance=class extends fJ.kk{constructor(a,b){super(a);this.cc=10;this.Gc=this.Fc=1;this.Ad=null;this.CD=[];this.FJ=[];this.GJ=[];this.Jk=-1;b&&(this.cc=b[0],this.Fc=b[1],this.Gc=b[2]);this.Ad=fJ.ji(this.cc,()=>fJ.ji(this.Fc,()=>fJ.ji(this.Gc,0)))}m(){this.Ad=null;super.m()}Bf(a,b,c){a=Math.floor(a);b=Math.floor(b);c=Math.floor(c);return 0<=a&&a<this.cc&&0<=b&&b<this.Fc&&0<=c&&c<this.Gc?this.Ad[a][b][c]:0}Set(a,b,c,d){a=Math.floor(a);b=Math.floor(b);c=Math.floor(c);0<=a&&a<this.cc&&0<=b&&
b<this.Fc&&0<=c&&c<this.Gc&&(this.Ad[a][b][c]=d)}uc(a,b,c){a=Math.floor(a);b=Math.floor(b);c=Math.floor(c);0>a&&(a=0);0>b&&(b=0);0>c&&(c=0);if(this.cc!==a||this.Fc!==b||this.Gc!==c){this.cc=a;this.Fc=b;this.Gc=c;var d=this.Ad;hJ(d,a,()=>fJ.ji(b,()=>fJ.ji(c,0)));for(let e=0;e<a;++e){hJ(d[e],b,()=>fJ.ji(c,0));for(let f=0;f<b;++f)hJ(d[e][f],c,0)}}}M(){return this.cc}K(){return this.Fc}Qm(){return this.Gc}ed(){return{size:[this.cc,this.Fc,this.Gc],data:this.Ad}}mc(a){const b=a.size;this.cc=b[0];this.Fc=
b[1];this.Gc=b[2];this.Ad=a.data}ge(){return self.$w}};const nJ=new WeakMap;self.$w=class extends gJ{constructor(){super();nJ.set(this,L(gJ.Rl()))}get width(){return nJ.get(this).M()}get height(){return nJ.get(this).K()}get depth(){return nJ.get(this).Qm()}};const oJ=self.B;function pJ(a,b,c,d,e){Uv(b);sv(e.I().Y(),e.Z());Zw(a,c,d);Vv(b)}
oJ.j.Wi.D={tW(a,b,c){return oJ.compare(this.Bf(a,0,0),b,c)},S6(a,b,c,d){return oJ.compare(this.Bf(a,b,0),c,d)},T6(a,b,c,d,e){return oJ.compare(this.Bf(a,b,c),d,e)},B5(a){const b=this.g,c=b.Ob(),d=c.Mc(),e=b.Ac(),f=ao(e),g=e.Ra(c),h=++this.Jk,k=this.CD;var l=this.FJ,m=this.GJ;const n=this.cc,p=this.Fc;var q=this.Gc;h===this.CD.length?(k.push(0),l.push(0),m.push(0)):(k[h]=0,l[h]=0,m[h]=0);bo(b,!1);if(0===a)for(a=0;a<n;++a)for(let u=0;u<p;++u)for(let r=0;r<q;++r)k[h]=a,l[h]=u,m[h]=r,pJ(c,d,f,g,this);
else if(1===a)for(m=0;m<n;++m)for(q=0;q<p;++q)k[h]=m,l[h]=q,pJ(c,d,f,g,this);else for(l=0;l<n;++l)k[h]=l,pJ(c,d,f,g,this);bo(b,!0);this.Jk--;e.La();return!1},E6(a,b){return oJ.compare(this.Bf(kJ(this),lJ(this),mJ(this)),a,b)},wW(a){const b=this.cc,c=this.Fc,d=this.Gc,e=this.Ad;for(let f=0;f<b;++f)for(let g=0;g<c;++g)for(let h=0;h<d;++h)if(e[f][g][h]===a)return!0;return!1},cj(){return 0===this.cc||0===this.Fc||0===this.Gc},pW(a,b,c){let d=0;switch(a){case 0:d=this.cc;break;case 1:d=this.Fc;break;case 2:d=
this.Gc}return oJ.compare(d,b,c)}};const qJ=self.B;function rJ(a,b){if("number"===typeof a&&"number"===typeof b)return a-b;a=a.toString();b=b.toString();return a<b?-1:a>b?1:0}
qJ.j.Wi.xa={fe(a){const b=this.cc,c=this.Fc,d=this.Gc,e=this.Ad;for(let f=0;f<b;++f)for(let g=0;g<c;++g)for(let h=0;h<d;++h)e[f][g][h]=a},uc(a,b,c){this.uc(a,b,c)},fj(a,b){this.Set(a,0,0,b)},sk(a,b,c){this.Set(a,b,0,c)},hea(a,b,c,d){this.Set(a,b,c,d)},Ra(a,b,c){var d=this.cc,e=this.Fc;const f=this.Gc,g=this.Ad;if(0===c)d=qJ.ji(e,()=>qJ.ji(f,b)),0===a?g.push(d):g.unshift(d),this.cc++;else if(1===c){for(e=0;e<d;++e)c=qJ.ji(f,b),0===a?g[e].push(c):g[e].unshift(c);this.Fc++}else{for(c=0;c<d;++c)for(let h=
0;h<e;++h)0===a?g[c][h].push(b):g[c][h].unshift(b);this.Gc++}},La(a,b){const c=this.cc;var d=this.Fc,e=this.Gc;const f=this.Ad;if(0===b)0!==c&&(0===a?f.pop():f.shift(),this.cc--);else if(1===b){if(0!==d){for(d=0;d<c;++d)0===a?f[d].pop():f[d].shift();this.Fc--}}else if(0!==e){for(b=0;b<c;++b)for(e=0;e<d;++e)0===a?f[b][e].pop():f[b][e].shift();this.Gc--}},qca(a){const b=this.cc;var c=this.Fc,d=this.Gc;const e=this.Ad;if(0!==b&&0!==c&&0!==d)if(0===a)e.reverse();else if(1===a)for(c=0;c<b;++c)e[c].reverse();
else for(a=0;a<b;++a)for(d=0;d<c;++d)e[a][d].reverse()},jea(a){const b=this.cc;var c=this.Fc,d=this.Gc;const e=this.Ad;if(0!==b&&0!==c&&0!==d)if(0===a)e.sort((f,g)=>rJ(f[0][0],g[0][0]));else if(1===a)for(c=0;c<b;++c)e[c].sort((f,g)=>rJ(f[0],g[0]));else for(a=0;a<b;++a)for(d=0;d<c;++d)e[a][d].sort(rJ)},iea(a){const b=this.cc,c=this.Fc,d=this.Gc;if(0!==b&&0!==c&&0!==d)if(0===a)for(var e=0;e<c;++e)for(var f=0;f<d;++f)iJ(this,a,b,0,e,f);else if(1===a)for(e=0;e<b;++e)for(f=0;f<d;++f)iJ(this,a,c,e,0,f);
else for(e=0;e<b;++e)for(f=0;f<c;++f)iJ(this,a,d,e,f,0)},Eo(a,b){a=Math.floor(a);if(!(0>a)){var c=this.cc,d=this.Fc,e=this.Gc,f=this.Ad;if(0===b)a>=c||(f.splice(a,1),this.cc--);else if(1===b){if(!(a>=d)){for(d=0;d<c;++d)f[d].splice(a,1);this.Fc--}}else if(!(a>=e)){for(b=0;b<c;++b)for(e=0;e<d;++e)f[b][e].splice(a,1);this.Gc--}}},VB(a,b,c){b=Math.floor(b);if(!(0>b)){var d=this.cc,e=this.Fc,f=this.Gc,g=this.Ad;if(0===c)b>d||(g.splice(b,0,qJ.ji(e,()=>qJ.ji(f,a))),this.cc++);else if(1===c){if(!(b>e)){for(e=
0;e<d;++e)g[e].splice(b,0,qJ.ji(f,a));this.Fc++}}else if(!(b>f)){for(c=0;c<d;++c)for(let h=0;h<e;++h)g[c][h].splice(b,0,a);this.Gc++}}},oea(a,b,c){a=a.split(b);this.uc(a.length,1,1);for(let d=0,e=a.length;d<e;++d)b=a[d],0===c?String(Number(b))===b&&(b=Number(b)):2===c&&(b=Number(b)),this.Set(d,0,0,b)},T9(a){let b=null;try{b=JSON.parse(a)}catch(c){console.error("[Construct] Failed to parse JSON: ",c);return}b.c2array&&(a=b.size,this.cc=a[0],this.Fc=a[1],this.Gc=a[2],this.Ad=b.data)},S9(a){const b=
URL.createObjectURL(new Blob([jJ(this)],{type:"application/json"}));this.g.ax(b,a)}};
self.B.j.Wi.Qa={Bf(a,b,c){return this.Bf(a,b||0,c||0)},zQ(){return this.cc},HO(){return this.Fc},q7(){return this.Gc},i7(){return kJ(this)},j7(){return lJ(this)},k7(){return mJ(this)},h7(){return this.Bf(kJ(this),lJ(this),mJ(this))},XW(){return this.Bf(0,0,0)},SV(){return this.Bf(this.cc-1,0,0)},a9(a){const b=this.Ad;for(let c=0,d=this.cc;c<d;++c)if(b[c][0][0]===a)return c;return-1},Z9(a){const b=this.Ad;for(let c=this.cc-1;0<=c;--c)if(b[c][0][0]===a)return c;return-1},yY(a){let b=[];for(let c=0;c<
this.cc;++c)b.push(this.Bf(c,0,0));return b.join(a)},aO(){return jJ(this)}};"use strict";const sJ=self.B;sJ.j.Date=class extends sJ.uh{constructor(a){super(a)}m(){super.m()}};const tJ=self.B;tJ.j.Date.Je=class extends tJ.Ng{constructor(a){super(a)}m(){super.m()}nc(){}};const uJ=self.B;uJ.j.Date.Instance=class extends uJ.kk{constructor(a){super(a)}};
const vJ=self.B,MJ=[[a=>wJ(a),a=>xJ(a),a=>yJ(a),a=>zJ(a),a=>AJ(a),a=>BJ(a),a=>CJ(a),a=>DJ(a)],[a=>EJ(a),a=>FJ(a),a=>GJ(a),a=>HJ(a),a=>IJ(a),a=>JJ(a),a=>KJ(a),a=>LJ(a)]];vJ.j.Date.D={O6(a,b,c){return vJ.compare(a,b,c)},G6(a,b,c){return vJ.compare(vJ.j.Date.Qa.Lt(a),b,vJ.j.Date.Qa.Lt(c))},P6(a,b,c,d){return vJ.compare(MJ[1][d](a),b,MJ[1][d](c))},F6(a,b,c,d,e){return vJ.compare(MJ[e][d](vJ.j.Date.Qa.Lt(a)),b,MJ[e][d](vJ.j.Date.Qa.Lt(c)))}};self.B.j.Date.xa={};const NJ=self.B,OJ=self.Intl,PJ=new Map;
PJ.set("local",new Map([["year",a=>(new Date(a)).getFullYear()],["month",a=>(new Date(a)).getMonth()],["date",a=>(new Date(a)).getDate()],["day",a=>(new Date(a)).getDay()],["hours",a=>(new Date(a)).getHours()],["minutes",a=>(new Date(a)).getMinutes()],["seconds",a=>(new Date(a)).getSeconds()],["milliseconds",a=>(new Date(a)).getMilliseconds()]]));
PJ.set("universal",new Map([["year",a=>(new Date(a)).getUTCFullYear()],["month",a=>(new Date(a)).getUTCMonth()],["date",a=>(new Date(a)).getUTCDate()],["day",a=>(new Date(a)).getUTCDay()],["hours",a=>(new Date(a)).getUTCHours()],["minutes",a=>(new Date(a)).getUTCMinutes()],["seconds",a=>(new Date(a)).getUTCSeconds()],["milliseconds",a=>(new Date(a)).getUTCMilliseconds()]]));const QJ=new Map;
QJ.set("local",new Map([["year",(a,b)=>(new Date(a)).setFullYear(b)],["month",(a,b)=>(new Date(a)).setMonth(b)],["date",(a,b)=>(new Date(a)).setDate(b)],["hours",(a,b)=>(new Date(a)).setHours(b)],["minutes",(a,b)=>(new Date(a)).setMinutes(b)],["seconds",(a,b)=>(new Date(a)).setSeconds(b)],["milliseconds",(a,b)=>(new Date(a)).setMilliseconds(b)]]));
QJ.set("universal",new Map([["year",(a,b)=>(new Date(a)).setUTCFullYear(b)],["month",(a,b)=>(new Date(a)).setUTCMonth(b)],["date",(a,b)=>(new Date(a)).setUTCDate(b)],["hours",(a,b)=>(new Date(a)).setUTCHours(b)],["minutes",(a,b)=>(new Date(a)).setUTCMinutes(b)],["seconds",(a,b)=>(new Date(a)).setUTCSeconds(b)],["milliseconds",(a,b)=>(new Date(a)).setUTCMilliseconds(b)]]));function RJ(a,b,c,d){c.includes(a)&&(d[b]=a)}function SJ(a,b){a&&("12"===a?b.hour12=!0:"24"===a&&(b.hour12=!1))}
function TJ(a){try{return OJ.hha(a)}catch(b){return self.navigator.language}}const UJ=["full","long","medium","short"],VJ=["full","long","medium","short"],WJ=["long","short","narrow"],XJ=["numeric","2-digit"],YJ=["numeric","2-digit","long","short","narrow"],ZJ=["numeric","2-digit"],$J=["numeric","2-digit"],aK=["numeric","2-digit"],bK=["numeric","2-digit"];function wJ(a){return PJ.get("local").get("year")(a)}function xJ(a){return PJ.get("local").get("month")(a)}
function yJ(a){return PJ.get("local").get("date")(a)}function zJ(a){return PJ.get("local").get("day")(a)}function AJ(a){return PJ.get("local").get("hours")(a)}function BJ(a){return PJ.get("local").get("minutes")(a)}function CJ(a){return PJ.get("local").get("seconds")(a)}function DJ(a){return PJ.get("local").get("milliseconds")(a)}function EJ(a){return PJ.get("universal").get("year")(a)}function FJ(a){return PJ.get("universal").get("month")(a)}
function GJ(a){return PJ.get("universal").get("date")(a)}function HJ(a){return PJ.get("universal").get("day")(a)}function IJ(a){return PJ.get("universal").get("hours")(a)}function JJ(a){return PJ.get("universal").get("minutes")(a)}function KJ(a){return PJ.get("universal").get("seconds")(a)}function LJ(a){return PJ.get("universal").get("milliseconds")(a)}
NJ.j.Date.Qa={n0(a){return(new Date(a)).toString()},$ea(a){return(new Date(a)).toDateString()},dfa(a){return(new Date(a)).toTimeString()},bfa(a){return(new Date(a)).toLocaleString()},afa(a){return(new Date(a)).toLocaleDateString()},cfa(a){return(new Date(a)).toLocaleTimeString()},ifa(a){return(new Date(a)).toUTCString()},Lt(a){return Date.parse(a)},T(a,b,c,d,e,f,g){return Date.UTC(a,b,c,d,e,f,g)},$Y(){return Date.now()},Xea(){return(new Date(Date.now())).getTimezoneOffset()},t6(a,b){return QJ.get("local").get("year")(a,
b)},s6(a,b){return QJ.get("universal").get("year")(a,b)},i6(a,b){return QJ.get("local").get("month")(a,b)},q6(a,b){return QJ.get("universal").get("month")(a,b)},c6(a,b){return QJ.get("local").get("date")(a,b)},l6(a,b){return QJ.get("universal").get("date")(a,b)},d6(a,b){const c=wJ(a),d=xJ(a),e=yJ(a),f=AJ(a),g=BJ(a),h=CJ(a),k=DJ(a);a=zJ(a);return(new Date(c,d,e+(b-a),f,g,h,k)).getTime()},m6(a,b){const c=EJ(a),d=FJ(a),e=GJ(a),f=IJ(a),g=JJ(a),h=KJ(a),k=LJ(a);a=HJ(a);return NJ.j.Date.Qa.T(c,d,e+(b-a),
f,g,h,k)},e6(a,b){return QJ.get("local").get("hours")(a,b)},n6(a,b){return QJ.get("universal").get("hours")(a,b)},h6(a,b){return QJ.get("local").get("minutes")(a,b)},p6(a,b){return QJ.get("universal").get("minutes")(a,b)},j6(a,b){return QJ.get("local").get("seconds")(a,b)},r6(a,b){return QJ.get("universal").get("seconds")(a,b)},g6(a,b){return QJ.get("local").get("milliseconds")(a,b)},o6(a,b){return QJ.get("universal").get("milliseconds")(a,b)},t7(a,b){return b-a},efa(a){return Math.trunc(a/36E5)},
gfa(a){return Math.trunc(a/6E4)%60},hfa(a){return Math.trunc(a/1E3)%60},ffa(a){return a%1E3},V7(a,b,c,d,e){if(a=TJ(a)){var f={};RJ.call(this,c,"dateStyle",UJ,f);RJ.call(this,d,"timeStyle",VJ,f);SJ.call(this,e,f);return(new OJ.DateTimeFormat(a,f)).format(b)}},U7(a,b,c,d,e,f,g,h,k,l){if(a=TJ(a)){var m={};RJ.call(this,c,"weekday",WJ,m);RJ.call(this,d,"year",XJ,m);RJ.call(this,e,"month",YJ,m);RJ.call(this,f,"day",ZJ,m);RJ.call(this,g,"hour",$J,m);RJ.call(this,h,"minute",aK,m);RJ.call(this,k,"second",
bK,m);SJ.call(this,l,m);return(new OJ.DateTimeFormat(a,m)).format(b)}}};"use strict";const cK=self.B;cK.j.hc=class extends cK.uh{constructor(a){super(a)}m(){super.m()}};const dK=self.B,eK=[];function fK(a){for(const b of dm(a.J))gK(L(b))}function hK(a,b){b=HC(a.I(),b);const c=a.G();mC(b,0).Hd().Sq(c.za(),{qc:c.Yb}).then(()=>fK(a))}
function iK(a,b,c){var d=GC(a.J,b);if(!d)throw Error(`cannot find animation name '${b}'`);c=pC(d,c);0>c&&(c+=pn(d)+1);b=dK.cB.nB(a.G());nC(d,b,c);d=a.G();b.Hd().Sq(d.za(),{qc:d.Yb}).then(()=>fK(a));for(const e of dm(a.J))jK(L(e))}
dK.j.hc.Je=class extends dK.Ng{constructor(a){super(a);this.fd=a.fd}m(){dK.H(this.fd);super.m()}nc(){for(const c of this.fd){var a=c,b=this.g;for(const d of a.Xd)hC(d.Hd(),b)}}Ht(a){const b={qc:this.g.Yb};return Promise.all(this.fd.map(c=>lC(c,a,b)))}Zq(){for(const a of this.fd)for(const b of a.Xd)b.Hd().Kl()}aC(){fK(this)}Aw(a){dK.j.hc.NW(this,a)}AG(){eK.push({wN:null,rU:!1,KA:[]})}xG(){const a=eK.pop(),b=a.wN,c=a.rU;if(b){var d=new Map;for(const e of a.KA)cD(e,d,b,c);for(const [e,f]of d)pv(e.Y(),
f)}}ge(){return self.OX}};const kK=new WeakMap;self.OX=class extends self.RB{constructor(a){super(a);kK.set(this,a.vb)}};const lK=self.B,mK=self.bf,nK=lK.A(lK.Rect),oK=lK.A(lK.Jd),pK=lK.A(lK.hr);function gK(a){const b=a.Le.Hd();a.mf=b.lc();a.jJ=b.fk();a.ty=b.LB();a.C().Ab(65536,!0)}function jK(a){if(!a.An&&-1===a.ou){var b=a.Le,c=mC(a.Bb,lK.X(a.Jb,0,pn(a.Bb)-1));b!==c&&qK(a,b,c);1<pn(a.Bb)&&0<a.vi&&a.hj()}}
function rK(a,b){const c=a.Le;var d=GC(a.J,a.An);a.An="";!d||d===a.Bb&&bD(a.ia,2)||(a.Bb=d,aD(a.ia,1,0<=d.Ls),a.vi=Math.abs(d.Ls),a.su=d.nT,a.Jb=lK.X(a.Jb,0,pn(a.Bb)-1),1===a.ZI&&(a.Jb=0),aD(a.ia,2,!0),a.Kk=a.$o.T(),d=mC(a.Bb,a.Jb),qK(a,c,d,b))}function sK(a){const b=a.Le;var c=a.Jb;a.Jb=lK.X(Math.floor(a.ou),0,pn(a.Bb)-1);a.ou=-1;c!==a.Jb&&(c=mC(a.Bb,a.Jb),qK(a,b,c),a.Kk=a.$o.T())}
function tK(a,b){a.Jb=b?0:pn(a.Bb)-1;aD(a.ia,2,!1);a.KI=a.Bb.ea();aD(a.ia,4,!0);a.xl("animationend",!1,{animationName:a.KI});a.ua(lK.j.hc.D.dZ);a.ua(lK.j.hc.D.cZ);aD(a.ia,4,!1);a.Ul=0}
function qK(a,b,c,d){if(b!==c){var e=a.C(),f=b.Hd();b=c.Hd();var g=f.M();f=f.K();var h=b.M(),k=b.K();d&&d.A4?d.A4(e,g,f,h,k):(g!==h&&e.Og(e.M()*(h/g)),f!==k&&e.vh(e.K()*(k/f)));e.Xk=+c.$i();e.Yk=+c.aj();pE(e,c.Cr);K(e);a.Le=c;a.mf=b.lc();a.jJ=b.fk();a.ty=b.LB();c=a.Z().Kd;for(let l=0,m=c.length;l<m;++l);a.xl("framechange",!1,{animationName:a.Bb.ea(),kU:a.Jb});a.ua(lK.j.hc.D.wZ);a.g.ba()}}function uK(a){return a.An?a.An:a.Bb.ea()}
function vK(a,b){if("string"===typeof b)if(String(Number(b))===b)b=Number(b);else{const c=GC(a.J,uK(a));if(!c)return;b=oC(c,b);if(-1===b)return}isFinite(b)&&(a.ou=b,bD(a.ia,4)||sK(a))}function wK(a,b){b=Math.floor(b);a=a.C();var c=UD(a);const d=c.Be.length/2;b===d&&(b=0);if(0>b||b>=d)return[0,0];c=c.Be;return[c[2*b]+a.Ga(),c[2*b+1]+a.Ha()]}
lK.j.hc.Instance=class extends lK.KH{constructor(a,b){super(a);let c=!0,d="",e=0,f=!0;b&&(c=!!b[0],d=b[1],e=b[2],f=b[3]);this.Bb=GC(this.J,d)||this.J.fd[0];this.Jb=lK.X(e,0,pn(this.Bb)-1);this.Le=mC(this.Bb,this.Jb);b=this.Le.Hd();this.mf=b.lc();this.jJ=b.fk();this.ty=b.LB();BB(this);aD(a,2,!0);aD(a,1,0<=this.Bb.Ls);this.vi=Math.abs(this.Bb.Ls);this.su=this.Bb.nT;this.$o=lK.A(lK.ix);this.Ul=this.Kk=0;this.KI="";this.ou=-1;this.An="";this.ZI=0;a=this.C();this.s1=SD(a);a.qe(c);nE(a,f);a.Xk=+this.Le.$i();
a.Yk=+this.Le.aj();pE(a,this.Le.Cr);K(a);1===this.J.fd.length&&1===pn(this.J.fd[0])||0===this.vi||this.hj()}m(){this.$o=this.mf=this.Le=this.Bb=null;super.m()}ei(){return this.Le.Hd()}ik(){return!0}Kt(){this.mf=null}CP(){gK(this)}ci(a){var b=this.mf;null!==b&&(a.ie(b),b=this.C(),tA(b)?this.gI(b,a):this.hI(b,a))}hI(a,b){let c=this.s1;this.g.Qn&&(c=oE(a,c));b.AH(c,this.ty)}gI(a,b){const c=qE(a);if(0!==(a.F&65536)){PD(a,nK,oK,!1);let d=oK;this.g.Qn&&(d=oE(a,d));mh(c,uA(a),d,this.ty);a.Ab(65536,!1)}c.ci(b)}Qg(){this.An&&
rK(this);0<=this.ou&&sK(this);const a=this.vi;if(bD(this.ia,2)&&0!==a){this.$o.Gb(Ul(this.g,this.ia));var b=this.$o.T(),c=this.Le,d=c.Dy/a;if(!(b<this.Kk+d)){var e=this.Bb,f=this.su,g=pn(e),h=e.fi(),k=e.lE,l=e.o2;bD(this.ia,1)?this.Jb++:this.Jb--;this.Kk+=d;this.Jb>=g&&(l?(aD(this.ia,1,!1),this.Jb=g-2):k?this.Jb=f:(this.Ul++,this.Ul>=h?tK(this,!1):this.Jb=f));0>this.Jb&&(l?(this.Jb=1,aD(this.ia,1,!0),k||(this.Ul++,this.Ul>=h&&tK(this,!0))):k?this.Jb=f:(this.Ul++,this.Ul>=h?tK(this,!0):this.Jb=f));
this.Jb=lK.X(this.Jb,0,g-1);d=mC(e,this.Jb);b>this.Kk+d.Dy/a&&(this.Kk=b);qK(this,c,d)}}else this.Xt()}lc(){return this.mf}fk(){return this.jJ}LB(){return this.ty}SG(){return this.Le.SG()}Jo(a){const b=this.Le,c=this.C();if("string"===typeof a)a=b.ZR.get(a.toLowerCase())||null;else if("number"===typeof a)a=Math.floor(a-1),a=0>a||a>=b.RD.length?null:b.RD[a];else throw new TypeError("expected string or number");let d=dq(c);if(!a)return[c.Ga(),c.Ha(),d];pK.wa(a.GL);if(tA(c)){const [e,f,g]=ph(uA(c),pK.ka,
pK.ca);pK.set(e,f);d+=g}pK.offset(-b.$i(),-b.aj());pK.scale(c.M(),c.K());pK.rotate(c.fb());pK.offset(c.Ga(),c.Ha());return[pK.ka,pK.ca,d]}ed(){const a={a:this.Bb.lb};0!==this.Kk&&(a.fs=this.Kk);var b=this.$o.T();0!==b&&(a.at=b);0!==this.Jb&&(a.f=this.Jb);0!==this.vi&&(a.cas=this.vi);1!==this.Ul&&(a.ar=this.Ul);0!==this.su&&(a.rt=this.su);bD(this.ia,2)||(a.ap=bD(this.ia,2));bD(this.ia,1)||(a.af=bD(this.ia,1));b=this.C();b.gk()&&(a.ce=b.gk());return a}mc(a){var b=this.I();if(!b.fd)throw Error("no animations");
if(b=b.bu.get(a.a)||null)this.Bb=b;this.Kk=a.hasOwnProperty("fs")?a.fs:0;this.$o.Set(a.hasOwnProperty("at")?a.at:0);b=a.hasOwnProperty("f")?a.f:0;this.Jb=lK.X(b,0,pn(this.Bb)-1);this.vi=a.hasOwnProperty("cas")?a.cas:0;this.Ul=a.hasOwnProperty("ar")?a.ar:1;b=a.hasOwnProperty("rt")?a.rt:0;this.su=lK.X(b,0,pn(this.Bb)-1);b=a.hasOwnProperty("ap")?!!a.ap:!0;aD(this.ia,2,b);b=a.hasOwnProperty("af")?!!a.af:!0;aD(this.ia,1,b);this.Le=b=mC(this.Bb,this.Jb);gK(this);const c=this.C();c.Xk=+b.$i();c.Yk=+b.aj();
pE(c,b.Cr);nE(c,!!a.ce);bD(this.ia,2)&&this.hj()}cd(a){const b=this.C();switch(a){case 3:return b.gk();case 2:return lK.X(this.Jb,0,pn(this.Bb)-1);case 1:return this.Bb.ea()}}xh(a,b,c){var d=this.C();switch(a){case 3:nE(d,!!b);break;case 2:aD(this.ia,2,!1);a=pn(this.Bb)-1;d=b=lK.X(b,0,a);b=mC(this.Bb,this.Jb);const e=mC(this.Bb,d);qK(this,b,e,c);this.Jb=lK.X(d,0,a);break;case 1:this.An=b,rK(this,c),1<pn(this.Bb)&&0<this.Bb.Ls?this.hj():this.Xt()}}ge(){return self.RO}};const xK=new WeakMap;
self.RO=class extends self.SB{constructor(){super();xK.set(this,L(self.Nc.Rl()))}get animation(){return xK.get(this).Bb.a2}get animationName(){return uK(xK.get(this))}set kU(a){mK.gf(a);vK(xK.get(this),a)}get kU(){return xK.get(this).Jb}get imageWidth(){return xK.get(this).ei().M()}get imageHeight(){return xK.get(this).ei().K()}};const yK=self.B;
yK.j.hc.D={i9(a){return yK.vd(uK(this),a)},I6(a,b){return yK.compare(this.Jb,a,b)},J6(a,b){return"string"!==typeof b?!1:yK.compare(this.Le.$d.toLowerCase(),a,b.toLowerCase())},z6(a,b){return yK.compare(bD(this.ia,1)?this.vi:-this.vi,a,b)},cZ(a){return yK.vd(this.KI,a)},dZ(){return!0},wZ(){return!0},B9(){return 0>this.C().M()},t9(){return 0>this.C().K()},vH(){return!0},FP(){return!0},gk(){return this.C().gk()}};const zK=self.B;
zK.j.hc.xa={nea(a,b,c,d,e){if(a&&b){var [f,g]=this.Jo(c);if(c=fm(this.g,a,b,f,g,d,e))d&&bp(b,c),a.Ua().cn()&&(b=c.C(),b.He(this.C().fb()),K(b)),b=this.g.pa(),gm(b,!0),hm(c),gm(b,!1),a!==this.g.Ew().I()&&(b=eK.at(-1),b.wN=a,b.rU=d,b.KA.push(c))}},sea(){aD(this.ia,2,!1)},pea(a){aD(this.ia,2,!0);this.Kk=this.$o.T();1===a&&0!==this.Jb&&(this.ou=0,bD(this.ia,4)||sK(this));this.hj()},w_(a,b){this.An=a;this.ZI=b;this.hj();bD(this.ia,4)||rK(this)},Gca(a){vK(this,a)},Ica(a){this.vi=Math.abs(a);aD(this.ia,
1,0<=a);0<this.vi&&this.hj()},Hca(a){a:{if("string"===typeof a&&(a=oC(this.Bb,a),-1===a))break a;this.su=a=lK.X(Math.floor(a),0,pn(this.Bb)-1)}},HV(a,b){try{if(0===a)hK(this.vb,b);else{var c=this.vb;for(const h of dm(c.J)){var d=L(h);if(lK.vd(b,uK(d))){var e=IC(d.J).ea();d.An=e;d.ZI=1;d.hj();rK(d)}}var f=c.I();const g=GC(f,b);if(!g)throw Error(`animation name '${b}' does not exist`);if(1===f.fd.length)throw Error("cannot remove last animation");f.fd.splice(f.fd.indexOf(g),1);f.au.delete(g.ea().toLowerCase());
f.bu.delete(g.lb);g.m()}}catch(g){console.error(`[Construct] Error ${0===a?"adding":"removing"} animation: `,g)}},p5(a,b,c){try{if(0===a)iK(this.vb,b,c);else{var d=this.vb;const f=GC(d.J,b);if(!f)throw Error(`cannot find animation name '${b}'`);if(1===pn(f))throw Error(`cannot remove last frame from animation '${b}'`);var e=pC(f,c);0>e&&(e+=pn(f));b=f;e=Math.floor(e);if(0>e||e>=b.Xd.length)throw new RangeError("invalid frame");b.Xd[e].m();b.Xd.splice(e,1);for(const g of dm(d.J))jK(L(g))}}catch(f){console.error(`[Construct] Error ${0===
a?"adding":"removing"} animation frame: `,f)}},Mda(a){const b=this.C(),c=b.M();a=Math.abs(c)*(0===a?-1:1);c!==a&&(b.Og(a),K(b))},bda(a){const b=this.C(),c=b.K();a=Math.abs(c)*(0===a?-1:1);c!==a&&(b.vh(a),K(b))},QH(a){const b=this.Le.Hd(),c=this.C();var d=0>c.M()?-1:1;const e=0>c.K()?-1:1;d*=b.M()*a;a=b.K()*a*e;if(c.M()!==d||c.K()!==a)c.uc(d,a),K(c)},async HY(a,b){const c=this.Le.Hd(),d=this.C(),e=this.g,f=this.vb;if(c.Kq()===a)0===b&&(d.uc(c.M(),c.K()),K(d)),this.ua(zK.j.hc.D.vH);else{var g=zK.A(zK.UB);
try{if(g.sd)throw Error("already loaded asset");g.Em=a;const h={};dC.hH(a)&&(h.jw="remote");hC(g,e,h);await xo(g.sd);if(!g.nH())throw Error("image failed to load");if(this.kn()){g.m();return}await g.Sq(e.za(),{qc:e.Yb})}catch(h){console.error("Load image from URL failed: ",h);this.kn()||this.ua(zK.j.hc.D.FP);return}if(this.kn())g.m();else{if(g===c)throw Error("cannot replace with self");c.RJ++;c.Kl();c.Em=g.Em;c.xm=g.xm;c.us=g.us;c.vs=g.vs;c.P=g.P;c.S=g.S;c.Ap=g.Ap;c.Ry=g.Ry;c.sd=g.sd;c.zm=g.zm;c.Mi=
g.Mi;c.Ds=g.Ds;fC(c);fK(f);f.I().cb().dispatchEvent(new zK.Event("animationframeimagechange"));e.ba();0===b&&(d.uc(c.M(),c.K()),K(d));await this.nb(zK.j.hc.D.vH)}}},Pca(a){nE(this.C(),a)},RH(a,b){this.C().RH(0===a,b)},B_(a){this.C().Ie(a);this.g.ba()}};
self.B.j.hc.Qa={u5(){return this.Jb},w5(){return this.Le.$d},v5(){return pn(this.Bb)},x5(){return this.Bb.ea()},y5(){return bD(this.ia,1)?this.vi:-this.vi},naa(){return this.Bb.Ls},V8(a){return this.Jo(a)[0]},W8(a){return this.Jo(a)[1]},X8(a){return this.Jo(a)[2]},U8(){return this.SG()},Y8(){return this.ei().M()},T8(){return this.ei().K()},Paa(a){return wK(this,a)[0]},Qaa(a){return wK(this,a)[1]},Oaa(){return UD(this.C()).Be.length/2}};"use strict";const AK=self.B;
AK.j.HTMLElement=class extends AK.JH{constructor(a){super(a,"html-element");tB(this,"initial-content",(b,c)=>{b.im=c.html;b.eq=c.text});tB(this,"click",(b,c)=>b.Kx(c));tB(this,"animationend",(b,c)=>BK(b,c))}m(){super.m()}};const CK=self.B;CK.j.HTMLElement.Je=class extends CK.Ng{constructor(a){super(a)}m(){super.m()}nc(){}};const DK=self.B;
async function BK(a,b){a.ll=b.targetId;a.kl=b.targetClass;a.gD=b.animationName;a.xl("animationend",!0,{targetId:a.ll,targetClass:a.kl,animationName:a.gD});await a.nb(DK.j.HTMLElement.D.pZ);a.ll="";a.kl="";a.gD=""}function EK(a,b){let c="html";"bbcode"===b?a=rf(DK.A(DK.Nm,a,{pU:!0})):"text"===b&&(c="text");return{contentType:c,Vj:a}}async function FK(a,b,c){b=await DB(a,b,c);b.isOk&&(a.im=b.html,a.eq=b.text)}
async function GK(a,b,c="html",d="",e=!1){const {contentType:f,Vj:g}=EK(b,c);if(!d)if("html"===f){if("html"===a.Yy&&a.im===g)return;a.im=g}else if("text"===f){if("text"===a.Yy&&a.eq===g)return;a.eq=g}await FK(a,"set-content",{str:g,type:f,selector:d,"is-all":e})}async function HK(a,b,c="html",d=!0,e="",f=!1){if(b){var {contentType:g,Vj:h}=EK(b,c);await FK(a,"insert-content",{str:h,type:g,"at-end":d,selector:e,"is-all":f})}}
async function IK(a,b,c=!1,d=!1){await FK(a,"remove-content",{selector:b,"is-clear":c,"is-all":d})}async function JK(a,b,c,d,e=!1){await FK(a,"set-content-class",{mode:b,"class-array":c,selector:d,"is-all":e})}async function KK(a,b,c,d,e,f=!1){await FK(a,"set-content-attribute",{mode:b,attribute:c,value:d,selector:e,"is-all":f})}async function LK(a,b,c,d,e=!1){await FK(a,"set-content-css-style",{prop:DK.eB(b),value:c,selector:d,"is-all":e})}
async function MK(a,b,c){var d=await DB(a,"get-element-box",{selector:c});if(d.isOk){var e=a.g.U;a=d.left-e.zB();c=d.top-e.AB();var f=d.right-e.zB();d=d.bottom-e.AB();for(const g of b){b=g.C();if(!b)continue;e=b.aa();const [h,k]=vp(e,a,c,b.hb()),[l,m]=vp(e,f,d,b.hb());if(!(isFinite(h)&&isFinite(k)&&isFinite(l)&&isFinite(m)))continue;e=l-h;const n=m-k,p=h+b.$i()*e,q=k+b.aj()*n;if(b.Ga()!==p||b.Ha()!==q||b.M()!==e||b.K()!==n)b.sk(p,q),b.uc(e,n),K(b)}}}
async function NK(a,b,c,d,e,f){var g=b.C();b=b.ei();g&&b&&(g=await jC(b),c=await DB(a,"insert-img-element",{blobUrl:g,width:b.M(),height:b.K(),selector:c,insertAt:d,id:e,"class":f}),c.isOk&&(a.im=c.html,a.eq=c.text))}async function OK(a,b,c,d){await DB(a,"set-scroll-position",{selector:b,direction:c,position:d})}
DK.j.HTMLElement.Instance=class extends DK.IH{constructor(a,b){super(a,"html-element");this.$d="div";a=this.gD=this.kl=this.ll=this.Yl=this.Lb=this.eq=this.im="";this.Yy="html";var c=!1;let d=0,e=!1,f=DK.A(DK.bb),g=!1,h=DK.A(DK.bb);this.Ak=!0;this.XQ=0;let k=!1,l="";b&&(this.$d=b[0]||"div",a=b[1],c=b[2],1===c?a=rf(DK.A(DK.Nm,a,{pU:!0})):2===c&&(this.Yy="text"),this.C().qe(b[3]),this.Lb=b[4],this.Yl=b[5],c=b[6],d=b[7],e=b[9],Bd(f,b[10]),g=b[11],Bd(h,b[12]),this.Ak=b[13],k=b[14],l=b[15]);"html"===this.Yy?
this.im=a:this.eq=a;HB(this,{tag:this.$d,str:a,type:this.Yy,id:this.Lb,className:this.Yl,"allow-context-menu":c,"stop-input-events-mode":d,"css-color":e?yd(f):"","css-background-color":g?yd(h):"","allow-text-selection":k,"style-attribute":l})}m(){super.m()}Iw(){return{html:this.im}}async Kx(a){a=a.chain;for(var b of a)this.ll=b.targetId,this.kl=b.targetClass,this.xl("click",!0,{targetId:this.ll,targetClass:this.kl}),this.ll&&await this.nb(DK.j.HTMLElement.D.sZ),this.kl&&await this.nb(DK.j.HTMLElement.D.rZ);
0<a.length?(b=a[0],this.ll=b.targetId,this.kl=b.targetClass):this.kl=this.ll="";await this.nb(DK.j.HTMLElement.D.Jt);this.kl=this.ll=""}ci(){}ed(){return{t:this.$d,h:this.im,id:this.Lb,c:this.Yl}}mc(a){this.$d=a.t;this.im=a.h;this.Lb=a.id;this.Yl=a.c;IB(this)}cd(){}xh(){}ge(){return self.cH}};const PK=new WeakMap;self.cH=class extends self.aH{constructor(){super();PK.set(this,L(self.Nc.Rl()))}get textContent(){return PK.get(this).eq}set textContent(a){GK(PK.get(this),a,"text","",!1)}};const QK=self.B;
QK.j.HTMLElement.D={Jt(){return!0},sZ(a){return QK.vd(this.ll,a)},rZ(a){const b=this.kl.toLowerCase().split(" ");return a.toLowerCase().split(" ").every(c=>b.includes(c))},pZ(a){return QK.vd(this.gD,a)}};const RK=["html","bbcode","text"],SK=["add","toggle","remove"],TK=["set","remove"];
self.B.j.HTMLElement.xa={z_(a,b,c,d){return GK(this,b,RK[a],c,0!==d)},c9(a,b,c,d,e){return HK(this,b,RK[a],0!==c,d,0!==e)},k_(a,b,c){return IK(this,b,0!==a,0!==c)},Sca(a,b,c,d){return JK(this,SK[a],b.split(" "),c,0!==d)},Qca(a,b,c,d,e){return KK(this,TK[a],b,c.toString(),d,0!==e)},Rca(a,b,c,d){return LK(this,a,b,c,0!==d)},Waa(a,b){if(a)return MK(this,a.Y().qa(),b)},g7(a,b,c,d,e){if(a&&(a=yz(a)))return NK(this,a,b,c,d,e)},Xda(a,b,c){return OK(this,a,["left","top"][b],c)}};const UK=self.B;
UK.j.HTMLElement.Qa={B8(){return this.im},Tea(){return this.eq},Qea(){return this.ll},Pea(){return this.kl},tB(a){return UK.tB(a.toString())}};"use strict";const VK=self.B;VK.j.Id=class extends VK.uh{constructor(a){super(a)}m(){super.m()}};const WK=self.B;WK.j.Id.Je=class extends WK.Ng{constructor(a){super(a)}m(){super.m()}nc(){}};const XK=self.B,YK=self.Nc;function ZK(a){a.Xv[0]=null;a.Xv[1]=null}
function $K(a,b,c){a=a.Xv[0];if(null===b||null===a)return!1;if(a===b||XK.n3(a,b))return!0;if(c&&0<a.length){for(let d=0,e=Math.min(b.length,a.length);d<e;++d)if(b[d]!==a[d])return!1;return!0}return!1}function aL(a){a.lv[0]=null;a.lv[1]=null}
function bL(a,b){const c=[];let d=!1,e;if(a.lv[0]===b)return a.lv[1];"."===b[0]?(e=XK.xo(a.Zk),b=b.slice(1)):e=[];for(const f of b)d?(c.push(f),d=!1):"\\"===f?d=!0:"."===f?(e.push(c.join("")),XK.H(c)):c.push(f);0!==c.length&&e.push(c.join(""));a.lv[0]=b;return a.lv[1]=e}
function cL(a,b,c){if($K(a,b,!1))return a.Xv[1];let d=a.nf;for(const f of b)if(Array.isArray(d)){var e=parseInt(f,10);if(0>e||e>=d.length||!isFinite(e)){d=null;break}d=d[e]}else if("object"===typeof d&&null!==d)if(d.hasOwnProperty(f))d=d[f];else if(c)e={},d=d[f]=e;else{d=null;break}else{d=null;break}a.Xv[0]=b;return a.Xv[1]=d}
function dL(a,b){const c=XK.xo(bL(a,b));if(!c.length)return a.nf;b=c.pop();a=cL(a,c,!1);return Array.isArray(a)?(b=parseInt(b,10),0<=b&&b<a.length?a[b]:null):"object"===typeof a&&null!==a?a.hasOwnProperty(b)?a[b]:null:null}function eL(a){return null===a?"null":Array.isArray(a)?"array":typeof a}function fL(a,b){a=dL(a,b);return eL(a)}function gL(a){const b=typeof a;return"number"===b||"string"===b?a:"boolean"===b?a?1:0:0}
function hL(a,b,c){const d=XK.xo(bL(a,b));d.length&&($K(a,d,!0)&&ZK(a),b=d.pop(),a=cL(a,d,!0),Array.isArray(a)?(b=parseInt(b,10),!isFinite(b)||0>b||b>=a.length||(a[b]=c)):"object"===typeof a&&null!==a&&(a[b]=c))}XK.j.Id.Instance=class extends XK.kk{constructor(a){super(a);this.Xv=[null,null];this.lv=[null,null];this.nf={};this.Zk=[];this.kD="";this.uy=0}m(){super.m()}ed(){return{path:this.Zk,data:this.nf}}mc(a){ZK(this);aL(this);this.Zk=a.path;this.nf=a.data}ge(){return self.dH}};const iL=new WeakMap;
self.dH=class extends YK{constructor(){super();iL.set(this,L(YK.Rl()))}};const jL=self.B,kL="null boolean number string object array".split(" ");
jL.j.Id.D={BX(a){var b=XK.xo(bL(this,a));b.length?(a=b.pop(),b=cL(this,b,!1),Array.isArray(b)?(a=parseInt(a,10),a=0<=a&&a<b.length):a="object"===typeof b&&null!==b?b.hasOwnProperty(a):!1):a=!1;return a},Q6(a,b){return fL(this,a)===kL[b]},qW(a,b,c){return jL.compare(gL(dL(this,a)),b,c)},lY(a){return!0===dL(this,a)},WW(a){const b=dL(this,a);if("object"!==typeof b||null===b)return!1;const c=this.g,d=c.Ob(),e=d.Mc(),f=c.Ac(),g=ao(f),h=f.Ra(d),k=this.Zk,l=this.kD,m=this.uy;a=bL(this,a);bo(c,!1);for(const [n,
p]of Object.entries(b))this.Zk=jL.xo(a),this.Zk.push(n),this.kD=n,this.uy=p,Uv(e),sv(this.I().Y(),this.Z()),Zw(d,g,h),Vv(e);bo(c,!0);this.Zk=k;aL(this);this.kD=l;this.uy=m;f.La();return!1},uH(){return!0}};const lL=self.B;
lL.j.Id.xa={Lt(a){try{this.nf=JSON.parse(a),ZK(this),this.Zk=bL(this,""),aL(this)}catch(b){console.warn("[JSON plugin] Failed to parse JSON data: ",b),this.nf={},ZK(this),this.Zk=bL(this,""),aL(this),this.ua(lL.j.Id.D.uH)}},Qda(a){this.Zk=bL(this,a);aL(this)},pe(a,b){hL(this,a,b)},Jca(a,b){let c=dL(this,a);Array.isArray(c)?lL.WA(c,b,0):(c=[],lL.IA(c,b,0),hL(this,a,c))},Oda(a){hL(this,a,{})},E_(a,b){let c=null;try{c=JSON.parse(b)}catch(d){console.warn("[JSON plugin] Failed to parse JSON data: ",d),
this.ua(lL.j.Id.D.uH)}hL(this,a,c)},Nda(a){hL(this,a,null)},y_(a,b){hL(this,a,0!==b)},lfa(a){const b=dL(this,a);"boolean"===typeof b&&hL(this,a,!b)},q5(a,b){const c=dL(this,a);"number"===typeof c&&hL(this,a,c+b)},Dea(a,b){const c=dL(this,a);"number"===typeof c&&hL(this,a,c-b)},p7(a){var b=XK.xo(bL(this,a));b.length&&($K(this,b,!0)&&ZK(this),a=b.pop(),b=cL(this,b,!1),Array.isArray(b)||"object"===typeof b&&null!==b&&delete b[a])},i_(a,b,c){b=dL(this,b);Array.isArray(b)&&(0===a?b.push(c):b.unshift(c),
ZK(this))},Uaa(a,b){b=dL(this,b);Array.isArray(b)&&(0===a?b.pop():b.shift(),ZK(this))},d9(a,b,c){b=dL(this,b);Array.isArray(b)&&(b.splice(c,0,a),ZK(this))},uba(a,b,c){b=dL(this,b);Array.isArray(b)&&0<a&&(b.splice(c,a),ZK(this))}};
self.B.j.Id.Qa={Zea(){try{return JSON.stringify(this.nf)}catch(a){return""}},m0(){try{return JSON.stringify(this.nf,null,4)}catch(a){return""}},T(a){return gL(dL(this,a))},aX(a){a=dL(this,a);return JSON.stringify(a)},$W(a){a=dL(this,a);return JSON.stringify(a,null,4)},XW(a){a=dL(this,a);return Array.isArray(a)?gL(a[0]):-1},SV(a){a=dL(this,a);return Array.isArray(a)?(a=a.at(-1),gL(a)):-1},Je(a){return fL(this,a)},NV(a){a=dL(this,a);return Array.isArray(a)?a.length:-1},raa(){return this.Zk.map(a=>a.replace(/\./g,
"\\.")).join(".")},l7(){return this.kD},n7(){return gL(this.uy)},m7(){return eL(this.uy)}};"use strict";const mL=self.B;mL.j.Gd=class extends mL.uh{constructor(a){super(a)}m(){super.m()}};const nL=self.B;nL.j.Gd.Je=class extends nL.Ng{constructor(a){super(a)}m(){super.m()}nc(){}};const oL=self.B,pL=self.Nc;function rI(a,b){oL.vQ(b,ArrayBuffer);a.Rb=b;qL(a)}function qL(a){const b=a.Rb;a.$f=new DataView(b);a.ur=new Uint8Array(b);rL(a)}function sL(a,b){a=a.Xi();return 0>b?0:b>=a?a:b}
function rL(a){a.xr&&(a.kJ=!0)}function tL(a,b){return b?(a=yz(b,a.ia))?L(a):null:null}function uL(a,b,c){const d=a.KR[b][1];return 0<=c&&c+a.KR[b][0]<=a.Xi()?d(c):0}
function vL(a){const b=g=>g<c?a[g]:(e++,0),c=a.length,d=[];let e=0,f=0;for(;f<c;){const g=(b(f++)<<16)+(b(f++)<<8)+b(f++);d.push("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"[g>>>18&63],"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"[g>>>12&63],"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"[g>>>6&63],"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"[g&63])}for(f=d.length-e;f<d.length;)d[f++]="=";return d.join("")}
function wL(a){var b=a.indexOf("="),c=a.length,d=c>>2<<2,e=-1<b?c-b:0;if(2<e)throw Error("Invalid padding");let f=c;d===b?f=d-e:0===c-d&&-1<b&&(f-=e);b=3*f>>2;c=new Uint8Array(b);let g=0;d=0;for(e=()=>{if(g>=f)return 0;const h=a.charCodeAt(g++);if(64<h&&91>h)return h-65;if(96<h&&123>h)return h-71;if(47<h&&58>h)return h+4;if(43===h)return 62;if(47===h)return 63;if(61===h)return 0;throw Error(`Invalid character at column ${g-1}`);};d<b;){const h=(e()<<18)+(e()<<12)+(e()<<6)+e();d<b&&(c[d++]=h>>>16&
255);d<b&&(c[d++]=h>>>8&255);d<b&&(c[d++]=h&255)}return c}
oL.j.Gd.Instance=class extends oL.kk{constructor(a,b){super(a);this.Rb=new ArrayBuffer(0);this.ur=this.$f=null;this.Fi=0===b[0];this.xr="";this.kJ=!1;this.kF=[[1,(c,d)=>this.$f.setInt8(c,d)],[1,(c,d)=>this.$f.setUint8(c,d)],[2,(c,d)=>this.$f.setInt16(c,d,this.Fi)],[2,(c,d)=>this.$f.setUint16(c,d,this.Fi)],[4,(c,d)=>this.$f.setInt32(c,d,this.Fi)],[4,(c,d)=>this.$f.setUint32(c,d,this.Fi)],[4,(c,d)=>this.$f.setFloat32(c,d,this.Fi)],[8,(c,d)=>this.$f.setFloat64(c,d,this.Fi)]];this.KR=[[1,c=>this.$f.getInt8(c)],
[1,c=>this.$f.getUint8(c)],[2,c=>this.$f.getInt16(c,this.Fi)],[2,c=>this.$f.getUint16(c,this.Fi)],[4,c=>this.$f.getInt32(c,this.Fi)],[4,c=>this.$f.getUint32(c,this.Fi)],[4,c=>this.$f.getFloat32(c,this.Fi)],[8,c=>this.$f.getFloat64(c,this.Fi)]];qL(this)}Xi(){return this.Rb.byteLength}ge(){return self.QB}};const xL=new WeakMap;self.QB=class extends pL{constructor(){super();xL.set(this,L(pL.Rl()))}};const yL=self.B;
yL.j.Gd.D={L6(a,b){return yL.compare(this.Xi(),a,b)},qW(a,b,c,d){return yL.compare(uL(this,a,b),c,d)},oP(){return!0},nP(){return!0},qP(){return!0},pP(){return!0}};const zL=self.B,AL=["deflate","gzip"];
zL.j.Gd.xa={$ca(a){this.Fi=0===a},F_(a){var b=this.Rb;if(!(b instanceof ArrayBuffer))throw new TypeError("Source must be an instance of ArrayBuffer");a<=b.byteLength?a=b.slice(0,a):(b=new Uint8Array(b),a=new Uint8Array(new ArrayBuffer(a)),a.set(b),a=a.buffer);this.Rb=a;qL(this)},hda(a){try{const b=wL(a);rI(this,b.buffer)}catch(b){console.warn("[BinaryData] Invalid base64 string: ",b)}},ida(a){a=tL(this,a);null!==a&&rI(this,a.Rb.slice(0))},C_(a){a=a.normalize();a=(new TextEncoder("utf-8")).encode(a).buffer;
rI(this,a)},M7(a,b,c,d){const e=this.kF[a][1];a=this.kF[a][0];c=sL(this,c);d=-1===d?this.Xi():sL(this,c+d);if(!(d<=c)){for(d=c+Math.floor((d-c)/a)*a;c<d;c+=a)e(c,b);rL(this)}},rw(a,b,c,d){a=tL(this,a);if(null!==a){var e=this.Xi();d=0>d?0:d>e?e:d;b=sL(a,b);c=-1===c?a.Xi():sL(a,b+c);if(!(c<=b)){e=this.Xi();if(d+c-b>e&&(c=b+(e-d),c<=b))return;a===this?this.ur.copyWithin(d,b,c):(b=new Uint8Array(a.Rb,b,c-b),this.ur.set(b,d));rL(this)}}},pe(a,b,c){const d=this.kF[a][1];0<=c&&c+this.kF[a][0]<=this.Xi()&&
(d(c,b),rL(this))},async uW(a){a=AL[a];try{const b=new CompressionStream(a),c=(new Blob([this.Rb])).stream().pipeThrough(b),d=await (new Response(c)).arrayBuffer();rI(this,d);await this.nb(zL.j.Gd.D.oP)}catch(b){console.error(`[Binary data] Error compressing data as '${a}': `,b),await this.nb(zL.j.Gd.D.nP)}},async zW(a){a=AL[a];try{const b=new DecompressionStream(a),c=(new Blob([this.Rb])).stream().pipeThrough(b),d=await (new Response(c)).arrayBuffer();rI(this,d);await this.nb(zL.j.Gd.D.qP)}catch(b){console.error(`[Binary data] Error decompressing data as '${a}': `,
b),await this.nb(zL.j.Gd.D.pP)}}};const BL={d4:0,e5:1,b4:2,c5:3,c4:4,d5:5,H3:6,I3:7};
self.B.j.Gd.Qa={Kq(){this.kJ&&(this.xr&&(URL.revokeObjectURL(this.xr),this.xr=""),this.kJ=!1);this.xr||(this.xr=URL.createObjectURL(new Blob([this.ur],{type:""})));return this.xr},cX(){return vL(this.ur)},Xi(){return this.Xi()},p8(a){return uL(this,BL.d4,a)},t8(a){return uL(this,BL.e5,a)},n8(a){return uL(this,BL.b4,a)},r8(a){return uL(this,BL.c5,a)},o8(a){return uL(this,BL.c4,a)},s8(a){return uL(this,BL.d5,a)},l8(a){return uL(this,BL.H3,a)},m8(a){return uL(this,BL.I3,a)},Tw(a,b){let c="";if(0<=a&&
a+b<=this.Xi()){a=this.ur.subarray(a,a+b);try{c=(new TextDecoder("utf-8")).decode(a)}catch(d){console.warn("[Binary data] Failed to decode text: ",d)}}return c},ZW(){try{var a=this.ur;return(new TextDecoder("utf-8")).decode(a)}catch(b){return console.warn("[Binary data] Failed to decode text: ",b),""}}};function Y(a,b){return"string"===typeof a||"string"===typeof b?("number"===typeof a?(Math.round(1E10*a)/1E10).toString():a)+("number"===typeof b?(Math.round(1E10*b)/1E10).toString():b):a&&b?1:0}
self.cW=[()=>"\u041f\u0440\u0438\u043b\u043e\u0436\u0435\u043d\u0438\u0435 \u0437\u0430\u043f\u0443\u0449\u0435\u043d\u043e!",()=>"main.css",()=>"\u041f\u043e\u043b\u0443\u0447\u0435\u043d\u0438\u0435 \u0444\u0430\u0439\u043b\u0430 \u0441 \u043f\u0430\u0440\u043e\u043b\u0435\u043c...",()=>"password",()=>"password.txt",()=>"\u0424\u0430\u0439\u043b \u0441 \u043f\u0430\u0440\u043e\u043b\u0435\u043c \u0431\u044b\u043b \u0443\u0441\u043f\u0435\u0448\u043d\u043e \u0437\u0430\u0433\u0440\u0443\u0436\u0435\u043d!",
a=>{const b=U(a,0).Eb();return()=>b()},()=>"\u041f\u043e\u043b\u0443\u0447\u0435\u043d\u0438\u0435 \u0438\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u0438...",()=>"info",()=>"info.bin",()=>"\u041e\u0448\u0438\u0431\u043a\u0430 \u0437\u0430\u0433\u0440\u0443\u0437\u043a\u0438 \u0444\u0430\u0439\u043b\u0430 \u0441 \u043f\u0430\u0440\u043e\u043b\u0435\u043c, \u0442\u0440\u0435\u0431\u0443\u0435\u0442\u0441\u044f \u0432\u0432\u0435\u0441\u0442\u0438 \u043f\u0430\u0440\u043e\u043b\u044c \u0432\u0440\u0443\u0447\u043d\u0443\u044e!",
()=>"\u041f\u043e\u043b\u0443\u0447\u0435\u043d\u0438\u0435 \u0438\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u0438... 50%",()=>"info2",()=>"\u041f\u043e\u043b\u0443\u0447\u0435\u043d\u0438\u0435 \u0438\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u0438... 100%",()=>"\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u043e\u043b\u0443\u0447\u0435\u043d\u0438\u044f \u0438\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u0438!",()=>"\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u043e\u043b\u0443\u0447\u0435\u043d\u0438\u044f \u0438\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u0438, \u043f\u0435\u0440\u0435\u0437\u0430\u043f\u0443\u0441\u0442\u0438\u0442\u0435 \u043f\u0440\u0438\u043b\u043e\u0436\u0435\u043d\u0438\u0435...",
()=>"\u041d\u0430\u0436\u0430\u0442\u0430 \u043a\u043d\u043e\u043f\u043a\u0430 \u043d\u0430\u0447\u0430\u043b\u0430, \u043f\u0435\u0440\u0435\u0445\u043e\u0434\u0438\u043c \u043d\u0430 \u0433\u043b\u0430\u0432\u043d\u044b\u0439 \u043c\u0430\u043a\u0435\u0442...",()=>"Start",()=>"\u0413\u043b\u0430\u0432\u043d\u044b\u0439 \u043c\u0430\u043a\u0435\u0442 \u0437\u0430\u043f\u0443\u0449\u0435\u043d!",()=>"\u0420\u0430\u0441\u0448\u0438\u0444\u0440\u043e\u0432\u043a\u0430 \u0438\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u0438...",
a=>{const b=U(a,0);return()=>S(b)},()=>"width",a=>{const b=U(a,0);return()=>S(b)+"px"},()=>".video-container",()=>"height",()=>"auto",()=>"\u0420\u0430\u0441\u043f\u0430\u043a\u043e\u0432\u043a\u0430 \u0438\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u0438...",()=>5,()=>"\u041d\u0435\u0432\u0435\u0440\u043d\u044b\u0439 \u043f\u0430\u0440\u043e\u043b\u044c!",()=>1,()=>"\u0427\u0442\u0435\u043d\u0438\u0435 \u0438\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u0438...",a=>{const b=U(a,0).Eb(),
c=U(a,1);return()=>b(S(c))},()=>"\u0418\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u044f \u0443\u0441\u043f\u0435\u0448\u043d\u043e \u043f\u043e\u043b\u0443\u0447\u0435\u043d\u0430!",a=>{const b=U(a,0).Ya;return()=>b.Ba()},()=>"\u041f\u0440\u043e\u0438\u0437\u043e\u0448\u043b\u0430 \u043d\u0435\u043f\u0440\u0435\u0434\u0432\u0438\u0434\u0435\u043d\u043d\u0430\u044f \u043e\u0448\u0438\u0431\u043a\u0430 \u0440\u0430\u0441\u043f\u0430\u043a\u043e\u0432\u043a\u0438!",()=>"\u041f\u0440\u043e\u0438\u0437\u043e\u0448\u043b\u0430 \u043d\u0435\u043f\u0440\u0435\u0434\u0432\u0438\u0434\u0435\u043d\u043d\u0430\u044f \u043e\u0448\u0438\u0431\u043a\u0430 \u043f\u0430\u0440\u0441\u0438\u043d\u0433\u0430!",
()=>"Buttons",()=>0,()=>"FileFunctions",a=>{const b=U(a,0),c=U(a,1).Ya;return()=>S(b,c.Ba())},a=>{const b=U(a,0).Ya;return()=>Y("\u0412\u044b\u0431\u0438\u0440\u0430\u0435\u043c \u0444\u0430\u0439\u043b #",b.Ba())+"..."},a=>{const b=U(a,0),c=U(a,1),d=U(a,2).Ya;return()=>S(b,Y(S(c,d.Ba()),".file"))},a=>{const b=U(a,0).Eb(),c=U(a,1).Eb(),d=U(a,2),e=U(a,3),f=U(a,4).Ya;return()=>b(c(S(d,Y(S(e,f.Ba()),".file")),4))},()=>".png",()=>".jpg",a=>{const b=U(a,0).Eb(),c=U(a,1).Eb(),d=U(a,2),e=U(a,3),f=U(a,4).Ya;
return()=>b(c(S(d,Y(S(e,f.Ba()),".file")),5))},()=>".jpeg",a=>{const b=U(a,0);return()=>Fx(b)},()=>".mp4",a=>{const b=U(a,0).Ya;return()=>b.Ba()/2},a=>{const b=U(a,0),c=U(a,1).Ya;return()=>Y(S(b,c.Ba()),".deleted")},a=>{const b=U(a,0).Eb();return()=>b('<div class="{0}">{1}</div>',"deleted-text","\u0423\u0414\u0410\u041b\u0415\u041d\u041e!")},()=>"",()=>.1,()=>"\u0412\u044b\u0431\u0438\u0440\u0430\u0435\u043c \u0441\u043b\u0443\u0447\u0430\u0439\u043d\u044b\u0439 \u0444\u0430\u0439\u043b...",a=>{const b=
U(a,0).Eb(),c=U(a,1).Eb(),d=U(a,2);return()=>b(c(0,S(d,"")-1))},a=>{const b=U(a,0).Ya;return()=>b.Ba()+".deleted"},a=>{const b=U(a,0),c=U(a,1).Ya;return()=>Y("\u0412\u044b\u0431\u0440\u0430\u043d \u0444\u0430\u0439\u043b ",S(b,c.Ba()+".file"))},()=>"\u0421\u043a\u0440\u044b\u0432\u0430\u0435\u043c \u0441\u0442\u0430\u0440\u044b\u0435 \u0432\u0438\u0434\u0435\u043e/\u0438\u0437\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u0438\u044f...",()=>-5E3,()=>-9999,()=>"Images",a=>{const b=U(a,0),c=U(a,1);return()=>
Y("\u0418\u0437\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u0438\u0435 ",S(b,Y(Fx(c),".file")))+" \u0431\u044b\u043b\u043e \u0443\u0441\u043f\u0435\u0448\u043d\u043e \u0441\u043e\u0445\u0440\u0430\u043d\u0435\u043d\u043e \u0432 \u043a\u044d\u0448\u0435!"},()=>1920,()=>1080,a=>{const b=U(a,0),c=U(a,1).Eb(),d=U(a,2).Eb(),e=U(a,3),f=U(a,4),g=U(a,5).Eb(),h=U(a,6),k=U(a,7);return()=>S(b)*c(d(S(e))/S(f),g(S(h))/S(k))},a=>{const b=U(a,0).Ya,c=U(a,1);return()=>b.Ba()/2-S(c)/2},a=>{const b=U(a,0),c=U(a,1);
return()=>Y("\u041f\u0440\u0438 \u0441\u043e\u0445\u0440\u0430\u043d\u0435\u043d\u0438\u0438 \u0438\u0437\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u0438\u044f ",S(b,Y(Fx(c),".file")))+" \u0432 \u043a\u044d\u0448 \u043f\u0440\u043e\u0438\u0437\u043e\u0448\u043b\u0430 \u043e\u0448\u0438\u0431\u043a\u0430!"},()=>"SuccessfulBinFile",()=>"CashFiles",()=>2,a=>{const b=U(a,0),c=U(a,1),d=U(a,2).Ya;return()=>Y("\u041a\u044d\u0448\u0438\u0440\u0443\u0435\u043c \u0444\u0430\u0439\u043b ",S(b,Y(S(c,d.Ba()),
".file")))+" \u0437\u0430\u0434\u0438..."},a=>{const b=U(a,0).Eb(),c=U(a,1);return()=>2*b(S(c))},a=>{const b=U(a,0),c=U(a,1).Ya,d=U(a,2).Eb(),e=U(a,3);return()=>S(b,c.Ba()-2*d(S(e)))},a=>{const b=U(a,0);return()=>Y("Image",Fx(b))},a=>{const b=U(a,0).Eb(),c=U(a,1);return()=>b(S(c))-1},a=>{const b=U(a,0),c=U(a,1),d=U(a,2).Ya;return()=>Y("\u041a\u044d\u0448\u0438\u0440\u0443\u0435\u043c \u0444\u0430\u0439\u043b ",S(b,Y(S(c,d.Ba()),".file")))+" \u0441\u043f\u0435\u0440\u0435\u0434\u0438..."},a=>{const b=
U(a,0),c=U(a,1).Ya;return()=>S(b,c.Ba()+1)},a=>{const b=U(a,0).Eb(),c=U(a,1);return()=>2*b(S(c))-1},a=>{const b=U(a,0),c=U(a,1).Ya,d=U(a,2).Eb(),e=U(a,3);return()=>S(b,c.Ba()-2*d(S(e))+1)},a=>{const b=U(a,0),c=U(a,1),d=U(a,2).Ya;return()=>Y("\u0424\u0430\u0439\u043b ",S(b,Y(S(c,d.Ba()),".file")))+" \u0431\u044b\u043b \u0443\u0441\u043f\u0435\u0448\u043d\u043e \u0441\u043e\u0445\u0440\u0430\u043d\u0451\u043d \u0432 \u043a\u044d\u0448!"},a=>{const b=U(a,0).Eb(),c=U(a,1),d=U(a,2).Eb(),e=U(a,3);return()=>
.001<=b(S(c))?d(S(e)):.001},()=>.5,a=>{const b=U(a,0).Eb(),c=U(a,1).Eb(),d=U(a,2),e=U(a,3).Ya;return()=>b(c(S(d,Y(e.Ba(),".file")),4))},a=>{const b=U(a,0).Eb(),c=U(a,1).Eb(),d=U(a,2),e=U(a,3).Ya;return()=>b(c(S(d,Y(e.Ba(),".file")),5))},()=>"Main",a=>{const b=U(a,0).Ya;return()=>Y("Image",b.Ba())},a=>{const b=U(a,0).Eb(),c=U(a,1).Ya,d=U(a,2);return()=>b('<video controls loop preload="auto" id="{0}">     <source src="data:video/mp4;base64,{1}" type="video/mp4">     \u0412\u0430\u0448 \u0431\u0440\u0430\u0443\u0437\u0435\u0440 \u043d\u0435 \u043f\u043e\u0434\u0434\u0435\u0440\u0436\u0438\u0432\u0430\u0435\u0442 \u0442\u0435\u0433 <video>. </video>',
Y("V",c.Ba()),S(d))},a=>{const b=U(a,0),c=U(a,1).Ya;return()=>Y("\u041d\u0435\u0438\u0437\u0432\u0435\u0441\u0442\u043d\u044b\u0439 \u0442\u0438\u043f \u0434\u043b\u044f \u0444\u0430\u0439\u043b\u0430: ",S(b,Y(c.Ba(),".file")))},()=>"BinFiles",a=>{const b=U(a,0),c=U(a,1).Ya;return()=>Y("\u041f\u043e\u043b\u0443\u0447\u0430\u0435\u043c \u0431\u0438\u043d\u0430\u0440\u043d\u044b\u0439 \u0444\u0430\u0439\u043b ",S(b,Y(c.Ba(),".file")))+"..."},()=>"SuccessfulBin",()=>"\u0420\u0430\u0441\u0448\u0438\u0444\u0440\u043e\u0432\u044b\u0432\u0430\u0435\u043c \u0431\u0438\u043d\u0430\u0440\u043d\u044b\u0439 \u0444\u0430\u0439\u043b...",
()=>"BinFile",()=>"\u0420\u0430\u0441\u043f\u0430\u043a\u043e\u0432\u044b\u0432\u0430\u0435\u043c \u0431\u0438\u043d\u0430\u0440\u043d\u044b\u0439 \u0444\u0430\u0439\u043b...",a=>{const b=U(a,0),c=U(a,1).Ya;return()=>S(b,Y(c.Ba(),".data"))},a=>{const b=U(a,0).Ya;return()=>Y("\u041f\u043e\u043b\u0443\u0447\u0430\u0435\u043c \u0431\u043b\u043e\u043a \u0434\u0430\u043d\u043d\u044b\u0445 #",b.Ba()+1)+"..."},()=>"Range",a=>{const b=U(a,0),c=U(a,1).Ya,d=U(a,2).Ya,e=U(a,3),f=U(a,4).Ya,g=U(a,5).Ya,h=U(a,
6),k=U(a,7).Ya,l=U(a,8).Ya;return()=>{var m=Y("bytes=",S(b,Y(Y(c.Ba(),".data."),d.Ba())+".pos"))+"-";var n=S(e,Y(Y(f.Ba(),".data."),g.Ba())+".pos");var p=S(h,Y(Y(k.Ba(),".data."),l.Ba())+".size");n="number"===typeof n&&"number"===typeof p?n+p:n;return Y(m,"number"===typeof n?n-1:n)}},()=>"GetBlockData",a=>{const b=U(a,0),c=U(a,1).Ya,d=U(a,2).Ya;return()=>Y("data/",S(b,Y(Y(c.Ba(),".data."),d.Ba())+".hash"))+".bin"},()=>"SuccessfulBlockData",a=>{const b=U(a,0).Ya;return()=>Y("\u0411\u043b\u043e\u043a \u0434\u0430\u043d\u043d\u044b\u0445 #",
b.Ba()+1)+" \u043f\u043e\u043b\u0443\u0447\u0435\u043d!"},a=>{const b=U(a,0).Ya,c=U(a,1);return()=>b.Ba()+S(c)},()=>-1,a=>{const b=U(a,0).Ya;return()=>b.Ba()+1},()=>"GetBlockData2",()=>.2,()=>"Interface",a=>{const b=U(a,0).Ya,c=U(a,1),d=U(a,2).Ya,e=U(a,3),f=U(a,4),g=U(a,5).Ya;return()=>Y(Y("#",b.Ba())+" INDEX ",S(c,d.Ba()))+"\n\n"+S(e,S(f,g.Ba()).toString())},a=>{const b=U(a,0),c=U(a,1),d=U(a,2).Ya;return()=>S(b,S(c,d.Ba()))},()=>"application/json",a=>{const b=U(a,0).Eb(),c=U(a,1),d=U(a,2),e=U(a,
3).Ya,f=U(a,4).Eb(),g=U(a,5),h=U(a,6),k=U(a,7).Ya,l=U(a,8).Eb(),m=U(a,9).Eb(),n=U(a,10),p=U(a,11),q=U(a,12).Ya,u=U(a,13).Eb(),r=U(a,14),t=U(a,15),v=U(a,16).Ya;return()=>b(S(c,Y(S(d,e.Ba()),".file")),f(S(g,Y(S(h,k.Ba()),".file")))-l(m(S(n,Y(S(p,q.Ba()),".file")),u(S(r,Y(S(t,v.Ba()),".file")),"."),".")))+".json"},a=>{const b=U(a,0);return()=>S(b,"\n")},()=>"text/plain",()=>"Logs.txt",()=>"Info.json",()=>2E6,()=>"EncryptInfo",()=>"\u041f\u0440\u043e\u0438\u0437\u043e\u0448\u043b\u0430 \u043e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u0443\u043f\u0430\u043a\u043e\u0432\u043a\u0435 \u0438\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u0438!",
()=>"Info.bin",()=>"\u041f\u0440\u043e\u0438\u0437\u043e\u0448\u043b\u0430 \u043e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u0448\u0438\u0444\u0440\u043e\u0432\u0430\u043d\u0438\u0438 \u0438\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u0438!",a=>{const b=U(a,0),c=U(a,1).Ya;return()=>Y(S(b,c.Ba()),".file")},a=>{const b=U(a,0).Eb(),c=U(a,1).Eb(),d=U(a,2);return()=>b(c(S(d),'[\\\\\\\\:*?"<>|]',"g",""),228)},()=>"[]",a=>{const b=U(a,0);return()=>S(b,"")},a=>{const b=U(a,0).Eb();return()=>
Y(b(),".deleted")},a=>{const b=U(a,0),c=U(a,1).Eb();return()=>S(b,c().toString())},a=>{const b=U(a,0);return()=>(S(b,"")-1).toString()},a=>{const b=U(a,0).Eb(),c=U(a,1).Eb(),d=U(a,2).Ya;return()=>b(c())+" "+d.Ba()},()=>1E4];const Z=self.B;
self.fO=function(){return[Z.j.Yj,Z.j.li,Z.j.Text,Z.j.De,Z.j.Za,Z.j.gamepad,Z.j.Keyboard,Z.j.xd,Z.j.Wi,Z.j.Date,Z.j.hc,Z.j.HTMLElement,Z.j.Id,Z.j.Gd,Z.j.Ma.D.zP,Z.j.Za.xa.rH,Z.j.De.xa.Request,Z.j.De.D.mP,Z.j.li.xa.Ql,Z.j.De.Qa.BY,Z.j.De.D.vP,Z.j.De.xa.G_,Z.j.Za.xa.KV,Z.j.Yj.D.Jt,Z.j.Yj.xa.qe,Z.j.li.xa.qe,Z.j.Ma.xa.xX,Z.j.Ma.D.Ft,Z.j.xd.xa.AW,Z.j.li.Qa.Text,Z.j.Yj.D.nY,Z.j.Za.xa.A_,Z.j.Ma.D.rO,Z.j.xd.D.sP,Z.j.Gd.xa.zW,Z.j.xd.D.rP,Z.j.Ma.D.rW,Z.j.Ma.xa.IV,Z.j.Gd.D.qP,Z.j.Id.xa.Lt,Z.j.Gd.Qa.ZW,Z.j.Id.D.kY,
Z.j.Ma.xa.I_,Z.j.Ma.Qa.a4,Z.j.Gd.D.pP,Z.j.Id.D.uH,Z.j.Id.xa.x_,Z.j.Keyboard.D.wP,Z.j.gamepad.D.oZ,Z.j.Ma.xa.b0,Z.lk.MY,Z.lk.NY,Z.lk.OY,Z.lk.PY,Z.lk.QY,Z.lk.RY,Z.lk.SY,Z.lk.TY,Z.lk.UY,Z.j.Wi.D.wW,Z.j.Wi.Qa.Bf,Z.j.Id.Qa.T,Z.j.Ma.D.nW,Z.j.Ma.Qa.t4,Z.j.Ma.Qa.right,Z.j.Ma.D.a_,Z.j.hc.xa.qe,Z.j.HTMLElement.xa.eQ,Z.j.HTMLElement.xa.qe,Z.lk.VY,Z.j.Id.D.lY,Z.j.HTMLElement.xa.z_,Z.j.Ma.Qa.S4,Z.j.HTMLElement.xa.k_,Z.j.Ma.xa.ZH,Z.j.Ma.D.F0,Z.j.Ma.Qa.random,Z.j.Id.Qa.NV,Z.j.Id.D.BX,Z.j.Ma.xa.$_,Z.j.Wi.xa.Ra,Z.j.Wi.D.pW,
Z.j.Wi.xa.La,Z.j.hc.Qa.AQ,Z.j.HTMLElement.Qa.AQ,Z.lk.WY,Z.j.hc.D.vH,Z.j.hc.xa.uc,Z.j.hc.Qa.zQ,Z.j.Ma.Qa.min,Z.j.hc.Qa.HO,Z.j.hc.D.sW,Z.j.hc.D.oW,Z.j.hc.xa.eQ,Z.j.hc.D.FP,Z.j.Ma.xa.uQ,Z.j.hc.xa.HY,Z.j.Gd.Qa.Kq,Z.j.hc.xa.HV,Z.j.hc.xa.oO,Z.j.HTMLElement.xa.oO,Z.j.Ma.Qa.G3,Z.j.Ma.xa.jO,Z.j.Ma.D.b_,Z.j.hc.xa.cQ,Z.j.hc.xa.w_,Z.j.HTMLElement.xa.cQ,Z.j.Gd.Qa.cX,Z.j.Gd.xa.F_,Z.j.Ma.xa.rC,Z.j.De.xa.D_,Z.j.Gd.Qa.Xi,Z.j.Gd.xa.rw,Z.j.Za.xa.ax,Z.j.Id.Qa.$W,Z.j.Za.xa.gY,Z.j.Ma.Qa.left,Z.j.Ma.Qa.iw,Z.j.Ma.Qa.V4,
Z.j.Ma.Qa.W4,Z.j.Id.xa.y_,Z.j.Wi.Qa.yY,Z.j.Id.Qa.m0,Z.j.Gd.xa.C_,Z.j.Gd.xa.uW,Z.j.Gd.D.oP,Z.j.xd.xa.HW,Z.j.Gd.D.nP,Z.j.xd.D.uP,Z.j.xd.D.tP,Z.j.Id.xa.pe,Z.j.li.D.Cc,Z.j.Ma.Qa.J4,Z.j.Ma.D.o_,Z.j.Ma.Qa.s4,Z.j.Id.xa.i_,Z.j.Id.Qa.aX,Z.j.Id.xa.E_,Z.j.Za.D.qY,Z.j.Za.xa.eW,Z.j.Za.xa.p_,Z.j.Za.D.lP,Z.j.Za.xa.jW,Z.j.Date.Qa.n0,Z.j.Date.Qa.$Y]};
self.dW=[{K_:0},{S_:0},{U_:0},{O_:0},{P_:0},{Q_:0},{R_:0},{M_:0},{L_:0},{N_:0},{FY:0},{T_:0},{V_:0},{De:0},{Za:0},{Gamepad:0},{Keyboard:0},{xd:0},{JY:0},{Date:0},{YX:0},{$X:0},{fY:0},{aY:0},{bY:0},{cY:0},{dY:0},{eY:0},{ZX:0},{File:0},{Image:0},{t0:0},{BW:0},{Error:0},{VX:0},{ZV:0},{YY:0},{iW:0},{CY:0},{YV:0},{XV:0},{hW:0},{Ifa:0},{A8:0},{K8:0},{D8:0},{C8:0},{Fca:0},{J7:0},{K7:0},{b7:0},{E5:0},{nQ:0},{Kfa:0},{X9:0},{Y9:0},{P5:0},{Z8:0},{taa:0},{y$:0}];
self.h9={K_:class extends self.hi{},S_:class extends self.hi{},U_:class extends self.hi{},O_:class extends self.Gl{},P_:class extends self.Gl{},Q_:class extends self.Gl{},R_:class extends self.Gl{},M_:class extends self.Gl{},L_:class extends self.Gl{},N_:class extends self.Gl{},FY:class extends self.Gl{},T_:class extends self.hi{},V_:class extends self.SO{},De:class extends self.Nc{},Za:class extends self.Nc{},Gamepad:class extends self.Nc{},Keyboard:class extends self.Nc{},xd:class extends self.Nc{},
JY:class extends self.$w{},Date:class extends self.Nc{},YX:class extends self.hi{},$X:class extends self.hi{},fY:class extends self.hi{},aY:class extends self.Gl{},bY:class extends self.hi{},cY:class extends self.hi{},dY:class extends self.hi{},eY:class extends self.hi{},ZX:class extends self.hi{},Image:class extends self.RO{},t0:class extends self.cH{},BW:class extends self.cH{},VX:class extends self.dH{},ZV:class extends self.QB{},YY:class extends self.$w{},iW:class extends self.$w{},CY:class extends self.$w{},
YV:class extends self.QB{},XV:class extends self.QB{},hW:class extends self.dH{}};self.B.lk={async MY(){document.getElementById("video").playbackRate=.25},async NY(){document.getElementById("video").playbackRate=.5},async OY(){document.getElementById("video").playbackRate=.75},async PY(){document.getElementById("video").playbackRate=1},async QY(){document.getElementById("video").playbackRate=1.25},async RY(){document.getElementById("video").playbackRate=1.5},async SY(){document.getElementById("video").playbackRate=2},async TY(){document.getElementById("video").playbackRate=2.5},
async UY(){document.getElementById("video").playbackRate=3},async VY(a,b){a=document.getElementById("V"+b.nQ);a.setAttribute("autoplay",!0);a.currentTime=0;a.play()},async WY(a,b){a=document.getElementById("V"+b.nQ);a.removeAttribute("autoplay");a.pause()}};
